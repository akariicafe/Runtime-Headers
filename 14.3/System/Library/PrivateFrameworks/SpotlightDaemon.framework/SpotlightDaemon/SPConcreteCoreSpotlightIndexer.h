@class NSMutableArray, NSString, NSMapTable, NSMutableSet, SPCoreSpotlightIndexer, NSObject;
@protocol OS_dispatch_queue, OS_dispatch_source, OS_os_transaction;

@interface SPConcreteCoreSpotlightIndexer : NSObject {
    _Atomic unsigned int _maintenanceOperations;
    int *_cancelPtr;
    BOOL _suspended;
    BOOL _softSuspended;
    BOOL _scheduledStringsCleanup;
    NSMutableSet *_reindexAllDelegateBundleIDs;
    double _lastPreheat;
    double _lastTTLPass;
    unsigned long long _createCount;
}

@property (weak, nonatomic) SPCoreSpotlightIndexer *owner;
@property (nonatomic) struct __SI { } *index;
@property (nonatomic) struct __SIResultQueue { } *resultQueue;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *indexQueue;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *firstUnlockQueue;
@property (retain, nonatomic) NSString *dataclass;
@property (readonly, nonatomic) NSObject<OS_dispatch_source> *indexIdleTimer;
@property (readonly, nonatomic) double idleStartTime;
@property (retain, nonatomic) NSMutableArray *outstandingMaintenance;
@property (readonly, nonatomic) NSMutableSet *knownClients;
@property (readonly, nonatomic) NSMapTable *checkedInClients;
@property (retain, nonatomic) NSObject<OS_os_transaction> *dirtyTransaction;

+ (void)initialize;
+ (id)fetchParentsForItemID:(id)a0 recursively:(BOOL)a1 timeout:(unsigned long long)a2;
+ (id)_stateInfoAttributeNameWithClientStateName:(id)a0;
+ (id)fetchItemForURL:(id)a0;

- (void)shrink:(unsigned long long)a0;
- (void)preheat;
- (void)_expireCorruptIndexFilesWithPath:(id)a0 keepLatest:(BOOL)a1;
- (void)scheduleMaintenance:(id /* block */)a0 description:(id)a1 forDarkWake:(BOOL)a2;
- (void)deleteActionsBeforeTime:(double)a0 completionHandler:(id /* block */)a1;
- (BOOL)_startInternalQueryWithIndex:(struct __SI { } *)a0 query:(id)a1 fetchAttributes:(id)a2 forBundleIds:(id)a3 resultsHandler:(id /* block */)a4;
- (void)coolDown:(id)a0;
- (void)zombifyAllContactItems:(id)a0;
- (void)deleteSearchableItemsSinceDate:(id)a0 forBundleID:(id)a1 completionHandler:(id /* block */)a2;
- (void)cleanupStringsWithActivity:(id)a0 group:(id)a1 shouldDefer:(BOOL *)a2 flags:(int)a3;
- (void)issueDuplicateOidCheck;
- (void).cxx_destruct;
- (void)dirty:(BOOL)a0;
- (void)indexSearchableItems:(id)a0 deleteSearchableItemsWithIdentifiers:(id)a1 clientState:(id)a2 clientStateName:(id)a3 forBundleID:(id)a4 options:(long long)a5 completionHandler:(id /* block */)a6;
- (void)deleteItemsForQuery:(id)a0 bundleID:(id)a1 completionHandler:(id /* block */)a2;
- (void)_addNewClientWithBundleID:(id)a0;
- (void)fetchAttributes:(id)a0 bundleID:(id)a1 identifiers:(id)a2 includeParents:(BOOL)a3 completionHandler:(id /* block */)a4;
- (void)willModifySearchableItemsWithIdentifiers:(id)a0 forBundleID:(id)a1 completionHandler:(id /* block */)a2;
- (void)suspendIndexForDeviceLock;
- (void)performIndexerTask:(id)a0 withIndexDelegatesAndCompletionHandler:(id /* block */)a1;
- (void)_deleteSearchableItemsMatchingQuery:(id)a0 forBundleIds:(id)a1 completionHandler:(id /* block */)a2;
- (void)dealloc;
- (void)issueSplit;
- (void)cleanupStringsWithCompletionHandler:(id /* block */)a0;
- (void)clientDidCheckin:(id)a0 service:(id)a1 completionHandler:(id /* block */)a2;
- (void)changeStateOfSearchableItemsWithUIDs:(id)a0 toState:(long long)a1 forBundleID:(id)a2;
- (void)_setClientState:(id)a0 clientStateName:(id)a1 forBundleID:(id)a2 completionHandler:(id /* block */)a3;
- (void)deleteSearchableItemsWithDomainIdentifiers:(id)a0 forBundleID:(id)a1 completionHandler:(id /* block */)a2;
- (void)finishReindexAll;
- (void)removeExpiredItemsForBundleId:(id)a0 group:(id)a1;
- (void)dirty;
- (void)resumeIndex;
- (void)indexSearchableItems:(id)a0 deleteSearchableItemsWithIdentifiers:(id)a1 clientState:(id)a2 forBundleID:(id)a3 options:(long long)a4 completionHandler:(id /* block */)a5;
- (void)addCompletedBundleIDs:(id)a0 forIndexerTask:(id)a1;
- (void)deleteAllInteractionsWithBundleID:(id)a0 completionHandler:(id /* block */)a1;
- (void)powerStateChanged;
- (void)deleteAllUserActivities:(id)a0 completionHandler:(id /* block */)a1;
- (void)commitUpdates:(id)a0;
- (BOOL)writeDiagnostic:(id)a0 bundleID:(id)a1 identifier:(id)a2;
- (id)_startQueryWithQueryTask:(id)a0 eventHandler:(id /* block */)a1 resultsHandler:(id /* block */)a2;
- (void)_backgroundDeleteItems:(id)a0 bundleID:(id)a1 completionHandler:(id /* block */)a2;
- (void)checkInWithBundleID:(id)a0 completionHandler:(id /* block */)a1;
- (void)startQueryWithQueryTask:(id)a0 startHandler:(id /* block */)a1 eventHandler:(id /* block */)a2 resultsHandler:(id /* block */)a3;
- (int)openIndex:(BOOL)a0;
- (void)ensureOpenIndexFiles;
- (void)startReindexAll;
- (void)_performXPCActivity:(id)a0 name:(id)a1;
- (void)revokeExpiredItems:(id)a0;
- (void)deleteAllSearchableItemsForBundleID:(id)a0 shouldGC:(BOOL)a1 completionHandler:(id /* block */)a2;
- (BOOL)reindexAllStarted;
- (void)performIndexerTask:(id)a0 completionHandler:(id /* block */)a1;
- (void)readyIndex:(BOOL)a0;
- (id)_indexMaintenanceActivityName;
- (int)openIndex:(BOOL)a0 shouldReindexAll:(BOOL)a1;
- (void)fetchLastClientStateForBundleID:(id)a0 clientStateName:(id)a1 completionHandler:(id /* block */)a2;
- (void)_saveCorruptIndexWithPath:(id)a0;
- (void)_fetchAccumulatedStorageSizeForBundleId:(id)a0 completionHandler:(id /* block */)a1;
- (void)indexFinishedDrainingJournal:(id)a0;
- (void)mergeWithCompletionHandler:(id /* block */)a0;
- (void)fetchAttributes:(id)a0 bundleID:(id)a1 identifiers:(id)a2 includeParents:(BOOL)a3 completion:(id /* block */)a4;
- (void)indexFromBundle:(id)a0 personaID:(id)a1 options:(long long)a2 items:(id)a3 itemsText:(id)a4 clientState:(id)a5 clientStateName:(id)a6 deletes:(id)a7 completionHandler:(id /* block */)a8;
- (id)getPropertyForKey:(id)a0;
- (void)deleteItemsForEnumerator:(id)a0 traceID:(long long)a1 bundleID:(id)a2 completionHandler:(id /* block */)a3;
- (void)issueConsistencyCheck;
- (id)initWithQueue:(id)a0 protectionClass:(id)a1 cancelPtr:(int *)a2;
- (id)_indexPath;
- (void)performQueryForCountOfItemsInCategory:(id)a0 completion:(id /* block */)a1;
- (void)setProperty:(id)a0 forKey:(id)a1 sync:(BOOL)a2;
- (id)_cancelIdleTimer;
- (void)fetchAllCompletedBundleIDsForIndexerTask:(id)a0 completionHandler:(id /* block */)a1;
- (void)issueRepair;
- (void)fixupPathTimeouts;
- (void)issueDumpForward:(unsigned long long)a0 completionHandler:(id /* block */)a1;
- (void)deleteSearchableItemsWithPersonaIds:(id)a0 completionHandler:(id /* block */)a1;
- (void)issueDumpReverse:(unsigned long long)a0 completionHandler:(id /* block */)a1;
- (void)mergeWithGroup:(id)a0;
- (void)deleteActionsWithIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (void)closeIndex;
- (void)_appendRervseInfo:(id)a0 dictionary:(id)a1 key:(id)a2 level:(unsigned long long)a3;
- (void)attributesForBundleId:(id)a0 identifier:(id)a1 completion:(id /* block */)a2;
- (void)addClients:(id)a0;
- (void)dumpAllRankingDiagnosticInformationForQuery:(id)a0 withCompletionHandler:(id /* block */)a1;
- (void)indexFinishedDrainingJournal;
- (void)_scheduleStringsCleanupForBundleID:(id)a0;
- (void)issueDefrag:(id)a0;
- (void)updateRankingDates;

@end
