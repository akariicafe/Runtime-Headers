@class CKScheduledUpdater, IMChat, CKFullScreenBalloonViewController, CKViewController, CKTranscriptCollectionView, STLockoutViewController, CKConversation, CKMacToolbarController, NSString, UIProgressView;
@protocol CKCoreTranscriptControllerProtocol, CKCoreChatControllerDelegate;

@interface CKCoreChatController : CKScrollViewController <IMChatSendProgressDelegate, IMSystemMonitorListener>

@property (retain, nonatomic) CKConversation *conversation;
@property (readonly, nonatomic) IMChat *chat;
@property (retain, nonatomic) CKViewController<CKCoreTranscriptControllerProtocol> *collectionViewController;
@property (nonatomic) BOOL initialLayoutComplete;
@property (readonly, nonatomic) double balloonMaxWidth;
@property (readonly, nonatomic) double gradientBottomPlaceholderHeight;
@property (nonatomic) BOOL ignoreLastBalloonVisibleInMarkAsReadCheck;
@property (retain, nonatomic) CKScheduledUpdater *refreshServiceForSendingUpdater;
@property (retain, nonatomic) UIProgressView *progressBar;
@property (nonatomic, getter=isSendingMessage) BOOL sendingMessage;
@property (nonatomic) double sendProgress;
@property (nonatomic) unsigned long long sendProgressSendCount;
@property (nonatomic) unsigned long long sendProgressTotalCount;
@property (retain, nonatomic) CKFullScreenBalloonViewController *fullScreenBalloonViewController;
@property (nonatomic) long long acknowledgmentToSend;
@property (nonatomic) BOOL disableAnimationsUnderTest;
@property (copy, nonatomic) id /* block */ overrideScrollBlock;
@property (retain, nonatomic) STLockoutViewController *lockoutViewController;
@property (nonatomic) BOOL isShowingLockoutView;
@property (retain, nonatomic) CKMacToolbarController *macToolbarController;
@property (weak, nonatomic) id<CKCoreChatControllerDelegate> delegate;
@property (readonly, nonatomic) CKTranscriptCollectionView *collectionView;
@property (readonly, nonatomic) BOOL shouldDismissAfterSend;
@property (nonatomic) BOOL viewIsVisible;
@property (nonatomic) BOOL transitionedFromComposing;
@property (nonatomic) BOOL userInitiatedTranscriptPush;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (Class)transcriptControllerClass;
+ (Class)_gradientReferenceViewClass;

- (void)significantTimeChange;
- (id)scrollView;
- (void).cxx_destruct;
- (void)systemApplicationWillEnterForeground;
- (void)sendComposition:(id)a0;
- (void)dealloc;
- (void)transcriptCollectionViewController:(id)a0 didSelectItemAtIndexPath:(id)a1;
- (void)transcriptCollectionViewController:(id)a0 didDeselectItemAtIndexPath:(id)a1;
- (void)transcriptCollectionViewController:(id)a0 balloonView:(id)a1 tappedForChatItem:(id)a2;
- (void)transcriptCollectionViewController:(id)a0 balloonView:(id)a1 longPressedForItemWithIndexPath:(id)a2;
- (void)transcriptCollectionViewController:(id)a0 balloonView:(id)a1 doubleTappedItemAtIndexPath:(id)a2;
- (void)transcriptCollectionViewController:(id)a0 balloonView:(id)a1 selectedItemAtIndexPath:(id)a2;
- (void)transcriptCollectionViewController:(id)a0 balloonView:(id)a1 showInlineReplyForItemWithIndexPath:(id)a2;
- (void)transcriptCollectionViewController:(id)a0 balloonViewTitleTappedForItemWithIndexPath:(id)a1;
- (void)viewDidLayoutSubviews;
- (void)transcriptCollectionViewControllerWillInset:(id)a0 targetContentInset:(inout struct UIEdgeInsets { double x0; double x1; double x2; double x3; } *)a1;
- (void)transcriptCollectionViewControllerDidInset:(id)a0;
- (BOOL)transcriptCollectionViewController:(id)a0 balloonView:(id)a1 shouldSelectChatItem:(id)a2;
- (BOOL)transcriptCollectionViewControllerShouldPlayAudio:(id)a0;
- (void)transcriptCollectionViewControllerPlayingAudioDidChange:(id)a0;
- (void)transcriptCollectionViewControllerChatItemsDidChange:(id)a0;
- (void)transcriptCollectionViewControllerWillScrollToBottom:(id)a0;
- (void)transcriptCollectionViewController:(id)a0 collectionViewContentSizeDidChange:(struct CGSize { double x0; double x1; })a1;
- (void)transcriptCollectionViewControllerRestingStateDidChange:(id)a0;
- (void)transcriptCollectionViewControllerReportSpamButtonTapped:(id)a0;
- (void)transcriptCollectionViewControllerWillDisplayLastBalloon:(id)a0;
- (void)transcriptCollectionViewControllerDidInsertAssociatedChatItem:(id)a0;
- (id)traitCollectionForTranscriptCollectionViewController:(id)a0;
- (double)transcriptCollectionViewController:(id)a0 targetAlphaForChatItem:(id)a1;
- (BOOL)transcriptCollectionViewControllerPlaybackForOutgoingEffectsIsAllowed:(id)a0;
- (BOOL)transcriptCollectionViewController:(id)a0 shouldSetupFullscreenEffectUI:(id)a1;
- (BOOL)transcriptCollectionViewControllerShouldLayoutFullscreenEffects:(id)a0;
- (void)viewWillDisappear:(BOOL)a0;
- (BOOL)transcriptCollectionViewController:(id)a0 shouldCleanupFullscreenEffectUI:(id)a1;
- (id)transcriptCollectionViewControllerAdditionalFullscreenEffectViews:(id)a0;
- (void)transcriptCollectionViewController:(id)a0 willBeginImpactEffectAnimationWithSendAnimationContext:(id)a1;
- (void)transcriptCollectionViewController:(id)a0 didEndImpactEffectAnimationWithSendAnimationContext:(id)a1;
- (void)transcriptCollectionViewController:(id)a0 balloonViewDidRequestPresentationStyle:(unsigned long long)a1 forChatItem:(id)a2 allowAllStyles:(BOOL)a3;
- (BOOL)transcriptCollectionViewController:(id)a0 balloonViewDidRequestCommitPayload:(id)a1 forPlugin:(id)a2 allowAllCommits:(BOOL)a3 error:(id *)a4;
- (void)transcriptCollectionViewController:(id)a0 balloonViewDidRequestStartEditingPayload:(id)a1 forPlugin:(id)a2 completionHandler:(id /* block */)a3;
- (BOOL)transcriptCollectionViewController:(id)a0 balloonViewDidRequestCommitSticker:(id)a1 forPlugin:(id)a2 allowAllCommits:(BOOL)a3 error:(id *)a4;
- (void)transcriptCollectionViewController:(id)a0 didTapReplyCountStatusButtonForChatItem:(id)a1;
- (void)_contentSizeCategoryDidChangeNotification:(id)a0;
- (void)loadView;
- (void)_updateTitleAnimated:(BOOL)a0;
- (id)_handleIDsForCurrentConversation;
- (void)parentControllerDidBecomeActive;
- (void)_performResume;
- (void)_dismissFullScreenBubbleViewControllerAnimated:(BOOL)a0 withSendAnimation:(BOOL)a1 completion:(id /* block */)a2;
- (void)_updateNavigationButtons;
- (void)_willSendComposition:(id)a0 inConversation:(id)a1;
- (void)_didSendCompositionInConversation:(id)a0;
- (void)_setConversationDeferredSetup;
- (id)_threadChatItemForReplyCountChatItem:(id)a0 chatItems:(id)a1;
- (void)_updateForNewPreferredService;
- (BOOL)isSafeToMarkAsRead;
- (void)_localeDidChangeNotification:(id)a0;
- (void)_markAsReadIfNecessary;
- (void)registerNotificationsForConversation:(id)a0;
- (void)_displayNameUpdatedNotification:(id)a0;
- (void)setupScrollingForKeyboardInteraction;
- (id)initWithConversation:(id)a0;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })fullScreenBalloonViewControllerSafeAreaLayoutFrame:(id)a0;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })fullScreenBalloonViewController:(id)a0 balloonFrameForChatItem:(id)a1;
- (void)fullScreenBalloonViewController:(id)a0 willAppearAnimated:(BOOL)a1;
- (void)fullScreenBalloonViewController:(id)a0 willDisappearWithSendAnimation:(BOOL)a1;
- (void)fullScreenBalloonViewControllerDidDisappear:(id)a0;
- (id)textInputContextIdentifier;
- (BOOL)isInline;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })gradientFrameWithInsets:(struct UIEdgeInsets { double x0; double x1; double x2; double x3; })a0;
- (void)dismissInlineReplyController:(BOOL)a0;
- (void)viewWillAppear:(BOOL)a0;
- (void)fullScreenBalloonViewController:(id)a0 sendMessageAcknowledgment:(long long)a1 forChatItem:(id)a2;
- (void)fullScreenBalloonViewController:(id)a0 didAppearAnimated:(BOOL)a1;
- (void)fullScreenBalloonViewControllerHandleDismissTap:(id)a0;
- (void)systemApplicationDidResume;
- (BOOL)fullScreenBalloonViewControllerShouldShowReplyButton:(id)a0;
- (id)toolbarItemForIdentifier:(id)a0;
- (void)providerWillBeRemovedFromToolbarController:(id)a0;
- (BOOL)itemProviderDisablesTouches;
- (void)setupStateForLaunchURL:(id)a0;
- (BOOL)shouldListParticipantsInTitle;
- (void)_transferFinishedNotification:(id)a0;
- (void)_transferRestoredNotification:(id)a0;
- (void)viewDidAppearDeferredSetup;
- (id)_fullScreenBalloonViewControllerWithChatItem:(id)a0 showActionMenu:(BOOL)a1;
- (void)showFullScreenAcknowledgmentPickerIfNeededForBalloonAtIndexPath:(id)a0 showActionMenu:(BOOL)a1;
- (void)showInlineReplyControllerForChatItem:(id)a0 presentKeyboard:(BOOL)a1;
- (void)showFullScreenAcknowledgmentPickerForChatItem:(id)a0 showActionMenu:(BOOL)a1;
- (BOOL)wantsReplyButton;
- (id)gradientReferenceView;
- (void)registerNotifications;
- (void)viewDidAppear:(BOOL)a0;
- (void)configureWithToolbarController:(id)a0;
- (void)presentMacToolbarController;
- (void)prepareForSuspend;
- (void)refreshServiceForSending;
- (void)_setTitle:(id)a0 animated:(BOOL)a1;
- (void)_handleAddressBookChangedNotification:(id)a0;
- (BOOL)_deviceIsPasscodeLocked;
- (void)_refreshServiceForSending;
- (void)_registerSendProgressDelegate;
- (void)_deregisterSendProgressDelegate;
- (BOOL)_shouldAllowReply;
- (BOOL)_shouldAllowReplyFromLockScreen;
- (BOOL)_conversationHasReplyEnabled;
- (BOOL)conversationAllowedByScreenTime;
- (void)_removeExistingCollectionViewController;
- (void)_handleTapEventForBalloonView:(id)a0 atIndexPath:(id)a1 showActionMenu:(BOOL)a2;
- (void)_handleShowInlineReplyShortcut:(id)a0 atIndexPath:(id)a1;
- (void)_preferredServiceChangedNotification:(id)a0;
- (void)_downgradeStateChangedNotification:(id)a0;
- (void)_refreshActiveChat:(id)a0;
- (void)_increaseContrastDidChangeNotification:(id)a0;
- (void)_chatRegistryDidReloadNotification:(id)a0;
- (void)preferredSendingServiceChanged;
- (void)chat:(id)a0 progressDidChange:(float)a1 sendingMessages:(id)a2 sendCount:(unsigned long long)a3 totalCount:(unsigned long long)a4 finished:(BOOL)a5;
- (void)contentInsetDidChange;
- (void)contentInsetWillChange:(struct UIEdgeInsets { double x0; double x1; double x2; double x3; })a0 animated:(BOOL)a1 duration:(double)a2;
- (void)keyboardWillHideViaGesture;
- (void)parentControllerDidResume:(BOOL)a0 animating:(BOOL)a1;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })_initialFrameForCollectionView;

@end
