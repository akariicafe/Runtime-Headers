@class NSMutableDictionary, BWSphereModeSelector, BWStillImageCaptureStreamSettings, BWStillImageTimeMachine, NSDictionary, BWFigCaptureStream, BWStillImageCaptureSettings, NSMutableArray, NSObject, NSString, NSSet, BWFigCaptureSynchronizedStreamsGroup, BWNoiseReductionAndSharpeningParameters, NSArray, NSData;
@protocol BWFigVideoCaptureStreamDelegate, BWFigVideoCaptureStreamStillImageCaptureDelegate, BWFaceDetector, OS_dispatch_group, BWObjectDetector, OS_dispatch_queue;

@interface BWFigVideoCaptureStream : NSObject <BWFigCaptureStreamStartStopDelegate> {
    BOOL _streamHasBeenSuspended;
    NSString *_portType;
    NSDictionary *_cachedVideoOutputConfigurations;
    NSDictionary *_cachedVideoOutputsEnabled;
    float _minimumFrameRate;
    float _maximumFrameRate;
    float _minimumSupportedFrameRate;
    float _maximumSupportedFrameRate;
    BOOL _rawBufferCompandingEnabled;
    NSDictionary *_supportedProperties;
    NSArray *_supportedFormats;
    long long _activeFormatIndex;
    NSDictionary *_moduleInfo;
    BOOL _usePinholeCameraFocalLengthInIntrinsicMatrixCalculation;
    BOOL _hasFocus;
    NSDictionary *_sensorIDDictionary;
    float _baseZoomFactor;
    float _baseZoomFactorAfterGDC;
    NSDictionary *_opticalCenterOffset;
    NSDictionary *_opticalCenterOffsetCalibratedForBackWideFieldOfView;
    float _pixelSize;
    float _pixelsPerMicron;
    float _gravityFactor;
    NSDictionary *_focusPositionToLensMakersPFLLinearFit;
    NSData *_cameraViewMatrix;
    NSData *_cameraViewMatrixCalibratedForBackWideFieldOfView;
    NSData *_cameraPoseMatrix;
    NSString *_nonLocalizedName;
    BOOL _isSlave;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _cameraAccessLock;
    BOOL _clientProcessHasAccessToCamera;
    int _clientPID;
    NSString *_applicationID;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _sphereLock;
    BOOL _sphereEnabled;
    BOOL _motionDataInvalid;
    BWSphereModeSelector *_sphereModeSelector;
    int _motionDataDeliveryEnabled;
    BOOL _isStationary;
    BOOL _timeMachineEnabled;
    int _timeMachineCapacity;
    BWStillImageTimeMachine *_timeMachine;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _stillImageCaptureStateLock;
    BOOL _grabNextFrame;
    BWStillImageCaptureSettings *_activeResolvedStillImageCaptureSettings;
    BWStillImageCaptureStreamSettings *_activeResolvedStillImageCaptureStreamSettings;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _largestStillImagePTS;
    NSMutableArray *_stillFusionBracketFramesMetadata;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _stillCaptureReferenceFramePTS;
    int _skippedFramesCountForAF;
    int _expectedImagesOrErrorsForCaptureStillImageNow;
    int _receivedImagesOrErrorsForCaptureStillImageNow;
    id /* block */ _stillImageBufferTimeMachineHandler;
    BOOL _stillImageCaptureEnabled;
    NSObject<OS_dispatch_queue> *_streamNotificationDispatchQueue;
    NSObject<OS_dispatch_group> *_stillImageCaptureDelegateDispatchGroup;
    BOOL _objectDetectionMetadataRequested;
    BOOL _defersObjectDetectionStartup;
    NSDictionary *_faceDetectionConfiguration;
    struct OpaqueFigSimpleMutex { } *_objectDetectionConfigurationMutex;
    NSSet *_enabledDetectedObjectTypes;
    BOOL _faceDetectionEnabledSeparately;
    NSMutableDictionary *_currentObjectDetectionConfiguration;
    unsigned int _maxObjects;
    BOOL _synchronizedStreamsEnabled;
    BWFigCaptureSynchronizedStreamsGroup *_synchronizedStreamsGroup;
    int _masterToSlaveFrameRateRatio;
    BOOL _streamingRequiredWhenConfiguredAsSlave;
    int _sensorToOutputFrameRateRatioWhenConfiguredAsSlave;
    NSDictionary *_geometricDistortionCoefficients;
    NSDictionary *_geometricDistortionCoefficientsCalibratedForBackWideFieldOfView;
    BOOL _lumaHistogramMetadataEnabled;
    NSMutableDictionary *_keypointDetectionConfiguration;
    BOOL _keypointDetectionConfigured;
    BOOL _keypointDetectionEnabled;
    BOOL _stillImageKeypointDetectionEnabled;
    BOOL _highlightRecoverySuspended;
    BOOL _highlightRecoveryEnabled;
    BOOL _highlightRecoveryEnabledWhenConfiguredAsMasterOrSingleStream;
    BOOL _highlightRecoveryEnabledWhenConfiguredAsSlave;
    BOOL _videoHDRFusionEnabled;
    BOOL _videoHDRImageStatisticsEnabled;
    BWNoiseReductionAndSharpeningParameters *_stillImageNoiseAndSharpeningParameters;
    BOOL _unifiedBracketingEnabled;
    BOOL _aeStatisticsEnabled;
    BOOL _rawFocusScoresEnabled;
    BOOL _focusBlurMapEnabled;
    BOOL _zeroShutterLagEnabled;
    BOOL _maxExposureDurationHasBeenSet;
    BOOL _variableFrameRateVideoEnabled;
    struct { int width; int height; } _sensorDimensions;
}

@property (readonly) BWFigCaptureStream *stream;
@property (nonatomic) id<BWFigVideoCaptureStreamDelegate> delegate;
@property (readonly) NSString *portType;
@property (readonly) NSArray *supportedFormats;
@property (readonly) NSDictionary *moduleInfo;
@property (readonly) BOOL usePinholeCameraFocalLengthInIntrinsicMatrixCalculation;
@property (readonly) BOOL hasFocus;
@property (readonly) NSString *sensorIDString;
@property (readonly) NSDictionary *sensorIDDictionary;
@property (readonly) NSDictionary *geometricDistortionCoefficients;
@property (readonly) NSDictionary *geometricDistortionCoefficientsCalibratedForBackWideFieldOfView;
@property (readonly) BOOL synchronizedStreamsEnabled;
@property (readonly) NSDictionary *opticalCenterOffset;
@property (readonly) NSDictionary *opticalCenterOffsetCalibratedForBackWideFieldOfView;
@property (readonly) float pixelSize;
@property (readonly) float pixelsPerMicron;
@property (readonly) float focalLength;
@property (readonly) float lensFNumber;
@property (readonly) float gravityFactor;
@property (readonly) NSDictionary *focusPositionToLensMakersPFLLinearFit;
@property (readonly) NSData *cameraViewMatrix;
@property (readonly) NSData *cameraViewMatrixCalibratedForBackWideFieldOfView;
@property (readonly) NSData *cameraPoseMatrix;
@property (readonly) NSString *nonLocalizedName;
@property (nonatomic) float aeMaxGain;
@property (nonatomic) float momentCaptureVideoRecordingAEMaxGain;
@property (nonatomic) struct { long long value; int timescale; unsigned int flags; long long epoch; } maxExposureDurationClientOverride;
@property (nonatomic) struct { long long value; int timescale; unsigned int flags; long long epoch; } maxExposureDurationFrameworkOverride;
@property (readonly, nonatomic) struct { long long x0; int x1; unsigned int x2; long long x3; } maxExposureDuration;
@property (nonatomic) float minimumFrameRate;
@property (nonatomic) float maximumFrameRate;
@property (nonatomic) float maximumSupportedFrameRate;
@property (nonatomic) float minimumSupportedFrameRate;
@property (readonly, nonatomic) BOOL rawBufferCompandingEnabled;
@property (readonly) BOOL hasSphere;
@property (nonatomic) BOOL enablesSphereWhenAvailable;
@property (readonly) BOOL sphereEnabled;
@property (readonly) BOOL sphereVideoSupported;
@property (nonatomic) BOOL sphereVideoEnabled;
@property (nonatomic) BOOL avoidsSphereRecentering;
@property (nonatomic) BOOL depthDataDeliveryEnabled;
@property (nonatomic) int sphereThermalLevel;
@property (nonatomic) BOOL isStationary;
@property (readonly, nonatomic) struct __CFString { } *currentSphereMode;
@property (nonatomic) BOOL motionDataDeliveryEnabled;
@property (readonly) BOOL motionDataInvalid;
@property (nonatomic) BOOL defersObjectDetectionStartup;
@property (readonly, nonatomic) BOOL suspendingSupported;
@property (readonly, nonatomic) BOOL suspended;
@property (readonly, nonatomic) BOOL started;
@property (nonatomic) BOOL stillImageCaptureEnabled;
@property (nonatomic) id<BWFigVideoCaptureStreamStillImageCaptureDelegate> stillImageCaptureDelegate;
@property (nonatomic) BOOL usesStillFusionReferenceFramePTSForDidCaptureCallback;
@property (readonly) int timeMachineCapacity;
@property (nonatomic) BOOL timeMachineEnabled;
@property (copy, nonatomic) id /* block */ stillImageBufferTimeMachineHandler;
@property (readonly, nonatomic) int activeStillImageCaptureType;
@property (readonly, nonatomic) BOOL providesPreBracketedEV0;
@property (readonly, nonatomic) int lastStillImageCaptureType;
@property (readonly, nonatomic) struct { long long value; int timescale; unsigned int flags; long long epoch; } lastStillImagePTS;
@property (readonly, nonatomic) struct { unsigned int val[8]; } clientAuditToken;
@property (readonly, nonatomic) BOOL clientProcessHasAccessToCamera;
@property (readonly, nonatomic, getter=isSynchronizationMaster) BOOL synchronizationMaster;
@property (nonatomic) int masterToSlaveFrameRateRatio;
@property (nonatomic) BOOL streamingRequiredWhenConfiguredAsSlave;
@property (nonatomic) int sensorToOutputFrameRateRatioWhenConfiguredAsSlave;
@property (nonatomic) BOOL firmwareTimeMachineEnabledWhenConfiguredAsSlave;
@property (nonatomic) BOOL keypointDetectionEnabled;
@property (nonatomic) BOOL stillImageKeypointDetectionEnabled;
@property (nonatomic) int multiBandNoiseReductionMode;
@property (nonatomic) BOOL highlightRecoverySuspended;
@property (readonly, nonatomic) BOOL highlightRecoveryEnabled;
@property (nonatomic) BOOL highlightRecoveryEnabledWhenConfiguredAsMasterOrSingleStream;
@property (nonatomic) BOOL highlightRecoveryEnabledWhenConfiguredAsSlave;
@property (nonatomic) BOOL unifiedBracketingEnabled;
@property (nonatomic) BOOL aeStatisticsEnabled;
@property (nonatomic) BOOL rawFocusScoresEnabled;
@property (nonatomic) BOOL focusBlurMapEnabled;
@property (nonatomic) BOOL zeroShutterLagEnabled;
@property (nonatomic) BOOL overCaptureEnabled;
@property (retain, nonatomic) id<BWFaceDetector> faceDetector;
@property (retain, nonatomic) id<BWObjectDetector> objectDetector;
@property (nonatomic) BOOL timeLapseEnabled;
@property (nonatomic) BOOL lowLightVideoEnabled;
@property (nonatomic) BOOL variableFrameRateVideoEnabled;
@property (readonly, nonatomic) int autoFocusPositionSensorMode;
@property float baseZoomFactor;
@property float baseZoomFactorAfterGDC;
@property (nonatomic) BOOL videoHDRImageStatisticsEnabled;
@property (nonatomic) BOOL videoHDRFusionEnabled;
@property (nonatomic) BOOL pixelFormatIsTenBit;
@property (nonatomic) struct { int width; int height; } videoCaptureDimensions;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (void)initialize;

- (id)_aeTables;
- (void)didBecomeSlaveStream;
- (struct { long long x0; int x1; unsigned int x2; long long x3; })_updateMaxExposureDuration;
- (id)noiseReductionAndSharpeningConfigurationForType:(int)a0 gain:(float)a1;
- (void)sourceNodeWillStopStreaming;
- (void)sourceNodeWillDiscardVideoSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (void)sourceNodeFailedToStartStreaming;
- (int)_handleStillImageSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0 withError:(int)a1 fromTimeMachine:(BOOL)a2;
- (void)_updateSuspendStateForInfraredDepthStream;
- (void)sourceNodeWillEmitStillImageQuadraBufferProcessingError:(int)a0;
- (void)willCaptureStillImageFromFirmware;
- (void)failedToCaptureStillImageFromFirmwareWithError:(int)a0;
- (void)willBecomeMasterStream;
- (void)captureStreamDidStop;
- (struct { long long x0; int x1; unsigned int x2; long long x3; })updateMaxExposureDurationClientOverride:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0;
- (void)dealloc;
- (void)sourceNodeDidStartStreaming;
- (id)initWithCaptureStream:(id)a0 attributes:(id)a1 sensorIDDictionary:(id)a2 synchronizedStreamsGroup:(id)a3 applicationID:(id)a4 clientAuditToken:(struct { unsigned int x0[8]; })a5 error:(int *)a6;
- (int)stop;
- (id)_copyOpticalCenterOffsetCalculatedFromProperty:(struct __CFString { } *)a0;
- (int)sourceNodeWillEmitDepthSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (void)_updateAETables;
- (int)multiBandNoiseReductionEnabled;
- (int)sourceNodeWillEmitPointCloudSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (void)sourceNodeWillEmitDetectedFacesSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (void)_updateObjectDetectionEnabledOnStream;
- (void)triggerVisionDataBurst;
- (void)_addStillImageBracketFrameMetadataToSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (void)startupObjectDetectionIfNeeded;
- (int)setSuspended:(BOOL)a0;
- (void)setVisionDataKeypointDetectionThreshold:(float)a0;
- (void)_updateAutoFocusPositionSensorModeForSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (void)prepareForStillImageCaptureFromFirmwareWithStillImageSettings:(id)a0;
- (void)setVisionDataSuspended:(BOOL)a0;
- (void)didBecomeMasterStream;
- (void)_resetStillImageCaptureState;
- (void)captureStillImageFromTimeMachineWithStillImageSettings:(id)a0;
- (void)enableFaceDetection;
- (int)_updateFaceDetectionConfigurationOnStream:(id)a0;
- (void)willBecomeSlaveStream;
- (void)captureStreamDidStart;
- (void)_prepareForStillImageCaptureWithStillImageSettings:(id)a0 fromCMTimeMachine:(BOOL)a1;
- (void)unregisterForObjectDetectionMetadata;
- (void)sourceNodeDidStopStreaming;
- (void)_serviceTimeMachineWithSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (int)start;
- (void)_setRequestedDetectedObjectTypes:(id)a0;
- (long long)activeFormatIndex;
- (void)sourceNodeWillStartStreaming;
- (void)_setHighlightRecoveryEnabled:(BOOL)a0;
- (void)updateAETables;
- (int)setActiveFormatIndex:(long long)a0;
- (void)_updateMotionDataStatus:(struct opaqueCMSampleBuffer { } *)a0;
- (void)_setLowPowerSphereModeEnabled:(BOOL)a0;
- (void)_updateSphereMode;
- (void)setMotionDataInvalid:(BOOL)a0;
- (struct { long long x0; int x1; unsigned int x2; long long x3; })updateMaxExposureDuration;
- (void)_updateMasterSlavePropertiesOnStream;
- (int)sourceNodeWillEmitStillImageSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (void)_configureKeypointDetection;
- (int)sourceNodeWillEmitVideoSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0 drivesCameraControls:(BOOL)a1 deliversStills:(BOOL)a2;
- (void)registerForObjectDetectionMetadata:(id)a0;
- (void)_setMaxExposureDuration:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0;
- (id)bwStream;
- (void)setFaceDetectionConfiguration:(id)a0;
- (int)_setHighlightRecoveryEnabled:(BOOL)a0 highlightRecoverySuspended:(BOOL)a1;

@end
