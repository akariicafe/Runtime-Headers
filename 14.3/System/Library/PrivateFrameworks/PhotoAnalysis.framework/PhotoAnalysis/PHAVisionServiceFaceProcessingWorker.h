@class NSString, PhotoVision, PHAVisionServicePersistenceDelegate, NSMutableDictionary, NSURL;

@interface PHAVisionServiceFaceProcessingWorker : PHAVisionServiceWorker <PVNotificationListener, PVVisionIntegrating, PVPersonPromoterDelegate, PLPhotoAnalysisVisionServiceFaceProcessingProtocol> {
    PhotoVision *_photoVision;
    PHAVisionServicePersistenceDelegate *_persistenceDelegate;
    struct { double startTimeInterval; unsigned long long assetCount; unsigned long long faceCount; unsigned long long clusteringCount; } _analysisStatistics;
    NSMutableDictionary *_state;
    BOOL _disabledByUserDefaults;
    unsigned long long _faceAnalysisOptions;
    unsigned long long _faceIDModelRebuildPeriod;
    NSURL *_suggestionLoggingDirectory;
    BOOL _suggestionLoggingSessionOpen;
    BOOL _suggestionsLoggingEnabled;
    BOOL _clustererNeedsSyncing;
}

@property (nonatomic) unsigned long long incrementalPersonProcessingStage;
@property (nonatomic) BOOL personBuilderMergeCandidatesEnabled;
@property (nonatomic) unsigned long long lastMinimumFaceGroupSizeForCreatingMergeCandidates;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (short)workerType;
+ (BOOL)runsExclusively;
+ (long long)applicationDataFolderIdentifier;

- (BOOL)stopAnalysisJob:(id)a0 error:(id *)a1;
- (void)cooldown;
- (id)initWithPhotoAnalysisManager:(id)a0 dataLoader:(id)a1;
- (void)shutdown;
- (void)faceProcessingStatusForUserInterfaceWithContext:(id)a0 reply:(id /* block */)a1;
- (BOOL)contactClassificationDidExceedTimeInterval;
- (id)_photoVisionAllowingCreation:(BOOL)a0 syncClusterCache:(BOOL)a1 error:(id *)a2;
- (BOOL)shouldProcessContact:(id)a0;
- (void)_closeSuggestionsLoggingSession;
- (BOOL)_needToRunPersonPromoterForScenario:(unsigned long long)a0;
- (void).cxx_destruct;
- (int)_performPersistedFaceAnalysisOfResource:(id)a0 withAttributes:(id)a1 forAsset:(id)a2 error:(id *)a3;
- (BOOL)shouldRebuildFaceIDModel;
- (id)suggestedMeIdentifierWithPersonClusterManager:(id)a0 forPersons:(id)a1 updateBlock:(id /* block */)a2;
- (void)_copyImageAtURLToSuggestionsLoggingSession:(id)a0;
- (id)_persistentStorageDirectoryURLWithPhotoLibrary:(id)a0;
- (void)rebuildPersonsWithContext:(id)a0 reply:(id /* block */)a1;
- (void)processDirtyFaceCrops;
- (void)_appendToSuggestionsLog:(id)a0;
- (BOOL)_setAllFaceGroupsNeedPersonBuilding;
- (void)pingFaceWorkerWithOptions:(id)a0 context:(id)a1 reply:(id /* block */)a2;
- (void)warmupWithProgressBlock:(id /* block */)a0;
- (unsigned long long)_analyzeAsset:(id)a0 withAttributes:(id)a1 usingPVImageProvidedByBlock:(id /* block */)a2 error:(id *)a3;
- (id)keyFaceForPerson:(id)a0 qualityMeasureByFace:(id)a1 updateBlock:(id /* block */)a2;
- (BOOL)_needToRunClusteringJobForScenario:(unsigned long long)a0;
- (id)densityClusteringForObjects:(id)a0 maximumDistance:(double)a1 minimumNumberOfObjects:(unsigned long long)a2 withDistanceBlock:(id /* block */)a3;
- (id)nextAdditionalJobWithScenario:(unsigned long long)a0 requestReason:(unsigned long long)a1;
- (int)_performPersistedFaceAnalysisOfPVImage:(id)a0 withAttributes:(id)a1 forAsset:(id)a2 error:(id *)a3;
- (void)_readState;
- (BOOL)processAsset:(id)a0 error:(id *)a1;
- (id)_faceToFaceCountMapForFaces:(id)a0;
- (id)_pvImageForAssetResourceFileURL:(id)a0 forAsset:(id)a1 error:(id *)a2;
- (void)reclusterFacesWithContext:(id)a0 reply:(id /* block */)a1;
- (void)_resetAnalysisStatistics;
- (id)_loadPersonsModelWithPhotoLibrary:(id)a0;
- (void)markLastBackgroundContactClassificationJobDate;
- (void)setLastMinimumFaceGroupSizeForCreatingMergeCandidate:(unsigned long long)a0;
- (void)requestOnDemandFaceCropsForFaceLocalIdentifiers:(id)a0 context:(id)a1 reply:(id /* block */)a2;
- (void)_performIntermediateVisionCleanup;
- (void)resetFaceClassificationModelWithContext:(id)a0 reply:(id /* block */)a1;
- (BOOL)_generateAndPersistFaceCropsOfUserConfirmedFacesInImage:(id)a0 forAsset:(id)a1 error:(id *)a2;
- (id)sortedPoolOfContactIdentifiersExcludingContactIdentifiers:(id)a0;
- (BOOL)persistPersonModel:(id)a0;
- (BOOL)processDirtyFaceCrop:(id)a0 error:(id *)a1;
- (BOOL)_buildPersonsIncrementally:(BOOL)a0 error:(id *)a1;
- (unsigned long long)analyzeImageData:(id)a0 forAsset:(id)a1 withAttributes:(id)a2 error:(id *)a3;
- (BOOL)shouldReclassifyContacts;
- (void)performFaceProcessingOnAssetWithLocalIdentifier:(id)a0 context:(id)a1 reply:(id /* block */)a2;
- (id)performSocialGroupsIdentifiersWithPersonClusterManager:(id)a0 forPersons:(id)a1 overTheYearsComputation:(BOOL)a2 updateBlock:(id /* block */)a3;
- (void)handlePVNotification:(id)a0;
- (void)requestSuggestedMePersonIdentifierWithContext:(id)a0 reply:(id /* block */)a1;
- (BOOL)faceIDModelLastGenerationDidExceedTimeInterval;
- (BOOL)performPersonBuildingWithCanceler:(id)a0 extendTimeoutBlock:(id /* block */)a1 error:(id *)a2;
- (void)_setStateValue:(id)a0 forKey:(id)a1;
- (BOOL)_promotePersonsWithError:(id *)a0;
- (void)personPromoterStatusWithContext:(id)a0 reply:(id /* block */)a1;
- (void)interruptPhotoVision;
- (void)suggestPersonsForPersonWithLocalIdentifier:(id)a0 toBeConfirmedPersonSuggestions:(id)a1 toBeRejectedPersonSuggestions:(id)a2 context:(id)a3 reply:(id /* block */)a4;
- (void)suggestVerifiedPersonLocalIdentifierForPersonWithLocalIdentifier:(id)a0 context:(id)a1 reply:(id /* block */)a2;
- (void)terminatePhotoVision;
- (void)_finalizeSuggestionsLog;
- (void)_willPerformFaceClustering;
- (BOOL)deletePersonModelWithError:(id *)a0;
- (id)workerStateFileURL;
- (void)resetFaceClusteringStateWithContext:(id)a0 reply:(id /* block */)a1;
- (BOOL)getLocallyAvailableAssetResource:(id *)a0 forAnalyzingAsset:(id)a1 error:(id *)a2;
- (id)bestRepresentativeFaceForPerson:(id)a0 qualityMeasureByFace:(id)a1 canceler:(id)a2;
- (id)personModelPath;
- (void)_performFullVisionCleanup;
- (void)generateFaceIDModelShouldForce:(BOOL)a0 progress:(id)a1 extendTimeoutBlock:(id /* block */)a2;
- (BOOL)_needToRunPersonBuildingJobForScenario:(unsigned long long)a0;
- (void)validateClusterCacheWithContext:(id)a0 reply:(id /* block */)a1;
- (int)_faceWorkerTasksToPerformOnAsset:(id)a0 accordingToAnalysisAttributes:(id)a1;
- (BOOL)_updateFaceCropFace:(id)a0 withFaceprintForFaceCrop:(id)a1 createFaceTorsoprint:(BOOL)a2 error:(id *)a3;
- (id)generateFaceCropForFaceCropSourceDescriptors:(id)a0;
- (id)_facesRequiringFaceCropGenerationForAsset:(id)a0 error:(id *)a1;
- (id)_pvImageForAssetResource:(id)a0 asset:(id)a1 error:(id *)a2;
- (void)faceCandidatesforKeyFaceForPersonsWithLocalIdentifiers:(id)a0 context:(id)a1 reply:(id /* block */)a2;
- (void)_didPerformFaceClustering;
- (BOOL)hasStandaloneJobsForScenario:(unsigned long long)a0;
- (void)processPersonsWithContext:(id)a0 reply:(id /* block */)a1;
- (id)_suggestionsForPersonLocalIdentifier:(id)a0 clusterSequenceNumbers:(id)a1 excludePersonLocalIdentifiers:(id)a2 operation:(id)a3 context:(id)a4 error:(id *)a5;
- (BOOL)_needsToRunContactClassificationForScenario:(unsigned long long)a0;
- (BOOL)_validateAsset:(id)a0 error:(id *)a1;
- (id)_analyzePVImage:(id)a0 forAsset:(id)a1 withAttributes:(id)a2 error:(id *)a3;
- (id)fetchPersonsForFaceIDModel;
- (BOOL)_resetFaceClusteringStateWithContext:(id)a0 error:(id *)a1;
- (unsigned long long)analyzeAssetResourceFileAtURL:(id)a0 forAsset:(id)a1 withAttributes:(id)a2 error:(id *)a3;
- (BOOL)classifyContactsWithProgress:(id)a0 extendTimeoutBlock:(id /* block */)a1;
- (BOOL)_clusterFacesWithPhotoVision:(id)a0 incrementally:(BOOL)a1 error:(id *)a2;
- (void)_performFaceCropProcessingWhileKeepingAliveJob:(id)a0;
- (id)statusAsDictionary;
- (void)updateKeyFacesOfPersonsWithLocalIdentifiers:(id)a0 forceUpdate:(BOOL)a1 context:(id)a2 reply:(id /* block */)a3;
- (void)_logFaceToSuggestionsLog:(id)a0;
- (void)_openSuggestionsLoggingSession;
- (void)configureRequest:(id)a0 algorithmUmbrellaVersion:(unsigned int)a1;
- (BOOL)_needToRunFaceCropProcessingJobForScenario:(unsigned long long)a0;
- (id)_suggestionsForPersonWithLocalIdentifier:(id)a0 toBeConfirmedPersonSuggestions:(id)a1 toBeRejectedPersonSuggestions:(id)a2 operation:(id)a3 error:(id *)a4;
- (BOOL)_needToRunFaceIDModelCreationForScenario:(unsigned long long)a0;
- (void)markLastBackgroundFaceIDModelRebuildJobDate;
- (BOOL)_generateAndPersistFaceCropsOfFaces:(id)a0 inImage:(id)a1 forAsset:(id)a2 error:(id *)a3;
- (void)_logAnalysisStatistics;
- (BOOL)isEnabled;
- (BOOL)performFaceClusteringWithCompletion:(id /* block */)a0 error:(id *)a1;
- (void)faceClusteringInformation:(unsigned long long)a0 withContext:(id)a1 reply:(id /* block */)a2;
- (void)willCompleteJob:(id)a0;
- (id)_pvImageForAsset:(id)a0 targetSize:(struct CGSize { double x0; double x1; })a1 error:(id *)a2;
- (BOOL)_deleteAllVerifiedPersonsWithError:(id *)a0;
- (BOOL)_generateAndAssociateFaceprintedFaceForFaceCrop:(id)a0 createFaceTorsoprint:(BOOL)a1 error:(id *)a2;
- (BOOL)hasAdditionalJobsForScenario:(unsigned long long)a0 requestReason:(unsigned long long)a1;

@end
