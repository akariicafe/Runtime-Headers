@class NSDictionary, HAPAccessoryProtocolInfo, HAPWACAccessoryClient, HMFTimer, HAPAuthSession, HMFBlockOperation, HAPAccessoryWiFiConfiguration, NSMutableArray, NSString, NSMutableSet, NSArray, HAPWACAccessory, HMFNetMonitor, NSObject, NSData, NSOperationQueue, HMFNetAddress, HAPAccessoryReachabilityClient, HAPHTTPClient, HMFUnfairLock, HAPAccessory, HAPAccessoryServerBrowserIP;
@protocol OS_dispatch_queue;

@interface HAPAccessoryServerIP : HAPAccessoryServer <HAPAccessoryServerMetricProtocol, HAPHTTPClientDelegate, HAPHTTPClientDebugDelegate, HMFTimerDelegate, HAPAuthSessionDelegate, HMFNetMonitorDelegate, HAPAccessoryReachabilityDelegate, HAPWACAccessoryClientDelegate> {
    struct PairingSessionPrivate { } *_pairingSession;
    unsigned long long _featureFlags;
    HMFUnfairLock *_lock;
    BOOL _retryingPairSetup;
}

@property (readonly, copy) NSString *shortDescription;
@property (readonly, copy) NSString *privateDescription;
@property (readonly, copy) NSString *propertyDescription;
@property (readonly, copy, nonatomic) NSArray *attributeDescriptions;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (nonatomic) unsigned long long metricHAPIPInvalidationCount;
@property (nonatomic) unsigned long long metricHAPIPHTTPEventsCount;
@property (nonatomic) unsigned long long metricHAPIPHTTPRequestsCount;
@property (nonatomic) unsigned long long metricHAPIPHTTPResponsesCount;
@property (retain, nonatomic) NSDictionary *bonjourDeviceInfo;
@property (nonatomic) BOOL hasUpdatedBonjour;
@property (weak, nonatomic) HAPAccessoryServerBrowserIP *browser;
@property (retain, nonatomic) NSArray *ipServices;
@property (retain, nonatomic) NSMutableArray *queuedOperations;
@property (retain, nonatomic) HAPAccessory *primaryAccessoryForServer;
@property (copy, nonatomic) NSString *model;
@property (copy, nonatomic) NSString *sourceVersion;
@property (nonatomic) unsigned long long statusFlags;
@property (readonly, nonatomic) HAPAuthSession *authSession;
@property (retain, nonatomic) HAPAccessoryProtocolInfo *authenticatedProtocolInfo;
@property (nonatomic) BOOL authenticated;
@property (copy, nonatomic) id /* block */ pairVerifyCompletionBlock;
@property (retain, nonatomic) NSString *controllerUsername;
@property (copy, nonatomic) id /* block */ netServiceResolveCompletionBlock;
@property (nonatomic, getter=isEstablishingSecureConnection) BOOL establishingSecureConnection;
@property (nonatomic) BOOL hasAttributeDatabase;
@property (nonatomic) BOOL hasTunnelService;
@property (nonatomic) BOOL econnresetRetryInProgress;
@property (retain, nonatomic) NSMutableSet *resolvers;
@property (retain, nonatomic) HMFBlockOperation *pairOperation;
@property (readonly, nonatomic) NSOperationQueue *clientOperationQueue;
@property (nonatomic, getter=isWacAccessory) BOOL wacAccessory;
@property (nonatomic, getter=isWacComplete) BOOL wacComplete;
@property (nonatomic, getter=isWacLegacy) BOOL wacLegacy;
@property (nonatomic, getter=isPreSoftAuthWacStarted) BOOL preSoftAuthWacStarted;
@property (nonatomic, getter=isPostSoftAuthWacStarted) BOOL postSoftAuthWacStarted;
@property (readonly, nonatomic) NSData *ownershipToken;
@property (nonatomic) BOOL invalidated;
@property (retain, nonatomic) HAPAccessoryWiFiConfiguration *wifiConfiguration;
@property (retain, nonatomic) HAPWACAccessoryClient *hapWACAccessoryClient;
@property (nonatomic, getter=isContinuingLegacyWACpairing) BOOL continuingLegacyWACpairing;
@property (nonatomic, getter=isWacStarted) BOOL wacStarted;
@property (retain, nonatomic) HMFTimer *bonjourEventTimer;
@property (nonatomic) BOOL hasStartedPairing;
@property (readonly, nonatomic) HMFNetMonitor *networkMonitor;
@property (nonatomic, getter=isPairingRequestPending) BOOL pairingRequestPending;
@property (nonatomic, getter=isTokenValidationPending) BOOL tokenValidationPending;
@property (nonatomic, getter=isHandlingInvalidSetupCode) BOOL handlingInvalidSetupCode;
@property (nonatomic) int cancelPairingErr;
@property (readonly, nonatomic) HAPAccessoryReachabilityClient *reachability;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *reachabilityQueue;
@property (retain, nonatomic) HAPHTTPClient *httpClient;
@property (readonly, nonatomic) HAPWACAccessory *hapWACAccessory;
@property (readonly, getter=isWacNeeded) BOOL wacNeeded;
@property (copy, nonatomic) NSData *token;
@property (readonly, copy, nonatomic) HMFNetAddress *peerAddress;
@property (readonly, nonatomic) NSString *peerEndpointDescription;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)sharedPairOperationQueue;

- (BOOL)isPaired;
- (void)_reset;
- (long long)linkType;
- (void).cxx_destruct;
- (void)dealloc;
- (void)updateWithBonjourDeviceInfo:(id)a0;
- (void)timerDidFire:(id)a0;
- (void)reconfirm;
- (BOOL)_delegateRespondsToSelector:(SEL)a0;
- (id)services;
- (id)primaryAccessory;
- (void)resolveLocalHostnameWithCompletionHandler:(id /* block */)a0;
- (void)createKeysForDataStreamWithKeySalt:(id)a0 completionHandler:(id /* block */)a1;
- (void)_indicateSessionActivity;
- (void)listPairingsWithCompletionQueue:(id)a0 completionHandler:(id /* block */)a1;
- (void)writeCharacteristicValues:(id)a0 timeout:(double)a1 completionQueue:(id)a2 completionHandler:(id /* block */)a3;
- (void)readCharacteristicValues:(id)a0 timeout:(double)a1 completionQueue:(id)a2 completionHandler:(id /* block */)a3;
- (void)enableEvents:(BOOL)a0 forCharacteristics:(id)a1 withCompletionHandler:(id /* block */)a2 queue:(id)a3;
- (void)identifyWithCompletion:(id /* block */)a0;
- (void)requestResource:(id)a0 queue:(id)a1 completionHandler:(id /* block */)a2;
- (void)stopPing;
- (void)startPing;
- (void)networkMonitorIsReachable:(id)a0;
- (void)networkMonitorIsUnreachable:(id)a0;
- (id)initCommon:(id)a0 browser:(id)a1;
- (void)discoverAccessories;
- (void)startPairingWithConsentRequired:(BOOL)a0 config:(id)a1 ownershipToken:(id)a2;
- (void)continuePairingAfterAuthPrompt;
- (BOOL)stopPairingWithError:(id *)a0;
- (BOOL)tryPairingPassword:(id)a0 error:(id *)a1;
- (void)addPairing:(id)a0 completionQueue:(id)a1 completionHandler:(id /* block */)a2;
- (void)removePairing:(id)a0 completionQueue:(id)a1 completionHandler:(id /* block */)a2;
- (BOOL)removePairingForCurrentControllerOnQueue:(id)a0 completion:(id /* block */)a1;
- (id)readAndResetHAPMetrics:(BOOL)a0;
- (void)startReprovisioningWiFiConfig:(id)a0;
- (void)continueAuthAfterValidation:(BOOL)a0;
- (void)continuePairingUsingWAC;
- (void)tearDownSessionOnAuthCompletion;
- (void)resetPostSoftAuthWAC;
- (void)pairSetupStartSoftAuthWAC;
- (void)provisionToken:(id)a0;
- (void)_tearDownSession;
- (void)invalidateWithCompletionHandler:(id /* block */)a0;
- (void)authSession:(id)a0 sendAuthExchangeData:(id)a1;
- (void)authSession:(id)a0 validateUUID:(id)a1 token:(id)a2;
- (void)authSession:(id)a0 authenticateUUID:(id)a1 token:(id)a2;
- (void)authSession:(id)a0 confirmUUID:(id)a1 token:(id)a2;
- (void)authSession:(id)a0 authComplete:(id)a1;
- (BOOL)_parseAndValidateTXTRecord;
- (void)_invalidateWAC;
- (void)incrementHAPIPInvalidationCount;
- (void)_notifyDelegateOfPairingProgress:(long long)a0;
- (void)_notifyDelegatesPairingStopped:(id)a0;
- (void)_updateWithBonjourDeviceInfo:(id)a0;
- (int)_pairSetupStartWithConsentRequired:(BOOL)a0;
- (void)_notifyDelegatesOfAddAccessoryFailureWithError:(id)a0;
- (BOOL)_isSessionEstablished;
- (void)_getAttributeDatabase;
- (void)_establishSecureConnectionAndFetchAttributeDatabase;
- (void)updateWithHAPWACAccessory:(id)a0;
- (void)_pairVerifyStartWAC:(id)a0;
- (void)_continuePairingUsingWAC;
- (id)_joinAccessoryNetworkWithCompletion:(id /* block */)a0;
- (void)_continuePairingAfterWAC:(id)a0;
- (void)_performEasyConfigWithParingPrompt:(void /* function */ *)a0 performPairSetup:(BOOL)a1 isSplit:(BOOL)a2 wacWiFiConfig:(id)a3 completion:(id /* block */)a4;
- (void)_continuePairingAfterConfirmingSecureWAC:(id)a0;
- (BOOL)hasBonjourDeviceInfo;
- (void)_pairSetupContinueWAC;
- (void)_establishSecureSession;
- (int)_continuePairingAfterAuthPromptWithRetry:(BOOL)a0;
- (int)_continuePairingWithSetupCode:(id)a0;
- (int)_pairSetupTryPassword:(id)a0;
- (void)_tearDownWAC;
- (void)_processQueuedOperationsWithError:(id)a0;
- (void)_error:(id)a0 forReadCharacteristicValues:(id)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (void)_readCharacteristicValues:(id)a0 timeout:(double)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (id /* block */)_queuedReadOperationBlock:(id)a0 timeout:(double)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (void)_error:(id)a0 forWriteCharacteristicValues:(id)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (void)_writeCharacteristicValues:(id)a0 timeout:(double)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (id /* block */)_queuedWriteOperationBlock:(id)a0 timeout:(double)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (void)_startAddPairingWithIdentifier:(id)a0 publicKey:(id)a1 admin:(BOOL)a2 queue:(id)a3 completion:(id /* block */)a4;
- (void)_listPairingsWithCompletionQueue:(id)a0 completionHandler:(id /* block */)a1;
- (void)_enableEvents:(BOOL)a0 forCharacteristics:(id)a1 withCompletionHandler:(id /* block */)a2 queue:(id)a3;
- (void)_insertReadCharacteristicValues:(id)a0 timeout:(double)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (void)_queueReadCharacteristicValues:(id)a0 timeout:(double)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (void)_handleReadECONNRESETError:(id)a0 readCharacteristics:(id)a1 responses:(id)a2 timeout:(double)a3 queue:(id)a4 completionHandler:(id /* block */)a5;
- (void)_handleReadResponseObject:(id)a0 type:(unsigned long long)a1 httpStatus:(int)a2 error:(id)a3 characteristics:(id)a4 queue:(id)a5 completion:(id /* block */)a6;
- (void)sendGETRequestToURL:(id)a0 timeout:(double)a1 completionHandler:(id /* block */)a2;
- (void)_tearDownSessionAndReconfirm;
- (void)_queueWriteCharacteristicValues:(id)a0 timeout:(double)a1 queue:(id)a2 withCompletionHandler:(id /* block */)a3;
- (void)_performTimedWriteValues:(id)a0 timeout:(double)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (void)_performWriteValues:(id)a0 timeout:(double)a1 queue:(id)a2 completionHandler:(id /* block */)a3;
- (void)_insertWriteCharacteristicValues:(id)a0 timeout:(double)a1 queue:(id)a2 withCompletionHandler:(id /* block */)a3;
- (void)_handleWriteECONNResetError:(id)a0 writeRequests:(id)a1 responses:(id)a2 timeout:(double)a3 queue:(id)a4 completionHandler:(id /* block */)a5;
- (void)_handleWriteResponseObject:(id)a0 type:(unsigned long long)a1 httpStatus:(int)a2 error:(id)a3 requestTuples:(id)a4 queue:(id)a5 completion:(id /* block */)a6;
- (void)sendPUTRequestToURL:(id)a0 request:(id)a1 serializationType:(unsigned long long)a2 timeout:(double)a3 completionHandler:(id /* block */)a4;
- (void)_handlePrepareWriteResponseObject:(id)a0 type:(unsigned long long)a1 prepareIdentifier:(id)a2 httpStatus:(int)a3 error:(id)a4 requestTuples:(id)a5 timeout:(double)a6 queue:(id)a7 completion:(id /* block */)a8;
- (void)_performExecuteWriteValues:(id)a0 prepareIdentifier:(id)a1 timeout:(double)a2 queue:(id)a3 completionHandler:(id /* block */)a4;
- (void)handleHTTPClientUnavailableErrorWithCompletion:(id /* block */)a0 serializationType:(unsigned long long)a1;
- (void)_handleUpdatesForCharacteristics:(id)a0 stateNumber:(id)a1;
- (void)_queueEnableEvents:(BOOL)a0 forCharacteristics:(id)a1 withCompletionHandler:(id /* block */)a2 queue:(id)a3;
- (void)_handleEventResponseObject:(id)a0 type:(unsigned long long)a1 httpStatus:(int)a2 error:(id)a3 characteristics:(id)a4 requestedEventState:(BOOL)a5 completion:(id /* block */)a6 queue:(id)a7;
- (BOOL)_processEvent:(id)a0 matchedCharacteristic:(id *)a1;
- (BOOL)_parseTXTRecordDictionary:(id)a0;
- (void)_parseAttributeDatabase:(id)a0 transaction:(id)a1;
- (void)_updateProtocolVersionFromPrimaryAccessory:(id)a0;
- (BOOL)_updateAccessories:(id)a0;
- (void)__registerForInternalCharacteristicNotifications;
- (void)_invokePairVerifyCompletionBlock:(id)a0;
- (int)_pairVerifyStartWithRetry:(BOOL)a0;
- (int)_ensureHTTPClientSetUp;
- (int)_getBonjourDeviceDNSName:(id *)a0;
- (void)_isAccessoryPublicKeyPresent:(BOOL *)a0 registeredWithHomeKit:(BOOL *)a1;
- (int)_ensurePairingSessionIsInitializedWithType:(unsigned int)a0;
- (int)_handlePairSetupCompletionWithData:(id)a0;
- (void)sendPOSTRequestToURL:(id)a0 request:(id)a1 serializationType:(unsigned long long)a2 completionHandler:(id /* block */)a3;
- (void)authenticateAccessory;
- (void)getAccessoryInfo:(id /* block */)a0;
- (void)_handleMFiCertValidation;
- (void)_notifyDelegateNeedsOwnershipToken;
- (void)invokePairVerifyCompletionBlock:(id)a0;
- (int)_handlePairVerifyCompletionWithData:(id)a0;
- (BOOL)_validateProtocolInfo:(id)a0;
- (void)_continuePairingAfterMFiCertValidation;
- (void)_queueAddPairingWithIdentifier:(id)a0 publicKey:(id)a1 admin:(BOOL)a2 queue:(id)a3 completion:(id /* block */)a4;
- (void)_handlePairingsResponseObject:(id)a0 type:(unsigned long long)a1 httpStatus:(int)a2 httpError:(id)a3 removeRequest:(BOOL)a4 completionQueue:(id)a5 completionBlock:(id /* block */)a6;
- (void)_removePairingWithIdentifier:(id)a0 publicKey:(id)a1 queue:(id)a2 completion:(id /* block */)a3;
- (void)_establishSecureSessionAndRemovePairing:(id)a0 queue:(id)a1 completion:(id /* block */)a2;
- (void)_sendRemovePairingWithData:(id)a0 queue:(id)a1 completion:(id /* block */)a2;
- (void)_queueListPairingWithCompletionQueue:(id)a0 completionHandler:(id /* block */)a1;
- (void)_handleListPairingsResponseObject:(id)a0 type:(unsigned long long)a1 httpStatus:(int)a2 httpError:(id)a3 completionQueue:(id)a4 completionHandler:(id /* block */)a5;
- (void)_startReachability;
- (void)_stopReachability;
- (id)_buildReachabilityNotificationDictionary:(id)a0 reachable:(BOOL)a1;
- (void)_accessoryDidBecomeUnreachable:(id)a0;
- (void)_doReachabilityWithError:(id)a0 forAccessory:(id)a1;
- (void)_doPollForAccessory:(id)a0;
- (void)httpClient:(id)a0 didReceiveEvent:(id)a1;
- (void)httpClientDidCloseConnectionDueToServer:(id)a0;
- (void)httpClient:(id)a0 didReceiveHTTPMessageWithHeaders:(id)a1 body:(id)a2;
- (void)httpClient:(id)a0 willSendHTTPMessageWithHeaders:(id)a1 body:(id)a2;
- (void)pollAccessory;
- (void)hapWACAccessoryClient:(id)a0 wacProgress:(unsigned long long)a1;
- (void)hapWACAccessoryClient:(id)a0 setBonjourInfo:(id)a1;
- (id)initWithBonjourDeviceInfo:(id)a0 keyStore:(id)a1 browser:(id)a2;
- (id)initWithHAPWACAccessory:(id)a0 keystore:(id)a1 browser:(id)a2;
- (void)handleUpdatesForCharacteristics:(id)a0 stateNumber:(id)a1;
- (BOOL)isSessionEstablised;
- (void)_handlePairSetupAfterM4Callback;
- (int)_promptForSetupCodeWithFlags:(unsigned int)a0 delaySeconds:(int)a1 pairingFlags:(unsigned int)a2 isWAC:(BOOL)a3;
- (BOOL)pingSupported;
- (void)_requestResource:(id)a0 queue:(id)a1 completionHandler:(id /* block */)a2;
- (void)incrementHAPIPHTTPRequestsCount;
- (void)incrementHAPIPHTTPResponsesCount;
- (void)incrementHAPIPHTTPEventsCount;

@end
