@class NSURL, NSMutableDictionary, NSGenerationalRowCache, NSDictionary, _NSSQLCoreConnectionObsever, NSSQLCoreDispatchManager, NSSQLiteConnection, NSString, _PFMutex, NSSet, NSSQLModel, NSSQLiteAdapter, NSOperationQueue, NSData;

@interface NSSQLCore : NSPersistentStore <NSFilePresenter, NSSQLModelProvider> {
    NSSQLModel *_model;
    NSSQLiteAdapter *_adapter;
    NSSQLiteConnection *_schemaValidationConnection;
    NSSQLCoreDispatchManager *_dispatchManager;
    NSGenerationalRowCache *_generationalRowCache;
    _NSSQLCoreConnectionObsever *_observer;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _sqlCoreStateLock;
    NSMutableDictionary *_storeMetadata;
    NSString *_externalDataReferencesDirectory;
    NSString *_externalDataLinksDirectory;
    NSString *_fileBackedFuturesPath;
    int _transactionInMemorySequence;
    BOOL _metadataIsClean;
    struct _sqlCoreFlags { unsigned char useSyntaxColoredLogging : 1; unsigned char hasExternalDataReferences : 1; unsigned char fileProtectionType : 3; unsigned char notifyFOKChanges : 1; unsigned char initializationComplete : 1; unsigned char connectionsAreLocal : 1; unsigned char isXPCDelegate : 1; unsigned char queryGenerationInitializationFailed : 1; unsigned char persistentHistoryTracking : 1; unsigned char hasAncillaryModels : 1; unsigned char postRemoteNotify : 1; unsigned char hasFileBackedFutures : 1; unsigned char isInMemory : 1; unsigned char _debugRequestsHandling : 1; unsigned char historyBatchUpdateModProperties : 1; unsigned char indexTracking : 1; unsigned short _RESERVED : 14; } _sqlCoreFlags;
    NSSQLiteConnection *_queryGenerationTrackingConnection;
    _PFMutex *_writerSerializationMutex;
    NSDictionary *_ancillarySQLModels;
    NSDictionary *_historyTrackingOptions;
    NSData *_dbKey;
    id _usedIndexes;
    BOOL _remoteStoresDidChange;
    int _remoteNotificationToken;
}

@property (readonly, nonatomic) NSSQLModel *model;
@property (readonly, nonatomic) BOOL isInitialized;
@property (readonly, nonatomic) NSDictionary *ancillaryModels;
@property (readonly) BOOL remoteStoresDidChange;
@property (readonly, nonatomic) BOOL isInMemory;
@property (readonly, copy) NSURL *presentedItemURL;
@property (readonly, retain) NSOperationQueue *presentedItemOperationQueue;
@property (readonly, copy) NSURL *primaryPresentedItemURL;
@property (readonly) NSSet *observedPresentedItemUbiquityAttributes;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (void)initialize;
+ (id)databaseKeyFromOptionsDictionary:(id)a0;
+ (id)_databaseKeyFromValue:(id)a0;
+ (BOOL)sanityCheckFileAtURL:(id)a0 options:(id)a1 error:(id *)a2;
+ (void)setDebugDefault:(int)a0;
+ (int)debugDefault;
+ (void)setColoredLoggingDefault:(BOOL)a0;
+ (Class)migrationManagerClass;
+ (id)newStringFrom:(id)a0 usingUnicodeTransforms:(unsigned long long)a1;
+ (long long)bufferedAllocationsOverride;
+ (BOOL)coloredLoggingDefault;
+ (BOOL)_replacePersistentStoreAtURL:(id)a0 destinationOptions:(id)a1 withPersistentStoreFromURL:(id)a2 sourceOptions:(id)a3 error:(id *)a4;
+ (id)metadataForPersistentStoreWithURL:(id)a0 error:(id *)a1;
+ (BOOL)setMetadata:(id)a0 forPersistentStoreWithURL:(id)a1 error:(id *)a2;
+ (BOOL)dropPersistentHistoryforPersistentStoreWithURL:(id)a0 options:(id)a1 error:(id *)a2;
+ (BOOL)setMetadata:(id)a0 forPersistentStoreWithURL:(id)a1 options:(id)a2 error:(id *)a3;
+ (id)cachedModelForPersistentStoreWithURL:(id)a0 options:(id)a1 error:(id *)a2;
+ (Class)rowCacheClass;
+ (BOOL)useConcurrentFetching;
+ (BOOL)_destroyPersistentStoreAtURL:(id)a0 options:(id)a1 error:(id *)a2;
+ (BOOL)_rekeyPersistentStoreAtURL:(id)a0 options:(id)a1 withKey:(id)a2 error:(id *)a3;
+ (id)_figureOutWhereExternalReferencesEndedUpRelativeTo:(id)a0;
+ (id)metadataForPersistentStoreWithURL:(id)a0 options:(id)a1 error:(id *)a2;

- (id)dbKey;
- (void)_setupObserver;
- (BOOL)finishDeferredLightweightMigration:(BOOL)a0 withError:(id *)a1;
- (id)entityForEntityDescription:(id)a0;
- (id)ancillarySQLModels;
- (id)_storeInfoForEntityDescription:(id)a0;
- (id)currentQueryGeneration;
- (Class)objectIDFactoryForEntity:(id)a0;
- (void)_rebuildIndiciesSynchronously:(BOOL)a0;
- (id)newValueForRelationship:(id)a0 forObjectWithID:(id)a1 withContext:(id)a2 error:(id *)a3;
- (BOOL)_prepareForExecuteRequest:(id)a0 withContext:(id)a1 error:(id *)a2;
- (BOOL)_isCloudKitOptioned;
- (id)reopenQueryGenerationWithIdentifier:(id)a0 error:(id *)a1;
- (id)_newOrderedRelationshipInformationForRelationship:(id)a0 forObjectWithID:(id)a1 withContext:(id)a2 error:(id *)a3;
- (id)obtainPermanentIDsForObjects:(id)a0 error:(id *)a1;
- (id)currentChangeToken;
- (void)managedObjectContextDidRegisterObjectsWithIDs:(id)a0;
- (id)newObjectIDForEntity:(id)a0 pk:(long long)a1;
- (void)willRemoveFromPersistentStoreCoordinator:(id)a0;
- (void)setMetadata:(id)a0;
- (BOOL)load:(id *)a0;
- (BOOL)supportsConcurrentRequestHandling;
- (void)managedObjectContextDidUnregisterObjectsWithIDs:(id)a0 generation:(id)a1;
- (BOOL)loadMetadata:(id *)a0;
- (id)fileBackedFuturesDirectory;
- (id)executeRequest:(id)a0 withContext:(id)a1 error:(id *)a2;
- (id)_allOrderKeysForDestination:(id)a0 inRelationship:(id)a1 error:(id *)a2;
- (Class)_objectIDClass;
- (BOOL)_unload:(id *)a0;
- (void)freeQueryGenerationWithIdentifier:(id)a0;
- (id)newValuesForObjectWithID:(id)a0 withContext:(id)a1 error:(id *)a2;
- (void)managedObjectContextDidUnregisterObjectsWithIDs:(id)a0;
- (BOOL)supportsGenerationalQuerying;
- (void)resetExternalDataReferencesDirectories;
- (id)dispatchManager;
- (void)_dropHistoryTables;
- (BOOL)hasHistoryTracking;
- (void)_setMetadata:(id)a0;
- (void)_purgeRowCache;
- (BOOL)_checkAndRepairSchemaUsingConnection:(id)a0;
- (void)_setMetadata:(id)a0 clean:(BOOL)a1;
- (id)processRefreshObjects:(id)a0 inContext:(id)a1;
- (void)addPeerRange:(id)a0;
- (void)recordRemoteQueryGenerationDidChange;
- (BOOL)hasHistoryBatchUpdatePropertiesOption;
- (id)entitiesToInclude;
- (void)writeSerializationUnlock;
- (id)processBatchInsert:(id)a0 inContext:(id)a1 error:(id *)a2;
- (id)newObjectIDSetsForToManyPrefetchingRequest:(id)a0 andSourceObjectIDs:(id)a1 orderColumnName:(id)a2;
- (void)_initializeQueryGenerationConnectionForProtectionClasses;
- (id)_externalDataLinksDirectory;
- (void)_uncacheRows:(id)a0;
- (id)createMapOfEntityNameToPKMaxForEntitiesFromUBRangeTable:(id)a0;
- (void)writeSerializationLock;
- (void)_doUnboundedGrowthCheckAndConstraintUsingConnection:(id)a0;
- (void)_postChangeNotificationWithTransactionID:(id)a0;
- (id)ubiquityTableKeysAndValues;
- (id)schemaValidationConnection;
- (void)removeRowCacheForGenerationWithIdentifier:(id)a0;
- (BOOL)_rebuildTriggerSchemaUsingConnection:(id)a0 recomputeValues:(BOOL)a1 error:(id *)a2;
- (id)createMapOfEntityNameToPKMaxForEntities:(id)a0;
- (void)_setHasAncillaryModels:(BOOL)a0;
- (id)processCloudKitMirroringRequest:(id)a0 inContext:(id)a1 error:(id *)a2;
- (void)_disconnectAllConnections;
- (void)addPeerRangeForPeerID:(id)a0 entityName:(id)a1 rangeStart:(id)a2 rangeEnd:(id)a3 peerRangeStart:(id)a4 peerRangeEnd:(id)a5;
- (void)recomputePrimaryKeyMaxForEntities:(id)a0;
- (void)_fixPrimaryKeyTableFromEntitiesAndJoinsUsingConnection:(id)a0;
- (id)adapter;
- (id)_newRowDataForXPCFetch:(id)a0 variables:(id)a1 context:(id)a2 error:(id *)a3;
- (id)_obtainPermanentIDsForObjects:(id)a0 withNotification:(id *)a1 error:(id *)a2;
- (void)setExclusiveLockingMode:(BOOL)a0;
- (void)dealloc;
- (id)newFetchUUIDSForSubentitiesRootedAt:(id)a0;
- (BOOL)supportsComplexFeatures;
- (void)updateUbiquityKnowledgeVector:(id)a0;
- (BOOL)hasAncillaryModels;
- (id)entityForObjectID:(id)a0;
- (id)metadata;
- (void)accommodatePresentedItemDeletionWithCompletionHandler:(id /* block */)a0;
- (int)fileProtectionLevel;
- (id)processCloudKitContainerEventRequest:(id)a0 inContext:(id)a1 error:(id *)a2;
- (void)_doBasicTableNameCheckUsingConnection:(id)a0;
- (void)_useModel:(id)a0;
- (id)entityForFetchRequest:(id)a0;
- (id)notifyPostName;
- (id)newForeignKeyID:(long long)a0 entity:(id)a1;
- (void)managedObjectContextDidRegisterObjectsWithIDs:(id)a0 generation:(id)a1;
- (BOOL)_rebuildRTreeTriggerSchemaUsingConnection:(id)a0 recomputeValues:(BOOL)a1 error:(id *)a2;
- (BOOL)_isQueryGenerationSupportActive;
- (id)initWithPersistentStoreCoordinator:(id)a0 configurationName:(id)a1 URL:(id)a2 options:(id)a3;
- (void)_cacheRows:(id)a0;
- (id)metadataToWrite;
- (void)_cacheModelIfNecessaryUsingConnection:(id)a0;
- (void)configureUbiquityMetadataTable;
- (id)processFetchRequest:(id)a0 inContext:(id)a1;
- (id)failableRowCacheForGeneration:(id)a0;
- (id)processChangeRequest:(id)a0 inContext:(id)a1 error:(id *)a2;
- (BOOL)_refreshTriggerValues:(id *)a0;
- (int)_registerNewQueryGenerationSnapshot:(id)a0;
- (void)setConnectionsAreLocal:(BOOL)a0;
- (BOOL)_initializeQueryGenerationTrackingConnection;
- (void)replaceUbiquityKnowledgeVector:(id)a0;
- (id)processSQLiteIndexStatisticsRequest:(id)a0 inContext:(id)a1 error:(id *)a2;
- (void)setURL:(id)a0;
- (id)_collectSkewedComponents:(id *)a0 usingConnection:(id)a1;
- (id)_newObjectIDForEntityDescription:(id)a0 pk:(long long)a1;
- (BOOL)hasIndexTracking;
- (id)type;
- (id)fetchTableNames;
- (id)_debugConnection;
- (id)connectionForMigration;
- (void)updateUbiquityKnowledgeForPeerWithID:(id)a0 andTransactionNumber:(id)a1;
- (void)_fixPrimaryKeyTableFromEntitiesUsingConnection:(id)a0;
- (id)processSaveChanges:(id)a0 forContext:(id)a1;
- (id)_ubiquityDictionaryForAttribute:(id)a0 onObject:(id)a1;
- (id)_dissectCorrelationTableCreationSQL:(id)a0;
- (id)processBatchDelete:(id)a0 inContext:(id)a1 error:(id *)a2;
- (id)processBatchUpdate:(id)a0 inContext:(id)a1 error:(id *)a2;
- (id)processCountRequest:(id)a0 inContext:(id)a1;
- (id)externalDataLinksDirectory;
- (id)_supportDirectoryPath;
- (id)externalLocationForFileWithUUID:(id)a0;
- (void)dropUbiquityTables;
- (BOOL)_updateToVersion640PrimaryKeyTableUsingStatements:(id)a0 connection:(id)a1;
- (id)ubiquityTableValueForKey:(id)a0;
- (void)_checkAndRepairCorrelationTables:(BOOL)a0 storeVersionNumber:(id)a1 usingConnection:(id)a2;
- (id)allPeerRanges;
- (void)setUbiquityTableValue:(id)a0 forKey:(id)a1;
- (BOOL)isUbiquitized;
- (id)rowCacheForContext:(id)a0;
- (void)_updateAutoVacuumMetadataWithValues:(id)a0;
- (id)_newObjectIDForEntity:(id)a0 referenceData64:(unsigned long long)a1;
- (id)entitiesToExclude;
- (void)_repairDatabaseCorrelationTables:(id)a0 brokenHashModel:(id)a1 storeVersionNumber:(id)a2 recurse:(BOOL)a3 usingConnection:(id)a4;
- (Class)objectIDFactoryForSQLEntity:(id)a0;
- (void)_checkAndRepairHistoryTrackingUsingConnection:(id)a0;
- (Class)objectIDFactoryForPersistentHistoryEntity:(id)a0;
- (id)harvestIndexStatisticsFromConnections;
- (id)_newReservedKeysForEntities:(id)a0 counts:(id)a1;
- (id)_newValuesForRelationship:(id)a0 forObjectWithID:(id)a1 withContext:(id)a2 error:(id *)a3;
- (id)cachedModelWithError:(id *)a0;
- (id)createMapOfEntityNameToPKMaxForEntitiesFromPKTable:(id)a0;
- (id)safeguardLocationForFileWithUUID:(id)a0;
- (id)rowCacheForGeneration:(id)a0;
- (void)setIdentifier:(id)a0;
- (BOOL)_fixPrimaryKeyTablesUsingConnection:(id)a0;
- (id)entityForObject:(id)a0;
- (BOOL)shouldNotifyFOKChanges;
- (BOOL)_rebuildDerivedAttributeTriggerSchemaUsingConnection:(id)a0 recomputeValues:(BOOL)a1 error:(id *)a2;
- (void)_ensureDatabaseMatchesModel;
- (void)dispatchRequest:(id)a0 withRetries:(long long)a1;
- (BOOL)_checkAndRepairTriggersUsingConnection:(id)a0;
- (void)removeUbiquityMetadata;
- (id)externalDataReferencesDirectory;
- (id)identifier;
- (id)fetchUbiquityKnowledgeVector;
- (id)_loadAndSetMetadata;

@end
