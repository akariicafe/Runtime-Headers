@class NSURL, NSMutableDictionary, NSDate, ICUserIdentity, NSObject, ML3MusicLibrary, MPMediaLibraryPrivacyContext, NSMutableArray, NSString, _MPActiveUserChangeMonitor, NSPointerArray, NSArray, NSNumber, QueryCriteriaResultsCache;
@protocol OS_dispatch_queue, MPMediaLibraryDataProviderPrivate;

@interface MPMediaLibrary : NSObject <_MPActiveUserChangeMonitorDelegate, NSSecureCoding> {
    MPMediaLibraryPrivacyContext *_privacyContext;
    id<MPMediaLibraryDataProviderPrivate> _libraryDataProvider;
    NSObject<OS_dispatch_queue> *_entityCacheQueue;
    NSObject<OS_dispatch_queue> *_fixedQueue;
    NSArray *_notificationObservers;
    QueryCriteriaResultsCache *_itemsForCriteriaCache;
    QueryCriteriaResultsCache *_hasItemsForCriteriaCache;
    QueryCriteriaResultsCache *_countOfItemsForCriteriaCache;
    QueryCriteriaResultsCache *_itemResultSetsForCriteriaCache;
    QueryCriteriaResultsCache *_collectionsForCriteriaCache;
    QueryCriteriaResultsCache *_hasCollectionsForCriteriaCache;
    QueryCriteriaResultsCache *_countOfCollectionsForCriteriaCache;
    QueryCriteriaResultsCache *_collectionsResultSetsForCriteriaCache;
    NSMutableDictionary *_hasItemsDidLoadForCriteria;
    NSMutableDictionary *_hasCollectionsDidLoadForCriteria;
    NSMutableDictionary *_countOfCollectionsDidLoadForCriteria;
    NSMutableDictionary *_countOfItemsDidLoadForCriteria;
    NSMutableArray *_additionalLibraryFilterPredicates;
    NSObject<OS_dispatch_queue> *_additionalLibraryFilterPredicatesAccessQueue;
    NSPointerArray *_connectionAssertions;
    NSObject<OS_dispatch_queue> *_connectionAssertionsQueue;
    BOOL _disconnectAfterReleasingAssertions;
    float _connectionProgress;
    long long _removalReason;
    unsigned char _determinedHasMedia : 1;
    unsigned char _hasMedia : 1;
    unsigned char _determinedHasSongs : 1;
    unsigned char _hasSongs : 1;
    unsigned char _determinedHasGeniusMixes : 1;
    unsigned char _hasGeniusMixes : 1;
    unsigned char _determinedHasPlaylists : 1;
    unsigned char _hasPlaylists : 1;
    unsigned char _determinedHasComposers : 1;
    unsigned char _hasComposers : 1;
    unsigned char _determinedHasPodcasts : 1;
    unsigned char _hasPodcasts : 1;
    unsigned char _determinedHasUbiquitousBookmarkableItems : 1;
    unsigned char _hasUbiquitousBookmarkableContent : 1;
    unsigned char _determinedHasAudiobooks : 1;
    unsigned char _hasAudiobooks : 1;
    long long _cloudFilteringType;
    BOOL _filteringDisabled;
    BOOL _hasVideos;
    BOOL _determinedHasVideos;
    BOOL _hasMusicVideos;
    BOOL _determinedHasMusicVideos;
    BOOL _hasAudibleAudioBooks;
    BOOL _determinedHasAudibleAudioBooks;
    BOOL _hasMovies;
    BOOL _determinedHasMovies;
    BOOL _hasCompilations;
    BOOL _determinedHasCompilations;
    BOOL _hasITunesU;
    BOOL _determinedHasITunesU;
    BOOL _hasVideoITunesU;
    BOOL _determinedHasVideoITunesU;
    BOOL _hasMovieRentals;
    BOOL _determinedHasMovieRentals;
    BOOL _hasTVShows;
    BOOL _determinedHasTVShows;
    BOOL _hasHomeVideos;
    BOOL _determinedHasHomeVideos;
    BOOL _hasVideoPodcasts;
    BOOL _determinedHasVideoPodcasts;
    unsigned char _originalCellNetworkFlags;
    unsigned char _originalWiFiNetworkFlags;
}

@property (class, readonly) BOOL supportsSecureCoding;

@property (readonly, nonatomic) struct shared_ptr<mlcore::DeviceLibrary> { struct DeviceLibrary *x0; struct __shared_weak_count *x1; } _MediaLibrary_coreLibrary;
@property (readonly, nonatomic) NSURL *protectedContentSupportStorageURL;
@property (readonly, nonatomic) NSString *_syncValidity;
@property (copy, nonatomic) NSNumber *sagaAccountID;
@property (copy, nonatomic) NSDate *sagaLastItemPlayDataUploadDate;
@property (copy, nonatomic) NSDate *sagaLastPlaylistPlayDataUploadDate;
@property (nonatomic) long long sagaDatabaseUserVersion;
@property (copy, nonatomic) NSString *storefrontIdentifier;
@property (copy, nonatomic) NSDate *sagaLastLibraryUpdateTime;
@property (copy, nonatomic) NSDate *sagaLastSubscribedContainersUpdateTime;
@property (nonatomic) long long sagaOnDiskDatabaseRevision;
@property (readonly, nonatomic) long long libraryChangeObservers;
@property (nonatomic) long long removalReason;
@property (readonly, nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _MLCoreStorageLock;
@property (retain, nonatomic) _MPActiveUserChangeMonitor *activeUserChangeMonitor;
@property (retain, nonatomic, setter=_setMLCoreStorage:) id _MLCoreStorage;
@property (readonly, nonatomic) struct os_unfair_lock_s { unsigned int x0; } *_MLCoreStorageLockPointer;
@property (readonly, nonatomic) ML3MusicLibrary *ml3Library;
@property (readonly, copy, nonatomic) ICUserIdentity *userIdentity;
@property (readonly, nonatomic) NSDate *lastModifiedDate;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (void)initialize;
+ (void)uniqueIdentifierDidChangeForLibraryDataProvider:(id)a0;
+ (void)requestAuthorization:(id /* block */)a0;
+ (void)logDatabaseAccess;
+ (id)deviceMediaLibraryWithUserIdentity:(id)a0;
+ (void)setRunLoopForNotifications:(id)a0;
+ (id)deviceMediaLibrary;
+ (void)setLibraryServerDisabled:(BOOL)a0;
+ (void)removeLibraryDataProvider:(id)a0 removalReason:(long long)a1;
+ (id)libraryDataProviders;
+ (void)addLibraryDataProvider:(id)a0;
+ (id)mediaLibraries;
+ (void)_postNotificationName:(id)a0 library:(id)a1;
+ (void)postEntitiesAddedOrRemovedNotificationForLibraryDataProvider:(id)a0;
+ (id)_mediaLibraries;
+ (id)_libraryDataProviders;
+ (void)reloadLibraryDataProvider:(id)a0;
+ (void)reloadDisplayValuesForLibraryDataProvider:(id)a0;
+ (void)reloadDynamicPropertiesForLibraryDataProvider:(id)a0;
+ (void)_postNotificationName:(id)a0 library:(id)a1 userInfo:(id)a2;
+ (void)reloadInvisiblePropertiesForLibraryDataProvider:(id)a0;
+ (void)syncGenerationDidChangeForLibraryDataProvider:(id)a0;
+ (id)_sharedCloudServiceStatusMonitor;
+ (BOOL)isLibraryServerDisabled;
+ (void)endDiscoveringMediaLibraries;
+ (id)mediaLibraryWithUniqueIdentifier:(id)a0 allowsLoadingFromDisk:(BOOL)a1;
+ (long long)_mediaLibraryAuthorizationStatusFromCloudServiceAuthorizationStatus:(long long)a0;
+ (id)_mediaLibraryWithUniqueIdentifier:(id)a0 userDSID:(id)a1;
+ (id)_libraryForDataProvider:(id)a0;
+ (void)_endDiscoveringMediaLibrariesIfAllowed;
+ (void)setGlobalPrivacyClientWithAuditToken:(struct { unsigned int x0[8]; })a0;
+ (id)defaultMediaLibrary;
+ (void)beginDiscoveringMediaLibraries;
+ (long long)authorizationStatus;
+ (id)_deviceMediaLibraryWithUserIdentity:(id)a0 createIfRequired:(BOOL)a1;
+ (void)setDefaultMediaLibrary:(id)a0;
+ (id)sharedMediaLibraries;
+ (void)libraryPathDidChangeForDataProvider:(id)a0;
+ (id)mediaLibraryWithUniqueIdentifier:(id)a0;

- (BOOL)collectionExistsWithSagaID:(long long)a0 groupingType:(long long)a1 existentPID:(unsigned long long *)a2;
- (unsigned long long)currentEntityRevision;
- (void)performReadTransactionWithBlock:(id /* block */)a0;
- (BOOL)collectionExistsWithCloudUniversalLibraryID:(id)a0 groupingType:(long long)a1 existentPID:(unsigned long long *)a2;
- (BOOL)hasGeniusMixes;
- (BOOL)collectionExistsWithPersistentID:(unsigned long long)a0 groupingType:(long long)a1;
- (BOOL)collectionExistsContainedWithinPersistentIDs:(const unsigned long long *)a0 count:(unsigned long long)a1 groupingType:(long long)a2 existentPID:(unsigned long long *)a3;
- (id)preferredAudioLanguages;
- (id)entityCache;
- (BOOL)writable;
- (BOOL)recordPlayEventForAlbumPersistentID:(long long)a0;
- (void)_tearDownNotifications;
- (BOOL)isCurrentThreadInTransaction;
- (BOOL)hasUbiquitousBookmarkableItems;
- (id)preferredSubtitleLanguages;
- (void)_setupNotifications;
- (BOOL)hasVideos;
- (void)importArtworkTokenForEntityPersistentID:(unsigned long long)a0 entityType:(long long)a1 artworkToken:(id)a2 artworkType:(long long)a3 sourceType:(long long)a4;
- (void)_disconnect;
- (BOOL)playlistExistsWithPersistentID:(unsigned long long)a0;
- (BOOL)itemExistsWithPersistentID:(unsigned long long)a0;
- (BOOL)collectionExistsContainedWithinSyncIDs:(id)a0 groupingType:(long long)a1 existentPID:(unsigned long long *)a2;
- (BOOL)deleteDatabaseProperty:(id)a0;
- (void)addGlobalPlaylistWithID:(id)a0 andAddToCloudLibrary:(BOOL)a1 completion:(id /* block */)a2;
- (id)localizedSectionIndexTitles;
- (void)performStoreItemLibraryImport:(id)a0 withCompletion:(id /* block */)a1;
- (long long)playlistGeneration;
- (BOOL)hasMediaOfType:(unsigned long long)a0;
- (void)addNonLibraryOwnedPlaylistsWithGlobalIDs:(id)a0 completion:(id /* block */)a1;
- (id)syncValidity;
- (BOOL)performTransactionWithBlock:(id /* block */)a0;
- (id)databasePath;
- (id)errorResolverForItem:(id)a0;
- (void)_reloadLibraryForPathChange;
- (id)localizedSectionHeaderForSectionIndex:(unsigned long long)a0;
- (BOOL)recordPlayEventForPlaylistPersistentID:(long long)a0;
- (BOOL)collectionExistsWithName:(id)a0 groupingType:(long long)a1 existentPID:(unsigned long long *)a2;
- (void)setValues:(id)a0 forProperties:(id)a1 forItemPersistentIDs:(id)a2;
- (id)multiverseIdentifierForTrackWithPersistentID:(long long)a0;
- (BOOL)setValue:(id)a0 forDatabaseProperty:(id)a1;
- (void)addTracksToMyLibrary:(id)a0;
- (unsigned long long)syncGenerationID;
- (id)multiverseIdentifierForCollectionWithPersistentID:(long long)a0 groupingType:(long long)a1;
- (BOOL)collectionExistsWithStoreID:(long long)a0 groupingType:(long long)a1 existentPID:(unsigned long long *)a2;
- (id)valueForDatabaseProperty:(id)a0;
- (void)_clearCachedContentDataAndResultSets:(BOOL)a0;
- (id)artworkDataSource;
- (void)addNonLibraryOwnedPlaylistWithGlobalID:(id)a0 completion:(id /* block */)a1;
- (unsigned int)homeSharingDatabaseID;
- (void)_didReceiveMemoryWarning:(id)a0;
- (void)logDatabaseAccess;
- (BOOL)hasVideoPodcasts;
- (BOOL)hasMovieRentals;
- (unsigned long long)syncPlaylistId;
- (id)itemWithStoreID:(unsigned long long)a0;
- (unsigned long long)filterAvailableContentGroups:(unsigned long long)a0 withOptions:(unsigned long long)a1;
- (id)_getCachedValueForQueryCritiera:(id)a0 valueCriteriaCache:(id)a1 entitiesForCriteriaCache:(id)a2 didLoadBlocksByQueryCriteria:(id)a3 valueLoadedFromEntitiesArrayBlock:(id /* block */)a4 loadValueFromDataProviderBlock:(id /* block */)a5;
- (void)addPlaylistStoreItemsWithMetadata:(id)a0 completion:(id /* block */)a1;
- (void)enumerateEntityChangesAfterSyncAnchor:(id)a0 usingBlock:(id /* block */)a1;
- (void)_clearPendingDisconnection;
- (id)itemWithPersistentID:(unsigned long long)a0 verifyExistence:(BOOL)a1;
- (void)connectWithCompletionHandler:(id /* block */)a0;
- (id)addPlaylistWithName:(id)a0;
- (BOOL)hasAddedToLibraryAppleMusicContent;
- (BOOL)_hasItemsForQueryCriteria:(id)a0;
- (void)_reloadLibraryForContentsChangeWithNotificationInfo:(id)a0;
- (BOOL)removePlaylist:(id)a0;
- (BOOL)hasCompilations;
- (id)entityWithPersistentID:(long long)a0 entityType:(long long)a1;
- (void)setClientIdentity:(id)a0;
- (id)pathForAssetURL:(id)a0;
- (id)itemWithPersistentID:(unsigned long long)a0;
- (id)_initWithLibraryDataProvider:(id)a0;
- (id)initWithClientIdentity:(id)a0 userIdentity:(id)a1;
- (void)setCloudFilteringType:(long long)a0;
- (BOOL)hasPodcasts;
- (long long)status;
- (void)_activeUserDidChangeNotification:(id)a0;
- (void)encodeWithCoder:(id)a0;
- (id)collectionWithPersistentID:(unsigned long long)a0 groupingType:(long long)a1 verifyExistence:(BOOL)a2;
- (BOOL)isDeviceLibrary;
- (unsigned long long)_countOfItemsForQueryCriteria:(id)a0;
- (void)disconnect;
- (void)populateLocationPropertiesOfItem:(id)a0 withPath:(id)a1 assetProtectionType:(long long)a2;
- (id)entityWithMultiverseIdentifier:(id)a0;
- (void)connectWithAuthenticationData:(id)a0 completionBlock:(id /* block */)a1;
- (float)connectionProgress;
- (BOOL)hasPlaylists;
- (BOOL)hasUserPlaylistsContainingAppleMusicContent;
- (BOOL)hasAudioITunesUContent;
- (id)uniqueIdentifier;
- (unsigned long long)_countOfCollectionsForQueryCriteria:(id)a0;
- (BOOL)hasVideoITunesUContent;
- (id)playlistWithPersistentID:(unsigned long long)a0;
- (void)clearLocationPropertiesOfItem:(id)a0;
- (void)enumerateEntityChangesAfterSyncAnchor:(id)a0 maximumRevisionType:(long long)a1 inUsersLibrary:(BOOL)a2 usingBlock:(id /* block */)a3;
- (id)decodeItemWithCoder:(id)a0;
- (id)_itemsForQueryCriteria:(id)a0;
- (unsigned long long)_persistentIDForAssetURL:(id)a0;
- (void)_canShowCloudTracksDidChangeNotification:(id)a0;
- (void)activeUserChangeDidFinish;
- (id)collectionWithPersistentID:(unsigned long long)a0 groupingType:(long long)a1;
- (id)photosMemoriesPlaylist;
- (BOOL)importOriginalArtworkFromImageData:(id)a0 withArtworkToken:(id)a1 artworkType:(long long)a2 sourceType:(long long)a3 mediaType:(unsigned long long)a4;
- (BOOL)hasMovies;
- (BOOL)requiresAuthentication;
- (id)newPlaylistWithPersistentID:(unsigned long long)a0;
- (BOOL)_checkHasContent:(BOOL *)a0 determined:(BOOL *)a1 queryHasEntitiesBlock:(id /* block */)a2;
- (BOOL)_handlesSameAccountAs:(id)a0;
- (BOOL)hasMusicVideos;
- (id)playbackHistoryPlaylist;
- (id)_itemPersistentIdentifiersForQueryCriteria:(id)a0;
- (void)geniusItemsForSeedItem:(id)a0 completion:(id /* block */)a1;
- (BOOL)isHomeSharingLibrary;
- (id)addPlaylistWithName:(id)a0 activeGeniusPlaylist:(BOOL)a1;
- (void)_removeConnectionAssertion:(id)a0;
- (BOOL)hasSongs;
- (id)libraryDataProvider;
- (void).cxx_destruct;
- (void)endGeneratingLibraryChangeNotifications;
- (BOOL)isEqual:(id)a0;
- (void)_clearCachedEntitiesIncludingResultSets:(BOOL)a0;
- (void)removeLibraryFilterPredicate:(id)a0;
- (void)_scheduleLibraryChangeNotificationPostingBlock:(id /* block */)a0;
- (void)enumerateEntityChangesAfterSyncAnchor:(id)a0 maximumRevisionType:(long long)a1 usingBlock:(id /* block */)a2;
- (BOOL)isValidAssetURL:(id)a0;
- (BOOL)hasComposers;
- (BOOL)hasITunesUContent;
- (id)init;
- (void)populateLocationPropertiesOfItem:(id)a0 withPath:(id)a1 assetProtectionType:(long long)a2 completionBlock:(id /* block */)a3;
- (void)addLibraryFilterPredicate:(id)a0;
- (BOOL)hasUserPlaylists;
- (void)addStoreItem:(long long)a0 andAddTracksToCloudLibrary:(BOOL)a1 withCompletion:(id /* block */)a2;
- (id)entityWithSpotlightIdentifier:(id)a0;
- (BOOL)_checkHasContent:(BOOL *)a0 determined:(BOOL *)a1 mediaType:(unsigned long long)a2 queryHasEntitiesBlock:(id /* block */)a3;
- (BOOL)isGeniusEnabled;
- (id)_initWithUserIdentity:(id)a0;
- (void)clearSagaCloudAccountID;
- (BOOL)hasGenres;
- (id)initWithCoder:(id)a0;
- (BOOL)itemExistsInDatabaseWithPersistentID:(unsigned long long)a0;
- (id)entityWithLibraryURL:(id)a0;
- (BOOL)hasAlbums;
- (long long)cloudFilteringType;
- (BOOL)hasAudiobooks;
- (id)_collectionPersistentIdentifiersForQueryCriteria:(id)a0;
- (void)addStoreItemIDs:(id)a0 andAddTracksToCloudLibrary:(BOOL)a1 withCompletion:(id /* block */)a2;
- (BOOL)deleteItems:(id)a0;
- (void)_setLibraryFilterPredicates;
- (id)name;
- (BOOL)_hasCollectionsForQueryCriteria:(id)a0;
- (void)_performBlockOnLibraryHandlingTheSameAccount:(id /* block */)a0;
- (void)beginGeneratingLibraryChangeNotifications;
- (void)_displayValuesDidChangeNotification:(id)a0;
- (void)_reloadLibraryForDynamicPropertyChangeWithNotificationInfo:(id)a0;
- (id)connectionAssertionWithIdentifier:(id)a0;
- (BOOL)hasHomeVideos;
- (BOOL)hasMedia;
- (void)getPlaylistWithUUID:(id)a0 creationMetadata:(id)a1 completionHandler:(id /* block */)a2;
- (void)setSyncPlaylistId:(unsigned long long)a0;
- (void)dealloc;
- (id)_collectionsForQueryCriteria:(id)a0;
- (BOOL)hasArtists;
- (void)downloadAsset:(id)a0 completionHandler:(id /* block */)a1;
- (void)clearSagaLastItemPlayDataUploadDate;
- (void)clearSagaLastPlaylistPlayDataUploadDate;
- (id)additionalLibraryFilterPredicates;
- (BOOL)removeItems:(id)a0;
- (BOOL)hasAudibleAudioBooks;
- (id)URLForHomeSharingRequest:(id)a0;
- (void)_reloadLibraryForInvisiblePropertyChangeWithNotificationInfo:(id)a0;
- (void)_reloadLibraryForRestrictionsChange;
- (void)addItemWithProductID:(id)a0 completionHandler:(id /* block */)a1;
- (void)addStoreItemIDs:(id)a0 referralObject:(id)a1 andAddTracksToCloudLibrary:(BOOL)a2 withCompletion:(id /* block */)a3;
- (BOOL)hasTVShows;

@end
