@class NSCountedSet, MSAlbumSharingDaemon, NSString, MSASServerSideModelGroupedCommandQueue, MSASStateMachine, NSObject, MSASPendingChanges;
@protocol OS_dispatch_queue;

@interface MSASServerSideModel : MSASModelBase <MSASModel, MSASStateMachineDelegate>

@property (retain, nonatomic) NSCountedSet *observers;
@property (readonly, nonatomic) MSASStateMachine *stateMachine;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *memberQueue;
@property (retain, nonatomic) MSASServerSideModelGroupedCommandQueue *commandQueue;
@property (retain, nonatomic) MSASPendingChanges *pendingChanges;
@property (weak, nonatomic) MSAlbumSharingDaemon *daemon;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *eventQueue;
@property (readonly, retain, nonatomic) NSString *personID;
@property (nonatomic) int maxGroupedCallbackEventBatchCount;
@property (nonatomic) double maxGroupedCallbackEventIdleInterval;
@property (nonatomic) double maxGroupedCallbackEventStaleness;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (nonatomic) MSASStateMachine *MSASCounterpartInstance;

- (void)retainBusy;
- (void)addAlbum:(id)a0;
- (void)shutDown;
- (void)deleteAlbumWithGUID:(id)a0;
- (void)videoURLForAssetCollectionWithGUID:(id)a0 completionBlock:(id /* block */)a1;
- (id)albums;
- (void)dbQueueDeleteAssetCollectionMetadataAssetCollectionGUID:(id)a0 key:(id)a1 info:(id)a2;
- (void)eventQueueNotifyObserversOfUpdatedUnviewedCountInAlbum:(id)a0 unviewedCount:(int)a1 info:(id)a2;
- (void)setUserInfo:(id)a0 forInvitationWithGUID:(id)a1;
- (void)refreshCommentsForAssetCollectionWithGUID:(id)a0 resetSync:(BOOL)a1 info:(id)a2;
- (void)retrieveAssetsFromAssetCollectionsWithGUIDs:(id)a0 assetTypeFlags:(int)a1;
- (void)setUserInfo:(id)a0 forAssetCollectionWithGUID:(id)a1;
- (void)MSASStateMachine:(id)a0 didFinishUnsubscribingFromAlbum:(id)a1 info:(id)a2 error:(id)a3;
- (id)commentsForAssetCollectionWithGUID:(id)a0;
- (void)acceptInvitationWithGUID:(id)a0 info:(id)a1;
- (id)commentWithGUID:(id)a0;
- (void)MSASStateMachine:(id)a0 willCheckForUpdatesInAlbum:(id)a1 info:(id)a2;
- (void)dbQueueSetAccessControl:(id)a0 info:(id)a1;
- (void)eventQueuePerformBlockOnObservers:(id /* block */)a0;
- (id)initWithPersonID:(id)a0 databasePath:(id)a1 eventQueue:(id)a2;
- (BOOL)dbQueueAssetCollectionMetadataWithAssetCollectionGUID:(id)a0 key:(id)a1 outValue:(id *)a2;
- (void)markAlbumGUIDAsViewed:(id)a0 moveLastViewedAssetCollectionMarker:(BOOL)a1 info:(id)a2;
- (id)assetCollectionWithGUID:(id)a0;
- (void)dbQueueDeleteAllPendingCommentCheckOperations;
- (void)setUserInfo:(id)a0 forCommentWithGUID:(id)a1;
- (BOOL)hasCommandsInGroupedCommandQueue;
- (id)accessControlWithGUID:(id)a0;
- (id)initWithPersonID:(id)a0;
- (void)dbQueueSetAlbum:(id)a0 info:(id)a1;
- (void)deleteCommentWithGUID:(id)a0;
- (id)assetCollectionsInAlbumWithGUID:(id)a0;
- (void)MSASStateMachine:(id)a0 didFindSyncedKeyValueChangesForAlbumGUIDS:(id)a1 info:(id)a2;
- (id)dbQueueMaximumCommentIDForAssetCollectionWithGUID:(id)a0;
- (void)setUserInfo:(id)a0 forAlbumWithGUID:(id)a1;
- (void)deleteAssetCollectionsWithGUIDs:(id)a0;
- (id)MSASStateMachineDidRequestAlbumURLStringForAlbumWithGUID:(id)a0 info:(id)a1;
- (void)refreshAccessControlListForAlbumWithGUID:(id)a0 info:(id)a1;
- (void)MSASStateMachine:(id)a0 didFindAssetCollectionSyncedState:(id)a1 forAssetCollectionGUID:(id)a2 inAlbum:(id)a3 assetCollectionStateCtag:(id)a4 info:(id)a5;
- (id)nextCommandGroupMaxCount:(int)a0 outCommand:(id *)a1 outLastCommandIndex:(long long *)a2;
- (void)unsubscribeFromAlbumWithGUID:(id)a0 info:(id)a1;
- (void)MSASStateMachine:(id)a0 didFinishAddingSharingRelationships:(id)a1 toOwnedAlbum:(id)a2 info:(id)a3 error:(id)a4;
- (int)dbQueueCountOfUnviewedAssetCollectionsInAlbumWithGUID:(id)a0;
- (id)albumGUIDs;
- (void)markAlbumGUIDAsViewed:(id)a0 info:(id)a1;
- (void)unsubscribeFromAlbumWithGUID:(id)a0;
- (id)dbQueueAccessControlsForAlbumWithGUID:(id)a0;
- (BOOL)MSASStateMachine:(id)a0 didQueryIsAssetCollectionWithGUIDInModel:(id)a1;
- (void)acceptInvitationWithToken:(id)a0 completionBlock:(id /* block */)a1;
- (void)addObserver:(id)a0;
- (void)MSASStateMachine:(id)a0 didFinishMarkingAsSpamInvitationForToken:(id)a1 info:(id)a2 error:(id)a3;
- (id)dbQueueInvitationForAlbumWithGUID:(id)a0;
- (void)validateInvitationToken:(id)a0 albumName:(id)a1 completionBlock:(id /* block */)a2;
- (void)MSASStateMachine:(id)a0 didFinishEnqueueingAssetsForDownload:(id)a1 inAlbumWithGUID:(id)a2;
- (void)MSASStateMachine:(id)a0 didFinishCreatingAlbum:(id)a1 info:(id)a2 error:(id)a3;
- (void)removeObserver:(id)a0;
- (void)MSASStateMachine:(id)a0 willCheckForAlbumSyncedStateChangesInAlbum:(id)a1 info:(id)a2;
- (void)dbQueueSetInvitation:(id)a0 info:(id)a1;
- (void)acceptInvitationWithGUID:(id)a0;
- (id)captionForAssetCollectionWithGUID:(id)a0;
- (id)dbQueueLookupOrCreateAssetCollectionWithGUID:(id)a0 outAlbum:(id *)a1;
- (void)MSASStateMachine:(id)a0 didFindAlbumSyncedState:(id)a1 forAlbum:(id)a2 info:(id)a3;
- (void)MSASStateMachine:(id)a0 didFinishSettingSyncedStateForAlbum:(id)a1 info:(id)a2 error:(id)a3 newAlbumStateCtag:(id)a4;
- (void)dbQueueSetUnviewedState:(BOOL)a0 onAlbumWithGUID:(id)a1 info:(id)a2;
- (void)MSASStateMachine:(id)a0 didFinishDeletingAlbum:(id)a1 info:(id)a2 error:(id)a3;
- (id)invitationWithGUID:(id)a0;
- (id)dbQueueAccessControlGUIDsForAlbumWithGUID:(id)a0;
- (int)dbQueueUnviewedAssetCollectionCountForAlbumWithGUID:(id)a0;
- (void)MSASStateMachine:(id)a0 didFinishSettingSyncedStateForAssetCollection:(id)a1 inAlbum:(id)a2 assetStateCtag:(id)a3 info:(id)a4 error:(id)a5;
- (void)dbQueueDeleteAlbumMetadataAlbumGUID:(id)a0 key:(id)a1 info:(id)a2;
- (id)userInfoForInvitationWithGUID:(id)a0;
- (void)markAsSpamInvitationWithGUID:(id)a0 info:(id)a1;
- (void)refreshResetSync:(BOOL)a0 info:(id)a1;
- (void)MSASStateMachine:(id)a0 didFinishUpdatingAssetCollections:(id)a1 inAlbum:(id)a2 info:(id)a3 error:(id)a4;
- (BOOL)dbQueueAssetCollectionWithGUID:(id)a0 outObject:(id *)a1 outCtag:(id *)a2 outAlbumGUID:(id *)a3 outBatchDate:(id *)a4 outPhotoDate:(id *)a5 outPhotoNumber:(long long *)a6 outUserInfoData:(id *)a7;
- (void)dbQueueAddCommentCheckOperation:(id)a0;
- (void)MSASStateMachine:(id)a0 didFinishAddingAssetCollection:(id)a1 toAlbum:(id)a2 info:(id)a3 error:(id)a4;
- (void)markAsSpamAlbumWithGUID:(id)a0 info:(id)a1;
- (void)dbQueueDeleteInvitationWithGUID:(id)a0 info:(id)a1;
- (void)MSASStateMachine:(id)a0 didFinishDeletingAssetCollection:(id)a1 inAlbum:(id)a2 info:(id)a3 error:(id)a4;
- (void)MSASStateMachine:(id)a0 didFinishAddingComment:(id)a1 toAssetCollection:(id)a2 inAlbum:(id)a3 info:(id)a4 error:(id)a5;
- (void)MSASStateMachineDidStart:(id)a0;
- (void)MSASStateMachine:(id)a0 didRequestAssetsForAddingAssetCollections:(id)a1 inAlbum:(id)a2 specifications:(id)a3 info:(id)a4;
- (void)MSASStateMachine:(id)a0 didFindAlbumChanges:(id)a1 info:(id)a2;
- (void)removeAccessControlEntryWithGUID:(id)a0;
- (void)setUserInfo:(id)a0 forAccessControlWithGUID:(id)a1;
- (void)setMultipleContributorsEnabled:(BOOL)a0 forAlbumWithGUID:(id)a1 info:(id)a2 completionBlock:(id /* block */)a3;
- (void)addAlbum:(id)a0 info:(id)a1;
- (void)refreshAccessControlListForAlbumWithGUID:(id)a0;
- (void)dbQueueDeleteAlbumWithGUID:(id)a0 info:(id)a1;
- (void)dbQueueDeleteAllAssetCollectionMetadataForAssetCollectionWithGUID:(id)a0 info:(id)a1;
- (id)dbQueueCommentsForAssetCollectionWithGUID:(id)a0;
- (id)earliestUnviewedAssetCollectionGUIDInAlbumWithGUID:(id)a0;
- (void)addAssetCollections:(id)a0 toAlbumWithGUID:(id)a1 info:(id)a2;
- (BOOL)hasEnqueuedActivities;
- (void)addAccessControlEntries:(id)a0 toAlbumWithGUID:(id)a1 info:(id)a2;
- (id)accessControlGUIDsForAlbumWithGUID:(id)a0;
- (void)videoURLsForAssetCollectionWithGUID:(id)a0 forMediaAssetType:(unsigned long long)a1 completionBlock:(id /* block */)a2;
- (void)start;
- (BOOL)errorIsCancellation:(id)a0;
- (void)MSASStateMachine:(id)a0 didFindAssetCollectionChanges:(id)a1 forAlbum:(id)a2 info:(id)a3;
- (int)commandCount;
- (id)_invalidAccessControlGUIDErrorwithGUID:(id)a0;
- (void)dbQueueDeleteCommentWithGUID:(id)a0 info:(id)a1;
- (void)removeAccessControlEntryWithGUID:(id)a0 info:(id)a1;
- (id)initWithPersonID:(id)a0 databasePath:(id)a1;
- (id)assetCollectionGUIDsInAlbumWithGUID:(id)a0;
- (void)dbQueueFlushAllPendingCommentCheckOperations;
- (void)dbQueueSetComment:(id)a0 forAssetCollectionWithGUID:(id)a1 info:(id)a2;
- (int)unviewedAlbumCount;
- (id)serverSideConfiguration;
- (void)MSASStateMachine:(id)a0 didFinishCheckingForUpdatesInAlbum:(id)a1 info:(id)a2 error:(id)a3;
- (void)releaseBusy;
- (id)userInfoForAlbumWithGUID:(id)a0;
- (id)userInfoForAccessControlWithGUID:(id)a0;
- (void)deleteCommentWithGUID:(id)a0 info:(id)a1;
- (void)dbQueueDeleteInvitationForAlbumWithGUID:(id)a0 info:(id)a1;
- (int)unviewedAssetCollectionCountForAlbumWithGUID:(id)a0;
- (id)_invalidAssetCollectionGUIDErrorwithGUID:(id)a0;
- (void)MSASStateMachine:(id)a0 didFinishRemovingSharingRelationship:(id)a1 fromOwnedAlbum:(id)a2 info:(id)a3 error:(id)a4;
- (void).cxx_destruct;
- (id)userInfoForAssetCollectionWithGUID:(id)a0;
- (id)dbQueueLookupOrCreateCommentWithGUID:(id)a0 outAssetCollection:(id *)a1 outAlbum:(id *)a2;
- (BOOL)dbQueueUpgradeFromDatabaseVersion:(int)a0 currentVersion:(int)a1;
- (void)setFocusAssetCollectionGUID:(id)a0;
- (id)invitationGUIDs;
- (void)flushAllPendingCommentCheckOperations;
- (void)refreshResetSync:(BOOL)a0;
- (void)refreshCommentsForAssetCollectionWithGUID:(id)a0 resetSync:(BOOL)a1;
- (void)MSASStateMachine:(id)a0 didFindChangesInAlbum:(id)a1 info:(id)a2 error:(id)a3;
- (void)shutDownForDestruction:(BOOL)a0 completionBlock:(id /* block */)a1;
- (BOOL)dbQueueAlbumWithGUID:(id)a0 outObject:(id *)a1 outName:(id *)a2 outCtag:(id *)a3 outForeignCtag:(id *)a4 outURLString:(id *)a5 outUserInfoData:(id *)a6;
- (void)MSASStateMachine:(id)a0 didFinishDeletingComment:(id)a1 inAssetCollection:(id)a2 inAlbum:(id)a3 info:(id)a4 error:(id)a5;
- (id)serverCommunicationBackoffDate;
- (id)_protocolErrorForUnderlyingError:(id)a0;
- (void)subscribeToAlbumWithGUID:(id)a0;
- (BOOL)dbQueueCheckToClearUnviewedStateOnAlbumWithGUID:(id)a0 info:(id)a1;
- (void)performBlockOnObservers:(id /* block */)a0;
- (void)markAlbumGUIDAsViewed:(id)a0;
- (BOOL)dbQueueAlbumMetadataWithAlbumGUID:(id)a0 key:(id)a1 outValue:(id *)a2;
- (void)dbQueueSetAssetCollectionMetadataAssetCollectionGUID:(id)a0 key:(id)a1 value:(id)a2 info:(id)a3;
- (void)retrieveAssets:(id)a0 inAlbumWithGUID:(id)a1;
- (void)MSASStateMachine:(id)a0 didFinishCheckingForChangesInfo:(id)a1 error:(id)a2;
- (void)setPublicAccessEnabled:(BOOL)a0 forAlbumWithGUID:(id)a1 info:(id)a2 completionBlock:(id /* block */)a3;
- (void)addComments:(id)a0 toAssetCollectionWithGUID:(id)a1 info:(id)a2;
- (id)dbQueuePendingCommentCheckOperations;
- (void)rejectInvitationWithGUID:(id)a0;
- (void)MSASStateMachine:(id)a0 didFinishSendingInvitationByPhone:(id)a1 toOwnedAlbum:(id)a2 info:(id)a3 error:(id)a4;
- (void)dbQueueSetAlbumMetadataAlbumGUID:(id)a0 key:(id)a1 value:(id)a2 info:(id)a3;
- (void)dbQueueUpdateAlbumCtag:(id)a0;
- (void)setPublicAccessEnabled:(BOOL)a0 forAlbumWithGUID:(id)a1 completionBlock:(id /* block */)a2;
- (id)albumWithGUID:(id)a0;
- (BOOL)isAssetCollectionWithGUIDMarkedAsUnviewed:(id)a0;
- (id)isPublicAccessEnabledForAlbumWithGUID:(id)a0;
- (id)MSASStateMachineDidRequestAssetCollectionStateCtagForAssetCollectionWithGUID:(id)a0 info:(id)a1;
- (void)dbQueueDeleteAssetCollectionWithGUID:(id)a0 info:(id)a1;
- (BOOL)dbQueueCommentWithID:(int)a0 assetCollectionGUID:(id)a1 outObject:(id *)a2 outGUID:(id *)a3 outTimestamp:(id *)a4 outIsCaption:(BOOL *)a5 outUserInfoData:(id *)a6;
- (void)dbQueueSetUnviewedState:(BOOL)a0 onAssetCollectionWithGUID:(id)a1 info:(id)a2;
- (BOOL)dbQueueInvitationWithGUID:(id)a0 outObject:(id *)a1 outAlbumGUID:(id *)a2 outEmail:(id *)a3 outUserInfoData:(id *)a4;
- (void)MSASStateMachine:(id)a0 didFinishGettingAccessControls:(id)a1 forAlbum:(id)a2 info:(id)a3 error:(id)a4;
- (void)MSASStateMachine:(id)a0 didFinishMarkingAsSpamInvitationForAlbum:(id)a1 invitationGUID:(id)a2 info:(id)a3 error:(id)a4;
- (void)modifyAlbumMetadata:(id)a0;
- (id)focusAssetCollectionGUID;
- (id)dbQueueAssetCollectionGUIDsInAlbumWithGUID:(id)a0;
- (void)setMultipleContributorsEnabled:(BOOL)a0 forAlbumWithGUID:(id)a1 completionBlock:(id /* block */)a2;
- (id)dbQueueAlbumGUIDs;
- (void)reconstruct;
- (void)subscribeToAlbumWithGUID:(id)a0 info:(id)a1;
- (void)dbQueueDeleteAccessControlWithGUID:(id)a0 info:(id)a1;
- (id)invitationForAlbumWithGUID:(id)a0;
- (id)accessControlsForAlbumWithGUID:(id)a0;
- (void)MSASStateMachineDidUpdateServerCommunicationBackoffDate:(id)a0;
- (void)MSASStateMachine:(id)a0 didFindSyncedKeyValueChangesForAlbumGUIDS:(id)a1 albumChanges:(id)a2 accessControlChangesForAlbumGUIDS:(id)a3 info:(id)a4;
- (void)MSASStateMachine:(id)a0 didFindNewURLString:(id)a1 forAlbumWithGUID:(id)a2 info:(id)a3;
- (BOOL)dbQueueCommentWithGUID:(id)a0 outObject:(id *)a1 outID:(unsigned long long *)a2 outTimestamp:(id *)a3 outAssetCollectionGUID:(id *)a4 outIsCaption:(BOOL *)a5 outUserInfoData:(id *)a6;
- (void)enqueueCommand:(id)a0;
- (void)_reconstruct;
- (void)setFocusAlbumGUID:(id)a0;
- (id)dbQueueMaximumPhotoNumberForAlbumWithGUID:(id)a0;
- (void)MSASStateMachine:(id)a0 didFinishUpdatingAlbum:(id)a1 info:(id)a2 error:(id)a3;
- (void)MSASStateMachine:(id)a0 didFinishCheckingForAlbumSyncedStateChangesInAlbum:(id)a1 info:(id)a2 error:(id)a3 newAlbumStateCtag:(id)a4;
- (id)invitations;
- (void)markCommentsForAssetCollectionWithGUID:(id)a0 asViewedWithLastViewedDate:(id)a1 info:(id)a2;
- (BOOL)dbQueueAssetCollectionContainsCommentsFromMeAssetCollectionGUID:(id)a0;
- (void)addComments:(id)a0 toAssetCollectionWithGUID:(id)a1;
- (void)removeCommandsUpToCommandIndex:(long long)a0;
- (void)forgetEverythingInfo:(id)a0 completionBlock:(id /* block */)a1;
- (void)markCommentsForAssetCollectionWithGUID:(id)a0 asViewedWithLastViewedDate:(id)a1;
- (void)MSASStateMachineDidFindGlobalResetSync:(id)a0 info:(id)a1;
- (void)addAccessControlEntries:(id)a0 toAlbumWithGUID:(id)a1;
- (BOOL)dbQueueCheckToClearUnviewedStateOnAssetCollectionWithGUID:(id)a0 info:(id)a1;
- (void)forgetEverythingInfo:(id)a0;
- (void)MSASStateMachine:(id)a0 didFinishCheckingForUpdatesInAlbums:(id)a1 info:(id)a2;
- (void)cancel;
- (void)addAssetCollections:(id)a0 toAlbumWithGUID:(id)a1;
- (BOOL)dbQueueInvitationWithAlbumGUID:(id)a0 outObject:(id *)a1 outInvitationGUID:(id *)a2 outEmail:(id *)a3 outUserInfoData:(id *)a4;
- (void)MSASStateMachine:(id)a0 didFinishCheckingForCommentChangesInAssetCollectionWithGUID:(id)a1 largestCommentID:(int)a2 info:(id)a3 error:(id)a4;
- (void)MSASStateMachine:(id)a0 didFinishRetrievingAsset:(id)a1 inAlbum:(id)a2 error:(id)a3;
- (void)MSASStateMachine:(id)a0 willUpdateAssetCollections:(id)a1 inAlbum:(id)a2 info:(id)a3;
- (void)MSASStateMachine:(id)a0 didFindCommentChanges:(id)a1 inAssetCollectionWithGUID:(id)a2 inAlbumWithGUID:(id)a3 info:(id)a4;
- (void)refreshContentOfAlbumWithGUID:(id)a0 resetSync:(BOOL)a1 info:(id)a2;
- (void)deleteAssetCollectionWithGUID:(id)a0 info:(id)a1;
- (void)rejectInvitationWithGUID:(id)a0 info:(id)a1;
- (id)lastViewedCommentDateForAssetCollectionWithGUID:(id)a0;
- (id)MSASStateMachineDidRequestAlbumWithGUID:(id)a0;
- (id)userInfoForCommentWithGUID:(id)a0;
- (void)deleteAssetCollectionWithGUID:(id)a0;
- (int)dbQueueUnviewedAlbumCount;
- (void)dbQueueSetAssetCollection:(id)a0 inAlbumWithGUID:(id)a1 info:(id)a2;
- (void)markAsSpamInvitationWithToken:(id)a0 info:(id)a1;
- (BOOL)dbQueueAccessControlWithGUID:(id)a0 outObject:(id *)a1 outAlbumGUID:(id *)a2 outEmail:(id *)a3 outUserInfoData:(id *)a4;
- (void)modifyAlbumMetadata:(id)a0 info:(id)a1;
- (void)deleteAlbumWithGUID:(id)a0 info:(id)a1;
- (void)acceptInvitationWithToken:(id)a0 info:(id)a1 completionBlock:(id /* block */)a2;
- (void)dbQueueDeleteAllAlbumMetadataForAlbumWithGUID:(id)a0 info:(id)a1;
- (void)MSASStateMachine:(id)a0 didFinishSubscribingToAlbum:(id)a1 info:(id)a2 error:(id)a3;
- (id)dbQueueLookupOrCreateAlbumWithGUID:(id)a0;
- (BOOL)isAlbumWithGUIDMarkedAsUnviewed:(id)a0;
- (void)forgetEverything;
- (id)_invalidInvitationGUIDErrorWithGUID:(id)a0;
- (void)refreshContentOfAlbumWithGUID:(id)a0 resetSync:(BOOL)a1;
- (void)MSASStateMachine:(id)a0 didFireScheduledEvent:(id)a1 forAssetCollectionGUID:(id)a2 albumGUID:(id)a3 info:(id)a4;
- (void)MSASStateMachine:(id)a0 didFindAccessControlChangesForAlbumGUIDS:(id)a1 info:(id)a2;
- (id)MSASStateMachineDidRequestAlbumStateCtagForAlbumWithGUID:(id)a0 info:(id)a1;

@end
