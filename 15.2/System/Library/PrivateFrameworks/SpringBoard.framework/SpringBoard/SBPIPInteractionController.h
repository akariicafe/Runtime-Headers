@class UIPanGestureRecognizer, _UIHyperregionUnion, NSDictionary, SBPIPInteractionSettings, SBPIPPinchGestureRecognizer, NSMutableArray, SBPIPDefaultPositionHyperregionComposer, UIView, NSString, UIViewFloatAnimatableProperty, SBPIPRotationGestureRecognizer, _UIHyperInteractor, SBPIPContentViewLayoutSettings;
@protocol SBPIPInteractionControllerDelegate, BSInvalidatable, SBPIPInteractionControllerDataSource;

@interface SBPIPInteractionController : NSObject <UIGestureRecognizerDelegate, SBPIPSystemGestureRecognizerDelegate, PTSettingsKeyPathObserver, SBPIPPositionHyperregionComposerDelegate> {
    id<SBPIPInteractionControllerDelegate> _delegate;
    id<SBPIPInteractionControllerDataSource> _dataSource;
    UIView *_interactionTargetView;
    NSString *_shortDescription;
    long long _shouldStash;
    BOOL _didLastSettleInStashedState;
    BOOL _didHandleGestureEndState;
    BOOL _gesturesWereCancelled;
    BOOL _isChangingSize;
    BOOL _threeTouchesPanDetected;
    BOOL _useSystemGesturesForResizing;
    struct CGSize { double width; double height; } _toBeAppliedPreferredContentSize;
    UIViewFloatAnimatableProperty *_layoutProgressProperty;
    unsigned long long _allLayoutSessionUpdateReasons;
    unsigned long long _gesturesEndedLayoutReason;
    SBPIPPinchGestureRecognizer *_pinchGestureRecognizer;
    SBPIPRotationGestureRecognizer *_rotationGestureRecognizer;
    UIPanGestureRecognizer *_panGestureRecognizer;
    UIPanGestureRecognizer *_externalPanDrivingGestureRecognizer;
    UIPanGestureRecognizer *_panWhileResizingGestureRecognizer;
    struct SBPIPPositionGeometryContext { struct CGSize { double width; double height; } pipCurrentSize; struct CGSize { double width; double height; } pipLastSteadySize; struct CGSize { double width; double height; } pipStashedSize; struct CGPoint { double x; double y; } pipAnchorPointOffset; struct CGSize { double width; double height; } containerSize; struct UIEdgeInsets { double top; double left; double bottom; double right; } edgeInsets; struct UIEdgeInsets { double top; double left; double bottom; double right; } minimumPadding; struct UIEdgeInsets { double top; double left; double bottom; double right; } stashedMinimumPadding; unsigned long long offscreenCorners; long long orientation; } _geometryContext;
    NSDictionary *_resolvedPositionRegionsMap;
    NSMutableArray *_positionRegionComposers;
    _UIHyperregionUnion *_stashedLeftRegion;
    _UIHyperregionUnion *_stashedRightRegion;
    _UIHyperregionUnion *_cornersRegion;
    SBPIPDefaultPositionHyperregionComposer *_defaultComposer;
    _UIHyperInteractor *_positionInteractor;
    _UIHyperInteractor *_rotationInteractor;
    _UIHyperInteractor *_scaleInteractor;
    double _pinchGestureBaselineScale;
    double _pinchGestureScaleFactor;
    double _lastStashedProgress;
    struct CGPoint { double x; double y; } _panGestureLocationOffset;
    struct CGPoint { double x; double y; } _anchorPoint;
    struct CGAffineTransform { double a; double b; double c; double d; double tx; double ty; } _stashTabCompensationTransform;
    struct CGAffineTransform { double a; double b; double c; double d; double tx; double ty; } _rotationTransform;
    unsigned long long _inFlightAnimatedLayouts;
    id /* block */ _pendingInteractionCompletion;
    SBPIPInteractionSettings *_interactionSettings;
    id<BSInvalidatable> _stateCaptureInvalidatable;
    SBPIPContentViewLayoutSettings *_layoutSettings;
    UIView *_positionRegionVisualizationView;
}

@property (readonly, weak, nonatomic) UIView *targetView;
@property (readonly, nonatomic) struct CGSize { double x0; double x1; } containerSize;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } initialFrame;
@property (readonly, nonatomic) double preferredScale;
@property (readonly, nonatomic) double currentNormalizedScale;
@property (readonly, nonatomic) double stashProgress;
@property (readonly, nonatomic) long long orientation;
@property (readonly, nonatomic) SBPIPContentViewLayoutSettings *layoutSettings;
@property (readonly, nonatomic) unsigned long long canonicalPosition;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } nonoperationalFrame;
@property (readonly, nonatomic) NSString *debugName;
@property (weak, nonatomic) UIView *targetOverlayView;
@property (nonatomic, getter=isEnabled) BOOL enabled;
@property (nonatomic, getter=isStashed) BOOL stashed;
@property (nonatomic) double preferredNormalizedScale;
@property (nonatomic) struct CGSize { double width; double height; } preferredContentSize;
@property (nonatomic) struct UIEdgeInsets { double x0; double x1; double x2; double x3; } edgeInsets;
@property (nonatomic) struct UIEdgeInsets { double x0; double x1; double x2; double x3; } stashedPadding;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

- (void)settings:(id)a0 changedValueForKeyPath:(id)a1;
- (BOOL)_isPinching;
- (void)_setupStateCapture;
- (BOOL)_isRotating;
- (void)_updatePreferredContentSize;
- (BOOL)gestureRecognizer:(id)a0 shouldRecognizeSimultaneouslyWithGestureRecognizer:(id)a1;
- (BOOL)isRotating;
- (void)_setupGestureRecognizers;
- (void)handlePanGesture:(id)a0;
- (void).cxx_destruct;
- (BOOL)_isInteractive;
- (BOOL)_isPanning;
- (struct CGPoint { double x0; double x1; })_currentPosition;
- (void)_removeGestureRecognizers;
- (BOOL)gestureRecognizer:(id)a0 shouldReceiveTouch:(id)a1;
- (void)handlePinchGesture:(id)a0;
- (BOOL)gestureRecognizerShouldBegin:(id)a0;
- (void)dealloc;
- (BOOL)isPinching;
- (double)_currentScale;
- (double)_currentRotation;
- (void)_setDefaults;
- (BOOL)gestureRecognizerShouldFailForMovementPastHysteresis:(id)a0;
- (void)_setupDefaultInteractorsAndHyperRegions;
- (void)_updateInteractorsAndCommit:(BOOL)a0;
- (void)_setupForInitialFrame;
- (struct CGPoint { double x0; double x1; })_currentPositionForLayoutReason:(unsigned long long)a0;
- (struct CGSize { double x0; double x1; })_currentSizeForLayoutReason:(unsigned long long)a0;
- (struct CGSize { double x0; double x1; })_lastSteadySize;
- (BOOL)_hasValidInteractionTargetView;
- (void)handleRotationGesture:(id)a0;
- (void)_updateSettingsDrivenParameters;
- (void)addPositionRegionComposer:(id)a0;
- (void)_setNeedsLayoutForTraits:(unsigned long long)a0 withReason:(unsigned long long)a1 behavior:(int)a2;
- (struct CGPoint { double x0; double x1; })_closestToDefaultCornersPosition;
- (void)_performInitialLayoutIfNeeded;
- (BOOL)_isGesturing;
- (unsigned long long)_canonicalPositionForPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)setPlatformMetrics:(id)a0 contentSize:(struct CGSize { double x0; double x1; })a1 animationBehavior:(int)a2;
- (double)_proratedScaleForNormalizedScale:(double)a0;
- (void)_setPreferredScale:(double)a0 additionalReasons:(unsigned long long)a1 animationBehavior:(int)a2;
- (void)_cancelAllGestures;
- (BOOL)_hasInFlightLayoutAnimations;
- (void)_setNeedsLayoutForTraits:(unsigned long long)a0 withReason:(unsigned long long)a1 behavior:(int)a2 layoutCompletion:(id /* block */)a3 interactionCompletion:(id /* block */)a4;
- (void)setPreferredNormalizedScale:(double)a0 additionalReasons:(unsigned long long)a1 animationBehavior:(int)a2;
- (void)_applyPreferredScale;
- (BOOL)_isPreferredContentSizeDirty;
- (void)_noteStashProgress:(double)a0 withReason:(unsigned long long)a1;
- (struct CGAffineTransform { double x0; double x1; double x2; double x3; double x4; double x5; })_stashTabCompensationTransformForStashProgress:(double)a0 reason:(unsigned long long)a1;
- (struct CGPoint { double x0; double x1; })_roundPosition:(struct CGPoint { double x0; double x1; })a0 forSize:(struct CGSize { double x0; double x1; })a1;
- (double)_stashProgressForPosition:(struct CGPoint { double x0; double x1; })a0;
- (BOOL)_isPositionCloserToStashedLeftRegion:(struct CGPoint { double x0; double x1; })a0 closestPointOut:(struct CGPoint { double x0; double x1; } *)a1;
- (BOOL)_isSystemGestureRecognizer:(id)a0;
- (struct CGPoint { double x0; double x1; })_convertPointToInteractionTargetView:(struct CGPoint { double x0; double x1; })a0 fromSystemGestureRecognizer:(id)a1;
- (void)__moveToAnchorPoint:(struct CGPoint { double x0; double x1; })a0 reason:(id)a1;
- (void)_handleGestureBeganState:(id)a0;
- (void)_handleGestureEndedState:(id)a0;
- (void)_adjustContentViewAnchorPointForGestureRecognizer:(id)a0;
- (void)__handleGesturesEndedState:(id)a0;
- (void)_resetAnchorPoint;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })_inFlightHitTestPadding;
- (unsigned long long)__traitsForGesturesReasons:(unsigned long long)a0;
- (BOOL)_isSizeAffectedByLayoutReasons:(unsigned long long)a0;
- (void)_sizeChangeBeganWithBehavior:(int)a0;
- (void)_sizeChangeEnded;
- (BOOL)_isGestureRecognizerRecognizing:(id)a0;
- (id)_scaleHyperregion;
- (id)_rotationHyperregion;
- (id)positionHyperregion;
- (void)_updateHyperregionVisualizationIfNecessary;
- (BOOL)_regionIsStashedOne:(id)a0;
- (void)_updatePIPSizeGeometryContext;
- (struct SBPIPPositionInteractionStateContext { BOOL x0; BOOL x1; BOOL x2; BOOL x3; struct CGPoint { double x0; double x1; } x4; struct CGPoint { double x0; double x1; } x5; struct CGPoint { double x0; double x1; } x6; double x7; double x8; })_currentPositionInteractionStateContext;
- (void)positionRegionComposerDidInvalidate:(id)a0;
- (void)positionRegionComposerNeedsUpdate:(id)a0 behavior:(int)a1;
- (id)initWithInteractionTargetView:(id)a0 preferredContentSize:(struct CGSize { double x0; double x1; })a1 interactionSettings:(id)a2 dataSource:(id)a3 delegate:(id)a4;
- (void)setContentLayoutSettings:(id)a0 animationBehavior:(int)a1;
- (void)setContainerSize:(struct CGSize { double x0; double x1; })a0 withOrientation:(long long)a1;
- (void)toggleUserPreferredScale;
- (void)layoutInteractedTraits:(unsigned long long)a0 withReason:(unsigned long long)a1 source:(id)a2;
- (void)layoutWithFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 reason:(id)a1 source:(id)a2;
- (void)handleExternalPanGesture:(id)a0;

@end
