@class NSHashTable, HMFTimer, HMDMediaBrowser, HMDHAP2Storage, NSMutableArray, NSMutableSet, HMDHomeManager, NSString, HMDAccessoryServerBrowserDemo, NSArray, HMDAuthServer, HMFMessageDispatcher, HMDUnassociatedWACAccessory, CHIPAccessoryServerBrowser, NSObject, NSData, HMDWACBrowser, NSUUID, HAPAccessoryServerBrowserBTLE, HAPAccessoryServerBrowser, HAPAccessoryServerBrowserRelay, HMFUnfairLock, HAPAccessoryServerBrowserIP;
@protocol OS_dispatch_queue, OS_dispatch_source, HMDAccessoryBrowserManagerDelegate;

@interface HMDAccessoryBrowser : HMFObject <HAPAccessoryServerBrowserDelegate, HAPAccessoryServerDelegate, HMFMessageReceiver, HMFTimerDelegate, HMDMediaBrowserDelegate, HMDWACBrowserDelegate, HMDWACAccessoryConfigurationDelegate, HMDWatchSystemStateDelegate, HMDAuthServerDelegate, HMFLogging, HMDAccessoryBrowserProtocol, HMDAccessoryBrowserHapProtocol> {
    HMFUnfairLock *_lock;
    NSMutableSet *_unpairedHAPAccessories;
    NSMutableSet *_unassociatedMediaAccessories;
    NSMutableSet *_deviceSetupMediaAccessories;
    NSMutableSet *_unassociatedWACAccessories;
    NSMutableSet *_mediaAccessoryControlConnections;
    NSMutableSet *_browsingConnections;
    NSHashTable *_activeAssertions;
}

@property BOOL internalDiscoveryRequest;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *workQueue;
@property (retain, nonatomic) NSUUID *uuid;
@property (retain, nonatomic) HMFMessageDispatcher *messageDispatcher;
@property (nonatomic) unsigned long long generationCounter;
@property (weak, nonatomic) HMDHomeManager *homeManager;
@property (weak, nonatomic) id<HMDAccessoryBrowserManagerDelegate> managerDelegate;
@property (retain, nonatomic) NSMutableArray *accessoryServerBrowsers;
@property (retain, nonatomic) NSHashTable *discoveringAccessoryServerBrowsers;
@property (retain, nonatomic) HAPAccessoryServerBrowserIP *ipAccessoryServerBrowser;
@property (retain, nonatomic) HAPAccessoryServerBrowserBTLE *btleAccessoryServerBrowser;
@property (retain, nonatomic) HAPAccessoryServerBrowser *hap2AccessoryServerBrowser;
@property (retain, nonatomic) HMDHAP2Storage *hap2Storage;
@property (retain, nonatomic) HMDMediaBrowser *mediaBrowser;
@property (retain, nonatomic) HMDWACBrowser *wacBrowser;
@property (retain, nonatomic, getter=getActiveWACSession, setter=setActiveWACSession:) HMDUnassociatedWACAccessory *accessoryPerformingWAC;
@property (retain, nonatomic) HMDAuthServer *authServer;
@property (retain, nonatomic) HMDAccessoryServerBrowserDemo *demoAccessoryServerBrowser;
@property (readonly, nonatomic) HMFTimer *stopReprovisioningTimer;
@property (readonly, nonatomic) HMFTimer *stopBrowsingAccessoriesNeedingReprovisioningTimer;
@property (retain, nonatomic) NSString *identifierOfAccessoryBeingReprovisioned;
@property (retain, nonatomic) NSData *wiFiPSKForAccessoryReprovisioning;
@property (retain, nonatomic) NSString *countrycodeForAccessoryReprovisioning;
@property (nonatomic) BOOL active;
@property (retain, nonatomic) NSMutableArray *pairedAccessories;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *reachabilityTimerForBTLE;
@property (readonly, nonatomic) NSArray *unpairedHAPAccessories;
@property (readonly, nonatomic) NSArray *unassociatedMediaAccessories;
@property (readonly, nonatomic) NSArray *deviceSetupMediaAccessories;
@property (retain, nonatomic) NSMutableArray *currentlyPairingAccessories;
@property (retain, nonatomic) NSMutableArray *currentlyPairingProgressHandlers;
@property (readonly, nonatomic) NSHashTable *tombstonedHAPAccessoryServers;
@property (readonly, nonatomic) NSHashTable *discoveringBLEAccessoryServerIdentifiers;
@property (retain, nonatomic) NSMutableSet *discoveredAccessoryServerIdentifiers;
@property (retain, nonatomic) NSArray *browseableLinkTypes;
@property (readonly) CHIPAccessoryServerBrowser *chipAccessoryServerBrowser;
@property (nonatomic) BOOL btlePowerState;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) NSUUID *messageTargetUUID;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *messageReceiveQueue;
@property (readonly, copy) NSArray *unassociatedAccessories;
@property (readonly, nonatomic) HAPAccessoryServerBrowserRelay *relayAccessoryServerBrowser;

+ (id)logCategory;

- (void)activate:(BOOL)a0;
- (void)timerDidFire:(id)a0;
- (void)_registerForNotifications;
- (void)accessoryServerBrowser:(id)a0 didStopDiscoveringWithError:(id)a1;
- (id)discoveredAccessoryServers;
- (void)updateStateForIdentifier:(id)a0 stateNumber:(id)a1;
- (void)resetConfiguration;
- (void)accessoryServerBrowser:(id)a0 didStartDiscoveringWithError:(id)a1;
- (void)retrieveCurrentStateForIdentifer:(id)a0 onQueue:(id)a1 withCompletion:(id /* block */)a2;
- (void)resetPairedAccessories;
- (void)updateBroadcastKeyForIdentifer:(id)a0 key:(id)a1 keyUpdatedStateNumber:(id)a2 keyUpdatedTime:(double)a3;
- (void).cxx_destruct;
- (void)setQOS:(long long)a0;
- (id)messageDestination;
- (void)dealloc;
- (void)stopTrackingBTLEAccessoriesWithIdentifiers:(id)a0;
- (void)_registerForMessages;
- (void)removeAccessoryCacheForIdentifier:(id)a0;
- (void)saveAccessoryCache:(id)a0 forIdentifier:(id)a1;
- (void)fetchAccessoryCacheForIdentifier:(id)a0 completion:(id /* block */)a1;
- (void)handleXPCConnectionInvalidated:(id)a0;
- (void)configureWithHomeManager:(id)a0;
- (void)configureDemoBrowserWithDemoAccessories:(id)a0 finalized:(BOOL)a1;
- (id)initWithMessageDispatcher:(id)a0;
- (void)__handleProcessStateChange:(id)a0;
- (void)btleAccessoryReachabilityProbeTimer:(BOOL)a0;
- (void)stopDiscoveringAccessoriesWithLinkType:(long long)a0;
- (void)startDiscoveringAccessoriesWithLinkType:(long long)a0;
- (BOOL)isDiscoveringAccessoriesWithLinkType:(long long)a0;
- (void)resurrectAccessoryServer:(id)a0;
- (void)tombstoneAccessoryServer:(id)a0;
- (void)discoverAccessories:(id)a0;
- (void)probeReachabilityForBTLEAccessoryServersWithIdentifiers:(id)a0 onQueue:(id)a1 withCompletion:(id /* block */)a2;
- (void)discoverAccessoryServer:(id)a0 linkType:(long long)a1 errorHandler:(id /* block */)a2;
- (BOOL)isBrowsingAllowed;
- (void)endActiveAssertion:(id)a0;
- (void)handleSetupCodeAvailable:(id)a0;
- (id)unpairedAccessoryWithUUID:(id)a0;
- (void)cancelPairingWithAccessory:(id)a0 error:(id)a1;
- (void)cancelPairingWithAccessoryDescription:(id)a0 error:(id)a1;
- (id)acessoryBrowserHapProtocol;
- (void)addUnpairedAccessoryServer:(id)a0 identifier:(id)a1;
- (void)deregisterPairedAccessory:(id)a0;
- (void)registerPairedAccessory:(id)a0 transports:(unsigned long long)a1 setupHash:(id)a2 delegate:(id)a3;
- (void)handleRemovedAccessory:(id)a0;
- (void)removeUnassociatedAccessoryWithIdentifier:(id)a0;
- (void)handleAddedAccessory:(id)a0;
- (void)startDiscoveringPairedAccessories;
- (void)handleNewlyPairedAccessory:(id)a0 linkType:(long long)a1;
- (void)didReceiveUserConsentResponseForSetupAccessoryDetail:(id)a0 consent:(BOOL)a1;
- (void)pairAccessoryWithDescription:(id)a0 configuration:(id)a1 progressHandler:(id /* block */)a2 completionHandler:(id /* block */)a3;
- (void)removePairingInformationForAccessoryServer:(id)a0;
- (id)unpairedHAPAccessoryWithAccessoryDescription:(id)a0;
- (void)pairAccessory:(id)a0 configuration:(id)a1 completionHandler:(id /* block */)a2;
- (void)registerProgressHandler:(id /* block */)a0 unpairedAccessoryUUID:(id)a1;
- (void)_handleTestModeConfigRequest:(id)a0;
- (void)accessoryServerBrowser:(id)a0 didFailToDiscoverAccessoryServerWithIdentifier:(id)a1;
- (void)accessoryServerBrowser:(id)a0 didFindAccessoryServer:(id)a1 stateChanged:(BOOL)a2 stateNumber:(id)a3;
- (void)accessoryServerBrowser:(id)a0 didRemoveAccessoryServer:(id)a1 error:(id)a2;
- (void)addUnassociatedAccessory:(id)a0 forDeviceSetup:(BOOL)a1;
- (void)configureAccessory:(id)a0 trackState:(BOOL)a1 connectionPriority:(BOOL)a2;
- (void)currentlyFoundHAPAccessoryServerWithIdentifier:(id)a0 linkType:(long long)a1 completion:(id /* block */)a2;
- (void)unassociatedWACAccessoryDidFinishAssociation:(id)a0 withError:(id)a1;
- (void)unassociatedWACAccessoryDidStartAssociation:(id)a0;
- (void)requestPermissionToAssociateWACAccessory:(id)a0 completionHandler:(id /* block */)a1;
- (void)handlePPIDInfoResponse:(id)a0 context:(id)a1 error:(id)a2;
- (void)handleActivationResponse:(id)a0 context:(id)a1;
- (void)didFinishActivation:(id)a0 context:(id)a1;
- (void)startDiscoveringAccessoriesNeedingReprovisioning;
- (void)reprovisionAccessoryWithIdentifier:(id)a0 wiFiPSK:(id)a1 countryCode:(id)a2 withCompletion:(id /* block */)a3;
- (void)stopDiscoveringAccessories;
- (void)accessoryServer:(id)a0 didUpdateValuesForCharacteristics:(id)a1 stateNumber:(id)a2 broadcast:(BOOL)a3;
- (void)accessoryServer:(id)a0 didStopPairingWithError:(id)a1;
- (void)accessoryServer:(id)a0 didDiscoverAccessories:(id)a1 transaction:(id)a2 error:(id)a3;
- (void)removeUnassociatedWACAccessory:(id)a0;
- (void)addUnassociatedWACAccessory:(id)a0;
- (void)updateUnassociatedWACAccessory:(id)a0;
- (id)beginActiveAssertionWithReason:(id)a0;
- (void)startDiscoveringAccessories;
- (void)startDiscoveringPairedAccessoriesWithLinkType:(long long)a0;
- (id)dumpUnassociatedAccessories;
- (id)dumpRegisteredPairedAccessories;
- (id)dumpBrowsingConnections;
- (BOOL)hasClientRequestedMediaAccessoryControl:(id)a0;
- (void)handleStartDiscoveringAssociatedMediaAccessories:(BOOL)a0 forTransport:(id)a1 completionHandler:(id /* block */)a2;
- (void)removeUnassociatedAccessory:(id)a0;
- (void)browser:(id)a0 didAddAdvertisements:(id)a1;
- (void)browser:(id)a0 didRemoveAdvertisements:(id)a1;
- (void)browser:(id)a0 didRemoveSessions:(id)a1;
- (void)browser:(id)a0 didUpdateEndpoints:(id)a1;
- (void)accessoryServer:(id)a0 didDisconnectWithError:(id)a1;
- (void)accessoryServer:(id)a0 didUpdateWakeNumber:(id)a1;
- (void)accessoryServer:(id)a0 promptUserForPasswordWithType:(unsigned long long)a1;
- (void)accessoryServer:(id)a0 requestUserPermission:(long long)a1 accessoryInfo:(id)a2 error:(id)a3;
- (void)accessoryServer:(id)a0 didReceiveBadPasswordThrottleAttemptsWithDelay:(long long)a1;
- (void)accessoryServer:(id)a0 updatePairingProgress:(long long)a1;
- (void)accessoryServer:(id)a0 didUpdateHasPairings:(BOOL)a1;
- (void)accessoryServerDidUpdateStateNumber:(id)a0;
- (void)accessoryServer:(id)a0 didUpdateCategory:(id)a1;
- (void)accessoryServer:(id)a0 didUpdateName:(id)a1;
- (void)accessoryServer:(id)a0 validateUUID:(id)a1 token:(id)a2 model:(id)a3;
- (void)accessoryServer:(id)a0 validateCert:(id)a1 model:(id)a2;
- (void)accessoryServer:(id)a0 authenticateUUID:(id)a1 token:(id)a2;
- (void)accessoryServer:(id)a0 confirmUUID:(id)a1 token:(id)a2;
- (void)accessoryServer:(id)a0 didFinishAuth:(id)a1;
- (void)accessoryServerNeedsOwnershipToken:(id)a0;
- (BOOL)isServerLinkTypeBrowseable:(long long)a0;
- (void)accessoryServerBrowser:(id)a0 didFindAccessoryServerForReprovisioning:(id)a1;
- (void)accessoryServerBrowser:(id)a0 didFindAccessoryServerNeedingReprovisioning:(id)a1 error:(id)a2;
- (void)accessoryServerBrowser:(id)a0 didFinishWACForAccessoryWithIdentifier:(id)a1 error:(id)a2;
- (void)accessoryServerBrowser:(id)a0 didChangeReachability:(BOOL)a1 forAccessoryServerWithIdentifier:(id)a2;
- (void)accessoryServerBrowser:(id)a0 saveCache:(id)a1 serverIdentifier:(id)a2;
- (void)accessoryServerBrowser:(id)a0 getCacheForAccessoryWithIdentifier:(id)a1 withCompletion:(id /* block */)a2;
- (void)accessoryServerBrowser:(id)a0 removeCacheForAccessoryWithIdentifier:(id)a1;
- (void)accessoryServerBrowser:(id)a0 accessoryServer:(id)a1 didUpdateValuesForCharacteristics:(id)a2 stateNumber:(id)a3 broadcast:(BOOL)a4;
- (id)initWithMessageDispatcher:(id)a0 injectedSettings:(id)a1;
- (void)validateLinkTypes:(id)a0;
- (id)unassociatedAccessoriesForClientRequest:(id)a0;
- (id)_unassociatedMediaAccessoryWithIdentifier:(id)a0;
- (void)_handleAddedAccessory:(id)a0;
- (void)_handleRemovedAccessory:(id)a0;
- (void)_sendNewAccessoryData:(id)a0 messageName:(id)a1;
- (id)mediaAccessoryControlConnections;
- (void)resetMediaAccessoryControlConnections;
- (void)__removeMediaAccessoryControlObserver:(id)a0;
- (void)__addMediaAccessoryControlObserver:(id)a0;
- (void)_removeMediaAccessoryControlObserverMatchingConnection:(id)a0;
- (id)browsingConnections;
- (void)__resetBrowsingConnections;
- (BOOL)__isAccessoryBrowsingRequested;
- (BOOL)__isMediaAccessoryBrowsingRequested;
- (void)__removeBrowsingObserver:(id)a0 error:(id)a1;
- (void)__addBrowsingConnection:(id)a0;
- (void)_removeBrowsingConnection:(id)a0 error:(id)a1;
- (void)addPairedAccessory:(id)a0;
- (void)removePairedAccessory:(id)a0;
- (void)removePairedAccessoryInfoWithIdentifier:(id)a0;
- (id)pairedAccessoryInformationWithIdentifier:(id)a0;
- (id)pairedAccessoryInformationWithSetupID:(id)a0;
- (id)pairedHMDHAPAccessoryWithAccessoryServer:(id)a0;
- (id)__identifiersOfPairedAccessoriesWithTransports:(unsigned long long)a0;
- (BOOL)areThereAnyPairedAccessories;
- (id)identifiersOfPairedBTLEAccessories;
- (BOOL)areThereAnyPairedBTLEAccessories;
- (id)identifiersOfAssociatedMediaAccessories;
- (BOOL)areThereAnyAssociatedAirPlayAccessories;
- (unsigned long long)numPairedIPAccessories;
- (void)__activate;
- (void)__inactivate;
- (void)_notifyDelegateOfReachabilityChange:(BOOL)a0 forAccessoryWithIdentifier:(id)a1;
- (void)_handleAddedAccessoryAdvertisements:(id)a0;
- (void)_handleRemovedAccessoryAdvertisements:(id)a0;
- (void)startDiscoveringMediaAccessories;
- (void)stopDiscoveringMediaAccessories;
- (void)_reprovisionAccessoryWithIdentifier:(id)a0 wiFiPSK:(id)a1 countryCode:(id)a2 withCompletion:(id /* block */)a3;
- (void)handleConnectionDeactivation:(id)a0;
- (void)homeLocationChangeNotification:(id)a0;
- (id)_unpairedAccessoryMatchingPairingInfo:(id)a0;
- (id)_pairingInformationForUnpairedAccessory:(id)a0;
- (id)_pairingInformationForAccessoryIdentifier:(id)a0;
- (id)_progressHandlerForUnpairedAccessory:(id)a0;
- (void)addUnassociatedMediaAccessory:(id)a0 forDeviceSetup:(BOOL)a1;
- (void)_associate:(BOOL)a0 hapAccessoryWithAdvertisement:(id)a1;
- (void)_associateMediaAccessoryForServer:(id)a0;
- (void)removeUnassociatedMediaAccessory:(id)a0;
- (void)addUnpairedHAPAccessory:(id)a0;
- (void)removeUnpairedHAPAccessory:(id)a0;
- (void)_handleRemovedUnpairedHAPAccessory:(id)a0;
- (void)_removePairingInformationForUnpairedAccessory:(id)a0;
- (void)_handleWACAccessoryFound;
- (void)_addUnpairedAccessoryForServer:(id)a0;
- (void)_btleAccessoryReachabilityProbeTimer:(BOOL)a0;
- (void)_stopBtleAccessoryReachabilityProbeTimer;
- (void)_startOrStopAccessoryDiscovery;
- (BOOL)_isBrowsingAllowed;
- (void)_stopReprovisioningTimerHandler;
- (void)_discoverAccessoryServer:(id)a0 linkType:(long long)a1 errorHandler:(id /* block */)a2;
- (void)_startDiscoveringPairedAccessories:(id)a0;
- (void)_startDiscoveringAccessoriesWithLinkType:(id)a0;
- (void)_startDiscoveryForAccessoryServerBrowser:(id)a0;
- (void)_startDiscoveringMediaAccessories;
- (void)_stopDiscoveringMediaAccessories;
- (void)_stopDiscoveringAccessoriesWithLinkType:(id)a0 force:(BOOL)a1 error:(id)a2;
- (void)_stopDiscoveringAccessoriesWithError:(id)a0;
- (void)_stopDiscoveryForAccessoryServerBrowser:(id)a0;
- (void)_startDiscoveringAccessoriesNeedingReprovisioning;
- (void)_cancelCurrentlyPairingAccessories:(long long)a0;
- (void)_handleRequestFetchNewAccessories:(id)a0;
- (void)_handleRequestSearchForNewAccessories:(id)a0;
- (void)_setBTLEPowerChangeCompletionHandler;
- (id)unpairedAccessoryWithServerIdentifier:(id)a0;
- (id)unpairedAccessoryForServer:(id)a0;
- (void)_notifyManagerOfNewAccessory;
- (void)_handleSetupCodeAvailable:(id)a0;
- (void)_cancelPairingWithAccessory:(id)a0 error:(id)a1;
- (id)findAccessoryServerForAccessoryDescription:(id)a0;
- (void)_pairAccessoryWithDescription:(id)a0 configuration:(id)a1 progressHandler:(id /* block */)a2 completionHandler:(id /* block */)a3;
- (void)_pairAccessory:(id)a0 configuration:(id)a1 completionHandler:(id /* block */)a2;
- (void)_promptForPairingPasswordForServer:(id)a0 reason:(id)a1;
- (void)_updatePairingRetryTimerForAccessory:(id)a0 delay:(long long)a1;
- (void)_sendPairingCompletionStatusForServer:(id)a0 error:(id)a1 completionHandler:(id /* block */)a2;
- (BOOL)_isAccessoryServerTombstoned:(id)a0;
- (id)_tombstonedAccessoryServerWithServerIdentifier:(id)a0;
- (BOOL)_shouldAccessoryServerBeTombstoned:(id)a0;
- (void)_notifyDelegateOfTombstonedAccessoryServer:(id)a0;
- (void)_tombstoneAccessoryServer:(id)a0;
- (void)_discoverAccessories:(id)a0;
- (void)_resurrectAccessoryServer:(id)a0;
- (void)_notifyDelegateOfNewPairedAccessoryServer:(id)a0 stateChanged:(BOOL)a1 stateNumber:(id)a2;
- (void)_removePairingInformation:(id)a0 error:(id)a1;
- (void)_checkIfPairingWithPairedAccessoryServer:(id)a0 errorCode:(long long)a1;
- (void)_notifyDelegateOfWACCompletionForAccessoryServerWithIdentifier:(id)a0 error:(id)a1;
- (void)_notifyDelegateOfAccessoryServerNeedingReprovisioning:(id)a0 error:(id)a1;
- (void)_notifyDelegateOfRemovedAccessoryServer:(id)a0 error:(id)a1;
- (void)_handlePairingInterruptedTimeout:(id)a0 error:(id)a1;
- (void)_stopReconfirmTimer:(id)a0;
- (void)_startPairingInterruptionTimer:(id)a0;
- (void)_addReconfirmTimer:(id)a0 accessoryServer:(id)a1;
- (void)_notifyDelegateOfDiscoveryFailure:(id)a0 accessoryServer:(id)a1 linkType:(long long)a2;
- (void)_notifyDelegateOfReachabilityChangeChange:(BOOL)a0 forBTLEAccessories:(id)a1;
- (void)_continueAfterPPIDValidation:(BOOL)a0 server:(id)a1;
- (void)_callProgressOrErrorOut:(id)a0 pairingInfo:(id)a1 accessoryInfo:(id)a2 unpairedAccessory:(id)a3 progress:(long long)a4 certStatus:(unsigned long long)a5;
- (void)accessoryServer:(id)a0 promtDialog:(id)a1 forNotCertifiedAccessory:(id)a2 completion:(id /* block */)a3;
- (void)_notifyDelegateOfAccessoryServer:(id)a0 didStopPairingWithError:(id)a1;
- (void)_notifyDelegateOfAccessoryServer:(id)a0 didDiscoverAccessories:(id)a1 transaction:(id)a2 error:(id)a3;
- (void)continueAddingAccessoryToHomeAfterUserConfirmation:(id)a0 withError:(id)a1;
- (void)_notifyDelegateOfAccessoryServer:(id)a0 didUpdateValuesForCharacteristics:(id)a1 stateNumber:(id)a2 broadcast:(BOOL)a3;
- (void)_notifyDelegateOfAccessoryServer:(id)a0 didUpdateHasPairings:(BOOL)a1;
- (void)_notifyDelegateOfAccessoryServer:(id)a0 didUpdateCategory:(id)a1;
- (void)vendorModel:(id *)a0 vendorManufacturer:(id *)a1 accessoryInfo:(id)a2;

@end
