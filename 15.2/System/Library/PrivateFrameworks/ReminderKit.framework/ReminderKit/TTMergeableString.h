@class NSHashTable, NSString, TTVectorMultiTimestamp, NSUUID, CRTTCompatibleDocument, NSMutableAttributedString, NSObject;
@protocol TTMergeableStringDelegate;

@interface TTMergeableString : NSObject <CRDataType> {
    struct vector<TopoSubstring *, std::allocator<TopoSubstring *>> { struct TopoSubstring **__begin_; struct TopoSubstring **__end_; struct __compressed_pair<TopoSubstring **, std::allocator<TopoSubstring *>> { struct TopoSubstring **__value_; } __end_cap_; } _startNodes;
    struct vector<TopoSubstring *, std::allocator<TopoSubstring *>> { struct TopoSubstring **__begin_; struct TopoSubstring **__end_; struct __compressed_pair<TopoSubstring **, std::allocator<TopoSubstring *>> { struct TopoSubstring **__value_; } __end_cap_; } _endNodes;
    struct vector<TopoSubstring *, std::allocator<TopoSubstring *>> { struct TopoSubstring **__begin_; struct TopoSubstring **__end_; struct __compressed_pair<TopoSubstring **, std::allocator<TopoSubstring *>> { struct TopoSubstring **__value_; } __end_cap_; } _orderedSubstrings;
    unsigned int _unserializedClock;
    unsigned long long _editCount;
    BOOL _cacheInvalid;
    id /* block */ _updateRangeBlock;
}

@property (retain, nonatomic) CRTTCompatibleDocument *document;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (retain, nonatomic) TTVectorMultiTimestamp *timestamp;
@property (nonatomic) BOOL hasLocalChanges;
@property (retain, nonatomic) NSUUID *replicaUUID;
@property (retain, nonatomic) NSMutableAttributedString *attributedString;
@property (readonly, nonatomic) unsigned long long replicaTextClock;
@property (readonly, nonatomic) unsigned long long replicaStyleClock;
@property (weak, nonatomic) NSObject<TTMergeableStringDelegate> *delegate;
@property (readonly, nonatomic) NSHashTable *objectsNeedingUpdatedRanges;

+ (id)unserialisedReplicaID;

- (void)insertAttributedString:(id)a0 atIndex:(unsigned long long)a1;
- (id)string;
- (void)realizeLocalChangesIn:(id)a0;
- (unsigned long long)length;
- (void)deleteCharactersInRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a0;
- (void)updateCache;
- (void)endEditing;
- (BOOL)check:(id *)a0;
- (id)serialize;
- (void)mergeWith:(id)a0;
- (void)replaceCharactersInRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a0 withString:(id)a1;
- (void)replaceCharactersInRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a0 withAttributedString:(id)a1;
- (void)beginEditing;
- (void).cxx_destruct;
- (BOOL)isEqual:(id)a0;
- (id)init;
- (void)insertString:(id)a0 atIndex:(unsigned long long)a1;
- (void)invalidateCache;
- (id)copyWithZone:(struct _NSZone { } *)a0;
- (void)coalesce;
- (void *)endNodes;
- (id)deltaSince:(id)a0 in:(id)a1;
- (void)dealloc;
- (id).cxx_construct;
- (void)walkGraph:(id /* block */)a0;
- (id)tombstone;
- (void)generateIdsForLocalChanges;
- (id)initWithReplicaID:(id)a0;
- (id)initWithData:(id)a0 andReplicaID:(id)a1;
- (unsigned long long)mergeWithString:(id)a0 mergeTimestamps:(BOOL)a1;
- (id)initWithArchive:(const void *)a0 andReplicaID:(id)a1 andSharedTimestamp:(id)a2;
- (void)saveToArchive:(void *)a0;
- (id)initWithReplicaID:(id)a0 asFragment:(BOOL)a1;
- (id)initWithArchive:(const void *)a0 andReplicaID:(id)a1;
- (void)getSubstrings:(void *)a0 forCharacterRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a1;
- (void)deleteSubstrings:(void *)a0 withCharacterRanges:(void *)a1;
- (void *)orderedSubstrings;
- (void *)splitTopoSubstring:(void *)a0 atIndex:(unsigned int)a1;
- (struct TopoIDRange { struct TopoID { id x0; unsigned int x1; } x0; unsigned int x1; })insertAttributedString:(id)a0 after:(void *)a1 before:(void *)a2;
- (id)selectionForCharacterRanges:(id)a0 selectionAffinity:(unsigned long long)a1;
- (id)characterRangesForSelection:(id)a0 selectedSubstringsBlock:(id /* block */)a1;
- (BOOL)shouldInvalidateCachedSubstringsWithTimestamp:(id)a0;
- (void)updateClock;
- (void)updateSubstringIndexes;
- (void)getSubstrings:(void *)a0 inOrderedSubstrings:(void *)a1 forCharacterRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a2;
- (long long)substring:(void *)a0 modifiedAfter:(id)a1;
- (BOOL)textEitherSideOfSelectionAnchor:(struct TopoID { id x0; unsigned int x1; })a0 wasModifiedAfter:(id)a1;
- (BOOL)isFragment;
- (void)updateTopoIDRange:(struct TopoIDRange { struct TopoID { id x0; unsigned int x1; } x0; unsigned int x1; })a0 toNewRangeID:(struct TopoIDRange { struct TopoID { id x0; unsigned int x1; } x0; unsigned int x1; })a1;
- (void)traverseUnordered:(id /* block */)a0;
- (void)generateIdsForLocalChangesSafeForSharedTimestamp:(BOOL)a0;
- (void)cleanupObjectsNeedingUpdatedRanges;
- (void *)startNodes;
- (void)dumpMergeData:(id)a0;
- (void)checkTimestampLogStyleErrors:(BOOL)a0;
- (BOOL)canMergeString:(id)a0;
- (void)sortSplitNodes;
- (void)updateAttributedStringAfterMerge;
- (BOOL)graphIsEqual:(id)a0;
- (id)replicaUUIDForCharacterAtIndex:(unsigned long long)a0;
- (id)selectionForCharacterRanges:(id)a0;
- (id)characterRangesForSelection:(id)a0;
- (void)resetLocalReplicaClocksToTimestampValues;
- (void)_testSetTextTimestamp:(unsigned long long)a0;
- (void)updateTimestampsInRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a0;
- (void)moveRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a0 toIndex:(unsigned long long)a1;
- (void *)getSubstringBeforeTopoID:(struct TopoID { id x0; unsigned int x1; })a0;
- (void)getSubstrings:(void *)a0 forTopoIDRange:(struct TopoIDRange { struct TopoID { id x0; unsigned int x1; } x0; unsigned int x1; })a1;
- (void)getCharacterRanges:(void *)a0 forSubstrings:(void *)a1;
- (unsigned long long)getCharacterIndexForCharID:(struct TopoID { id x0; unsigned int x1; })a0;
- (void)enumerateSubstrings:(id /* block */)a0;
- (void)enumerateRangesModifiedAfter:(id)a0 usingBlock:(id /* block */)a1;
- (BOOL)selection:(id)a0 wasModifiedAfter:(id)a1;
- (unsigned long long)mergeWithString:(id)a0;
- (id)dotDescription:(unsigned long long)a0;
- (id)initWithArchive:(const void *)a0 andReplicaID:(id)a1 withOrderedSubstrings:(void *)a2 timestamp:(id)a3;
- (id)i_saveDeltasSinceTimestamp:(id)a0 toArchive:(void *)a1;
- (void)saveDeltaSinceTimestamp:(id)a0 toArchive:(void *)a1;
- (id)initWithArchive:(const void *)a0 andReplicaID:(id)a1 withOrderedSubstrings:(void *)a2;
- (void)saveSubstrings:(void *)a0 archiveSet:(void *)a1 linkSet:(void *)a2 archivedString:(id *)a3 toArchive:(void *)a4;
- (id)serializeDeltaSinceTimestamp:(id)a0;

@end
