@class NSMutableDictionary, NSMapTable, CLLocation, PGGraph, NSObject, NSDate, NSMutableIndexSet, PGManager, NSMutableArray, PGManagerWorkingContext, NSString, PGMemoryGenerationContext, NSSet, CLSHolidayCalendarEventService, PHPhotoLibrary, NSArray;
@protocol OS_os_log;

@interface PGMemoryController : NSObject {
    NSString *_meNodeLocalIdentifier;
    PGGraph *_graph;
    PGManager *_managerDeprecated;
    NSMutableArray *_latentMemories;
    NSArray *_existingMemories;
    NSArray *_blockedMemories;
    long long _numberOfDaysSinceLastMemory;
    NSMutableIndexSet *_matchedCategories;
    NSMutableIndexSet *_excludedFeaturedSubcategories;
    NSArray *_existingSuggestions;
    NSMutableDictionary *_numberOfAssetsByMomentIDs;
    NSMutableDictionary *_momentsByMomentIDs;
    NSMutableDictionary *_backingMomentIDsByPHMemoryIDs;
    NSMutableDictionary *_featureVectorByPHMemoryIDs;
    NSMapTable *_numberOfMemoryGenerationDaysByMemory;
    NSDate *_localDate;
    NSDate *_universalDate;
    CLLocation *_location;
    NSDate *_earliestDate;
    NSDate *_latestDate;
    NSDate *_directModeStartDate;
    NSDate *_directModeEndDate;
    CLSHolidayCalendarEventService *_holidayService;
    unsigned long long _currentRandom;
    BOOL _isLastResort;
    BOOL _isFirstTimesAfterUpgrade;
    BOOL _isAttemptingToUpgradeBestOfPastToFeaturedTrip;
    double _forcedBeta;
    double _topTierAestheticScore;
}

@property (readonly) PHPhotoLibrary *photoLibrary;
@property unsigned long long numberOfNewMemoriesForPeriodicity;
@property unsigned long long numberOfNewMemoriesForUserRequest;
@property (readonly) NSObject<OS_os_log> *loggingConnection;
@property (copy) id /* block */ progressBlock;
@property (readonly) BOOL isCreatingEverMemories;
@property (readonly) BOOL looksIntoFuture;
@property BOOL bypassesCategoryCheckForUpgrades;
@property (retain) NSSet *blockedFeatures;
@property (retain) NSSet *categoryWhitelist;
@property (retain) NSSet *categoryBlocklist;
@property BOOL ignoresMomentIsInteresting;
@property BOOL ignoresMinimumNumberOfMoments;
@property BOOL ignoresMinimumNumberOfAssets;
@property BOOL skipsAssetCollection;
@property BOOL skipsCuration;
@property BOOL skipsTitleGeneration;
@property BOOL skipsWeekendUpgrades;
@property BOOL skipsMeaningfulEventUpgrades;
@property BOOL skipsBestOfPastUpgradeToFeaturedTrip;
@property BOOL skipsBlockedFeatureCheck;
@property BOOL isDryTesting;
@property BOOL probabilityAlwaysPasses;
@property (readonly) PGManagerWorkingContext *workingContext;
@property (retain, nonatomic) PGMemoryGenerationContext *memoryGenerationContext;
@property (retain, nonatomic) NSSet *mandatoryFeatures;

+ (unsigned long long)minimumNumberOfCuratedAssetsForMemories;
+ (double)computeBetaWithGraph:(id)a0 loggingConnection:(id)a1 progress:(id /* block */)a2;
+ (unsigned long long)minimumNumberOfAssetsForMomentMemory;
+ (unsigned long long)minimumNumberOfAssetsForDisjointMomentsMemory;
+ (unsigned long long)minimumNumberOfAssetsForContiguousMomentsMemory;
+ (id)_localIdentifierOfMainPersonInEvent:(id)a0 prominentOnly:(BOOL)a1;
+ (BOOL)anyBlockedFeatureIn:(id)a0 isHitByEvent:(id)a1;

- (id)_areaFeatureForPotentialMemory:(id)a0 prominentOnly:(BOOL)a1;
- (BOOL)_assetCollection:(id)a0 matchesAssetCollection:(id)a1;
- (BOOL)_wantsFeaturedRecurrentTripWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (id)_personFeatureForPotentialMemory:(id)a0 prominentOnly:(BOOL)a1;
- (BOOL)_doSeasonWithLocalDate:(id)a0 forType:(unsigned long long)a1;
- (id)_createThirdEverMemoriesWithLocalDate:(id)a0 location:(id)a1 peopleNames:(id)a2 progress:(id /* block */)a3;
- (BOOL)_doFeaturedMeaningfulEventBeforeLocalDate:(id)a0 meaning:(unsigned long long)a1 lowRequirements:(BOOL)a2;
- (void)resetIgnoresAndSkips;
- (BOOL)_wantsPlaceRegionWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_memories:(id)a0 coverTypeOfMemory:(id)a1;
- (BOOL)_wantsFeaturedSocialGroupOverTimeWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_doFeaturedMeaningfulEventBeforeLocalDate:(id)a0 eventType:(unsigned long long)a1 usingLowRequirements:(BOOL)a2 oldMemory:(BOOL)a3;
- (BOOL)_wantsFeaturedFoodieWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)libraryHasEnoughScenesProcessed:(BOOL)a0 haveFacesProcessed:(BOOL)a1 forYear:(id)a2 withGraph:(id)a3;
- (id)_holidayFeatureForPotentialMemory:(id)a0 prominentOnly:(BOOL)a1;
- (BOOL)_wantsHomeAggregationWithLocalDate:(id)a0 reason:(unsigned long long)a1;
- (BOOL)_doFeaturedNeighborBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (unsigned long long)_desireLevelForSeasonInHistoryWithLocalDate:(id)a0;
- (void)performSynchronouslyOnGraphUsingBlock:(id /* block */)a0;
- (BOOL)_wantsRecentPastEventsWithReason:(unsigned long long)a0;
- (id)curatedAssetsWithFeeder:(id)a0 options:(id)a1 progressBlock:(id /* block */)a2;
- (unsigned int)randomNumber;
- (BOOL)_doFeaturedPeopleBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (id)_addressFeatureForPotentialMemory:(id)a0 prominentOnly:(BOOL)a1;
- (BOOL)_doCelebrationOverTimeWithLocalDate:(id)a0;
- (id)_uuidOfPersonsWithBirthdayOnDate:(id)a0;
- (BOOL)_doFeaturedMeaningfulEventAggregationBeforeLocalDate:(id)a0 meaning:(unsigned long long)a1 lowRequirements:(BOOL)a2;
- (BOOL)_doEarlyMomentsWithPeopleForLocalDate:(id)a0;
- (BOOL)_doFeaturedPastSupersetBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (BOOL)_wantsFeaturedPersonWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (id)_dateFeatureForPotentialMemory:(id)a0 prominentOnly:(BOOL)a1;
- (BOOL)eventIsTimely:(id)a0;
- (BOOL)_hasExhaustedFeatured:(BOOL *)a0;
- (id)momentForMomentID:(id)a0;
- (double)updatedBeta:(double)a0 forNumberOfDaysSinceLastMemory:(long long)a1;
- (BOOL)_doFeaturedRecurrentTripBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (void)prepareForGenerationSession;
- (id)_addressFeatureForPotentialMemory:(id)a0;
- (BOOL)_wantsEarlyMomentsWithPeopleWithReason:(unsigned long long)a0;
- (BOOL)_wantsFeaturedPersonOverTimeWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_doThrowbackThursdayForLocalDate:(id)a0;
- (unsigned long long)_generatorTypeForFeaturedSubcategory:(unsigned long long)a0;
- (BOOL)_doFeaturedForType:(unsigned long long)a0 beforeLocalDate:(id)a1 usingLowRequirements:(BOOL)a2 oldMemory:(BOOL)a3;
- (BOOL)_wantsFeaturedPetWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (id)_createFirstEverMemoriesWithLocalDate:(id)a0 location:(id)a1 peopleNames:(id)a2 progress:(id /* block */)a3;
- (BOOL)probabilityPassWithThreshold:(double)a0;
- (BOOL)_doFeaturedMeaningfulEventAggregationBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (id)createMemoriesWithOptions:(id)a0 progress:(id /* block */)a1;
- (float)_assetOverlapBetweenMomentsForIDs:(id)a0 andMomentsForIDs:(id)a1;
- (BOOL)_doFeaturedMeaningfulEventBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (unsigned long long)_numberOfAssetsInMomentsForIDs:(id)a0 withNumberOfAssetsByMomentIDs:(id)a1;
- (id)initWithGraph:(id)a0 workingContext:(id)a1 managerDeprecated:(id)a2;
- (BOOL)_doPlaceLocationBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (BOOL)_doDayInHistoryWithLocalDate:(id)a0;
- (BOOL)canUsePotentialMemory:(id)a0 isDebug:(BOOL)a1;
- (id)_holidayFeatureForPotentialMemory:(id)a0;
- (BOOL)_doFeaturedPeopleVisitingBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (unsigned int)randomNumberLessThan:(unsigned long long)a0;
- (id)_areaFeatureForPotentialMemory:(id)a0;
- (id)keyAssetWithFeeder:(id)a0 options:(id)a1 progressBlock:(id /* block */)a2;
- (BOOL)_doHomeAggregationWithLocalDate:(id)a0;
- (BOOL)_doBestOfPastWithLocalDate:(id)a0;
- (BOOL)_doTodaysBirthdayWithLocalDate:(id)a0;
- (BOOL)_wantsFeaturedBabyWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (unsigned long long)_featuredSubcategoryForGeneratorType:(unsigned long long)a0;
- (id)_doDirectModeWithLocalDate:(id)a0 location:(id)a1 peopleNames:(id)a2 parameters:(id)a3 progress:(id /* block */)a4;
- (BOOL)_wantsFeaturedPeopleWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (id)_createMoreMemoriesWithLocalDate:(id)a0 location:(id)a1 peopleNames:(id)a2 progress:(id /* block */)a3;
- (BOOL)_wantsFeaturedMeaningfulEventWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_memories:(id)a0 containMemory:(id)a1;
- (id)_idsOfMomentsBackingPHMemory:(id)a0;
- (BOOL)eventPassesContextualityCheck:(id)a0;
- (void).cxx_destruct;
- (unsigned long long)subcategoryForString:(id)a0;
- (BOOL)isOKToProceedWithEarlyPotentialMemory:(id)a0;
- (BOOL)_wantsFeaturedSocialGroupWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (id)_createSecondEverMemoriesWithLocalDate:(id)a0 location:(id)a1 peopleNames:(id)a2 progress:(id /* block */)a3;
- (id)_createPeriodicMemoriesWithLocalDate:(id)a0 location:(id)a1 peopleNames:(id)a2 progress:(id /* block */)a3;
- (id)_locationBlockableFeatureForPotentialMemory:(id)a0;
- (BOOL)_doYearSummaryWithLocalDate:(id)a0;
- (id)_peopleBlockableFeatureForPotentialMemory:(id)a0;
- (BOOL)isUpcomingDayOfYearFromReferenceDate:(id)a0 localDate:(id)a1;
- (BOOL)_doFeaturedTripBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (BOOL)_doFeaturedPetBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (float)_assetOverlapBetweenMomentsForIDs:(id)a0 andMomentsForIDs:(id)a1 withNumberOfAssetsByMomentIDs:(id)a2;
- (BOOL)_wantsPlaceAreaWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_doPeopleMemoriesForPeopleWithUUID:(id)a0 year:(long long)a1;
- (BOOL)_doPersonOverTimeMemoriesForPersonWithName:(id)a0;
- (BOOL)_wantsKeyPeopleForUpcomingHolidayEventWithReason:(unsigned long long)a0;
- (BOOL)_wantsFeaturedMeaningfulEventAggregationWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_doFeaturedPersonOverTimeBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (BOOL)_doPlaceAreaBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (BOOL)_wantsThrowbackThursdayWithReason:(unsigned long long)a0;
- (id)_dateIntervalFeatureForPotentialMemory:(id)a0;
- (BOOL)_doSometimeInHistory;
- (BOOL)isOKToProceedWithDirectEarlyPotentialMemory:(id)a0;
- (BOOL)_doFeaturedTripBetweenLocalDate:(id)a0 andLocalDate:(id)a1;
- (id)_dateFeatureForPotentialMemory:(id)a0;
- (BOOL)_doFeaturedWeekendBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (id)_createFirstTimesAfterUpgradeMemoriesWithLocalDate:(id)a0 location:(id)a1 peopleNames:(id)a2 progress:(id /* block */)a3;
- (BOOL)_wantsBestOfPastWithReason:(unsigned long long)a0;
- (BOOL)_wantsFeaturedPastSupersetWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_doPlaceBusinessBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (BOOL)_doFeaturedMeaningfulEventAggregationBeforeLocalDate:(id)a0 eventType:(unsigned long long)a1 usingLowRequirements:(BOOL)a2 oldMemory:(BOOL)a3;
- (BOOL)_wantsCelebrationOverTimeWithReason:(unsigned long long)a0;
- (BOOL)_doPlaceRegionBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (BOOL)_wantsFeaturedForType:(unsigned long long)a0 reason:(unsigned long long)a1 usingLowRequirements:(BOOL)a2;
- (BOOL)_doFeaturedSocialGroupOverTimeBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (unsigned long long)_desireLevelForLastSeasonWithLocalDate:(id)a0;
- (id)_createOneMemoryWithCategory:(unsigned long long)a0 subcategory:(unsigned long long)a1 localDate:(id)a2 location:(id)a3 peopleNames:(id)a4;
- (BOOL)potentialMemory:(id)a0 isTooSimilarTooSoonToPHMemory:(id)a1;
- (BOOL)_doBestOfRandomYear;
- (BOOL)_doOneFeaturedWithLocalDate:(id)a0 reason:(unsigned long long)a1 usingLowRequirements:(BOOL)a2 hasExhaustedFeatured:(BOOL *)a3;
- (id)_personFeatureForEarlyPotentialMemory:(id)a0;
- (id)blockableFeaturesForPotentialMemory:(id)a0;
- (BOOL)_wantsFeaturedWeekendWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_doFeaturedFoodieBeforeLocalDate:(id)a0 oldMemory:(BOOL)a1;
- (BOOL)libraryHasEnoughProcessedScenes:(BOOL)a0 andProcessedFaces:(BOOL)a1;
- (BOOL)_doFeaturedFoodieOfType:(id)a0 kind:(id)a1 beforeLocalDate:(id)a2 oldMemory:(BOOL)a3;
- (BOOL)_doFeaturedPersonBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (BOOL)_wantsFeaturedPeopleVisitingWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_wantsTodaysBirthdayWithReason:(unsigned long long)a0;
- (BOOL)_doFeaturedSocialGroupBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (id)anyBlockedFeatureHitByEarlyPotentialMemory:(id)a0;
- (id)assetCollectionWithAssetLocalIdentifiers:(id)a0;
- (id)initWithWorkingContext:(id)a0 managerDeprecated:(id)a1;
- (BOOL)_wantsPlaceBusinessWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_wantsDayInHistoryWithReason:(unsigned long long)a0;
- (id)_timeBlockableFeatureForPotentialMemory:(id)a0;
- (id)extendedCuratedAssetsWithFeeder:(id)a0 options:(id)a1 progressBlock:(id /* block */)a2;
- (BOOL)_wantsPlaceLocationWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (BOOL)_wantsFeaturedNeighborWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (unsigned long long)desireLevelForYearSummaryWithLocalDate:(id)a0;
- (BOOL)_doKeyPeopleForUpcomingHolidayEventWithLocalDate:(id)a0;
- (BOOL)_wantsFeaturedTripWithReason:(unsigned long long)a0 usingLowRequirements:(BOOL)a1;
- (unsigned long long)_meaningFromString:(id)a0;
- (BOOL)momentNodesHaveScenesProcessed:(id)a0 inGraph:(id)a1;
- (BOOL)_memories:(id)a0 containAssetCollection:(id)a1;
- (BOOL)_doFeaturedBabyBeforeLocalDate:(id)a0 usingLowRequirements:(BOOL)a1 oldMemory:(BOOL)a2;
- (BOOL)_doRecentPastEventsWithLocalDate:(id)a0;
- (BOOL)anyBlockedFeatureIsHitByEvent:(id)a0;
- (BOOL)isUpcomingDayOfYearFromReferenceDate:(id)a0;

@end
