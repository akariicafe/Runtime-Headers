@class NSMutableDictionary, NSUserActivity, NSDictionary, IMContactStore, IMSharedWithYouManager, NSMutableArray, IMDaemonController, NSString, NSSet, IMDaemonQueryController, IMTimer, NSArray, TUConversationManager;
@protocol IMRemoteDaemonProtocol;

@interface IMChatRegistry : NSObject <NSFastEnumeration, TUConversationManagerDelegate> {
    NSMutableArray *_pendingQueries;
    NSMutableArray *_waitingForQueries;
    NSMutableDictionary *_queryCompletionBlocks;
    NSString *_historyModificationStamp;
    IMTimer *_markAsReadTimer;
    double _timerStartTimeInterval;
    BOOL _daemonHadTerminated;
    BOOL _wantsHistoryReload;
    BOOL _isInternalInstall;
    NSMutableDictionary *_chatsBeingLoadedMap;
    NSMutableDictionary *_chatPersonIDToChatMap;
}

@property (class, readonly) BOOL hasInitializedChatFiltering;

@property (readonly, nonatomic) NSArray *allExistingChats;
@property (readonly, nonatomic) unsigned long long numberOfExistingChats;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, copy, nonatomic) NSArray *cachedChats;
@property (readonly, nonatomic) unsigned long long numberOfCachedChats;
@property (readonly, nonatomic) NSArray *_cachedRegisteredChats;
@property (readonly, nonatomic) NSArray *_cachedChatsIncludingUnregisteredChats;
@property (readonly, nonatomic) BOOL blackholedChatsExist;
@property (readonly, nonatomic) id<IMRemoteDaemonProtocol> remoteDaemon;
@property (readonly, nonatomic) IMDaemonController *daemonController;
@property (readonly, nonatomic) IMDaemonQueryController *daemonQueryController;
@property (readonly, nonatomic) IMSharedWithYouManager *sharedWithYouManager;
@property (readonly, nonatomic) NSMutableArray *cachedChats;
@property (readonly, nonatomic) NSMutableDictionary *chatGUIDToChatMap;
@property (readonly, nonatomic) NSMutableDictionary *chatGUIDToCurrentThreadMap;
@property (readonly, nonatomic) NSMutableDictionary *chatGUIDToInfoMap;
@property (readonly, nonatomic) NSMutableDictionary *threadNameToChatMap;
@property (readonly, nonatomic) NSMutableDictionary *simulatedChatGUIDToChatMap;
@property (readonly, nonatomic) NSMutableDictionary *chatGUIDToiMessageSentOrReceivedMap;
@property (readonly, nonatomic) NSMutableArray *cachedChatsInThreadNameMap;
@property (copy, nonatomic) NSDictionary *filterCategoryToEarliestInitiallyFetchedLastMessageDate;
@property (readonly, nonatomic) NSMutableDictionary *groupIDToChatMap;
@property (readonly, nonatomic) NSMutableDictionary *groupParticipantToChatsMap;
@property (retain, nonatomic) NSUserActivity *userActivity;
@property (nonatomic) BOOL processingChatCacheMiss;
@property (nonatomic) BOOL blackholedChatsExist;
@property (nonatomic, getter=isFirstLoad) BOOL firstLoad;
@property (nonatomic) unsigned long long unreadCount;
@property (nonatomic) long long lastFailedMessageDate;
@property (retain, nonatomic) NSSet *registryChangeHistoryChatsToUnregister;
@property (retain, nonatomic) NSSet *registryChangeHistoryChatsToObserve;
@property (retain, nonatomic) IMContactStore *contactStore;
@property (nonatomic, setter=_setPostMessageSentNotifications:) BOOL _postMessageSentNotifications;
@property (nonatomic, setter=_setDefaultNumberOfMessagesToLoad:) unsigned long long _defaultNumberOfMessagesToLoad;
@property (retain, nonatomic, setter=_setSimulatedChats:) NSArray *simulatedChats;
@property (readonly, nonatomic) BOOL _isLoading;
@property (retain, nonatomic) NSArray *preExistingAllChats;
@property (readonly, nonatomic) TUConversationManager *conversationManager;
@property (retain, nonatomic) NSDictionary *chatIdToLastMessageItemMap;

+ (id)sharedInstance;
+ (void)setHasInitializedChatFiltering:(BOOL)a0;
+ (Class)messageClass;
+ (id)performanceLogHandle;
+ (void)setMessageClass:(Class)a0;

- (id)_activeTUConversations;
- (void)_chat_closeSession:(id)a0;
- (id)_possiblyUnregisteredCachedChatForRoom:(id)a0 onAccount:(id)a1;
- (void)_registerCompletion:(id /* block */)a0 forQueryID:(id)a1;
- (id)chatForIMHandles:(id)a0 chatName:(id)a1;
- (BOOL)_nicknameSharingEnabled;
- (id)existingChatWithHandles:(id)a0 allowAlternativeService:(BOOL)a1 groupID:(id)a2;
- (void)_chat:(id)a0 removeParticipants:(id)a1 reason:(id)a2 fromiMessageChat:(BOOL)a3;
- (void)forcedReloadingChatRegistryWithQueryID:(id)a0;
- (id)_inPersonHandleFromIMHandle:(id)a0 contact:(id)a1;
- (void)chat:(id)a0 updated:(id)a1;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 notifySentMessage:(id)a4 sendTime:(id)a5;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 updateProperties:(id)a4;
- (id)existingConversationForTUConversationUUID:(id)a0;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 groupID:(id)a4 chatPersonCentricID:(id)a5 messageReceived:(id)a6;
- (void)_handleMergedChatReconstructions:(id)a0;
- (void)_clearExistingTypingIndicatorsWithMessageGUID:(id)a0 excludingChatWithIdentifier:(id)a1;
- (id)messagesURLWithMessageGUID:(id)a0;
- (id)existingChatWithPinningIdentifier:(id)a0;
- (void)_chat_sendReadReceiptForAllMessages:(id)a0;
- (id)messagesURLWithChat:(id)a0 orHandles:(id)a1 withMessageText:(id)a2;
- (id)existingChatWithContacts:(id)a0 bestHandles:(id *)a1;
- (void)lastMessageForChats:(id)a0;
- (void)_chat_markAsSpam:(id)a0 queryID:(id)a1 autoReport:(BOOL)a2;
- (void)conversationManager:(id)a0 remoteMembersChangedForConversation:(id)a1;
- (void)chat:(id)a0 propertiesUpdated:(id)a1;
- (id)chatForIMHandles:(id)a0 displayName:(id)a1 joinedChatsOnly:(BOOL)a2;
- (id)chatForIMHandles:(id)a0 lastAddressedHandle:(id)a1 lastAddressedSIMID:(id)a2;
- (id)existingChatWithGroupID:(id)a0;
- (id)_sortedParticipantIDHashForParticipants:(id)a0;
- (void)_resetChatReconstructionGroupMaps;
- (id)loadChatFromDaemonWithChatIdentifier:(id)a0;
- (void)downloadedPurgedAssetBatchForChatIDs:(id)a0 completedTransferGUIDs:(id)a1;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 groupID:(id)a4 chatPersonCentricID:(id)a5 messageSent:(id)a6;
- (void)_processMessageForAccount:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 groupID:(id)a4 chatPersonCentricID:(id)a5 message:(id)a6;
- (void)_registerChatDictionary:(id)a0 forChat:(id)a1 isIncoming:(BOOL)a2 newGUID:(id)a3;
- (void)unreadCountChanged:(long long)a0;
- (void)_updateInfo:(id)a0 forGUID:(id)a1 updatingUnreadCount:(BOOL)a2 shouldPostNotifications:(BOOL)a3;
- (void)_chat:(id)a0 updateLastAddressedHandle:(id)a1;
- (id)chatWithHandle:(id)a0;
- (void)_postMultiWayStateChangedNotification:(id)a0;
- (void)_chat_loadUnreadMessages:(id)a0 limit:(unsigned long long)a1 fallbackGUID:(id)a2 queryID:(id)a3 loadImmediately:(BOOL)a4;
- (void)_unregisterChatWithGUID:(id)a0;
- (void)_chatLoadedWithChatIdentifier:(id)a0 chats:(id)a1;
- (void)_daemonReallyDied:(id)a0;
- (BOOL)__im_ff_improvedPriorityInversionFixEnabled;
- (id)existingChatForIMHandles:(id)a0 allowRetargeting:(BOOL)a1 groupID:(id)a2 displayName:(id)a3 ignoresDisplayName:(BOOL)a4 joinedChatsOnly:(BOOL)a5;
- (void)_chat:(id)a0 updateDisplayName:(id)a1;
- (id)_inPersonFromIMHandle:(id)a0 isMe:(BOOL)a1;
- (void)_processMessagesForAccount:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 groupID:(id)a4 chatPersonCentricID:(id)a5 messages:(id)a6 messagesComingFromStorage:(BOOL)a7;
- (BOOL)__im_ff_isInterstellarEnabled;
- (id)_inPersonNameForContact:(id)a0 imHandle:(id)a1;
- (id)_performSingleChatCacheLookupWithBlock:(id /* block */)a0 cacheMissQueryKey:(id)a1 queryBlock:(id /* block */)a2;
- (unsigned long long)countByEnumeratingWithState:(struct { unsigned long long x0; id *x1; unsigned long long *x2; unsigned long long x3[5]; } *)a0 objects:(id *)a1 count:(unsigned long long)a2;
- (void)blackholedChatsExist:(BOOL)a0;
- (id)chatForURL:(id)a0 outMessageText:(id *)a1 outRecipientIDs:(id *)a2 outService:(id *)a3 outMessageGUID:(id *)a4 presentOverlay:(BOOL *)a5;
- (void)_checkLimitAndSetMessagesToKeepLoadedIfNeeded:(unsigned long long)a0 chat:(id)a1;
- (id)existingChatWithDeviceIndependentID:(id)a0;
- (void)chat:(id)a0 chatPersonCentricID:(id)a1 displayNameUpdated:(id)a2;
- (void)_chat_declineInvitation:(id)a0;
- (id)existingChatForIMHandles:(id)a0 allowRetargeting:(BOOL)a1;
- (void)chat:(id)a0 isFilteredUpdated:(long long)a1;
- (void)_updateUnreadCountForChat:(id)a0;
- (void)chat:(id)a0 lastAddressedHandleUpdated:(id)a1;
- (id)chatWithHandles:(id)a0 lastAddressedHandle:(id)a1 lastAddressedSIMID:(id)a2;
- (void)_IMChatGetIdentifiersAndServicesTestHookWithChatRegistry:(id)a0 chat:(id)a1 identifiers:(id *)a2 services:(id *)a3 personCentricEnabled:(BOOL)a4;
- (id)existingChatForContacts:(id)a0 bestHandles:(id *)a1;
- (void)conversationManager:(id)a0 activeRemoteParticipantsChangedForConversation:(id)a1;
- (id)generateUnusedChatIdentifierForGroupChatWithAccount:(id)a0;
- (void)chatsNeedRemerging:(id)a0 groupedChats:(id)a1;
- (void)_chat:(id)a0 sendSavedReceiptForMessage:(id)a1;
- (id)chatForURL:(id)a0 outMessageText:(id *)a1 outRecipientIDs:(id *)a2 outService:(id *)a3 outMessageGUID:(id *)a4;
- (id)chatWithHandles:(id)a0 displayName:(id)a1 joinedChatsOnly:(BOOL)a2;
- (void)lastFailedMessageDateChanged:(long long)a0;
- (BOOL)_shouldSwitchAccountAddingMessagesToChat:(id)a0 messageItems:(id)a1 messagesComingFromStorage:(BOOL)a2 chatProperties:(id)a3;
- (id)_eventForMessage:(id)a0;
- (void)_addChat:(id)a0 participantSet:(id)a1;
- (void)_checkIfItemIsCorrupt:(id)a0;
- (void)unregisterChatWithGUID:(id)a0;
- (void)_registerChatDictionary:(id)a0 forChat:(id)a1 isIncoming:(BOOL)a2 newGUID:(id)a3 shouldPostNotification:(BOOL)a4;
- (void)_participantsUpdated:(id)a0;
- (id)chatForIMHandles:(id)a0;
- (void)_noteChatDealloc:(id)a0;
- (id)existingChatWithHandle:(id)a0 allowAlternativeService:(BOOL)a1;
- (void)_chat_loadUncachedAttachmentsCount:(id)a0 queryID:(id)a1 loadImmediately:(BOOL)a2;
- (id)_existingChatWithHandle:(id)a0 fixChatHandle:(BOOL)a1;
- (id)existingChatWithAddresses:(id)a0 allowAlternativeService:(BOOL)a1 bestHandles:(id *)a2;
- (void)previouslyBlackholedChatLoadedWithHandleIDs:(id)a0 chat:(id)a1;
- (void)_unregisterChat:(id)a0;
- (void)_account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 messagesUpdated:(id)a4;
- (id)existingChatForAddresses:(id)a0 allowRetargeting:(BOOL)a1 bestHandles:(id *)a2;
- (void)chat:(id)a0 nicknamesUpdated:(id)a1;
- (void)chat:(id)a0 lastAddressedSIMIDUpdated:(id)a1;
- (id)chatForRoom:(id)a0 onAccount:(id)a1;
- (id)existingChatWithHandles:(id)a0;
- (void)_chat_remove:(id)a0;
- (void)uncachedAttachmentCountQuery:(id)a0 chatID:(id)a1 services:(id)a2 finishedWithResult:(id)a3;
- (id)_cachedChatWithHandle:(id)a0;
- (void)chat:(id)a0 chatPersonCentricID:(id)a1 displayNameUpdated:(id)a2 sender:(id)a3;
- (id)existingChatForIMHandles:(id)a0 allowRetargeting:(BOOL)a1 groupID:(id)a2;
- (void)markedAsReadForMessageGUID:(id)a0 success:(BOOL)a1 queryID:(id)a2;
- (void)_handleAddressBookChange:(id)a0;
- (id)chatForIMHandles:(id)a0 chatName:(id)a1 lastAddressedHandle:(id)a2 lastAddressedSIMID:(id)a3;
- (id)existingChatWithGUID:(id)a0;
- (void)_chat:(id)a0 handleCompletionOfQuery:(id)a1 withUserInfo:(id)a2 success:(BOOL)a3 error:(id)a4;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 groupID:(id)a4 chatPersonCentricID:(id)a5 statusChanged:(int)a6 handleInfo:(id)a7;
- (void)_updatePersonCentricIDToChatMapForChat:(id)a0 toNewPersonCentricID:(id)a1;
- (unsigned long long)_nicknameSharingAudience;
- (void)_chat:(id)a0 setPlayedExpressiveSendForMessage:(id)a1;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 messageUpdated:(id)a4;
- (id)existingChatForIMHandles:(id)a0 allowRetargeting:(BOOL)a1 groupID:(id)a2 displayName:(id)a3 joinedChatsOnly:(BOOL)a4;
- (void)setUserActivityForChat:(id)a0 message:(id)a1 orHandles:(id)a2 title:(id)a3;
- (id)chatPersonIDToChatMap;
- (void)enumerateAllChatsAndAttachmentSizesWithOptions:(unsigned long long)a0 usingBlock:(id /* block */)a1;
- (id)chatsWithMyself;
- (void)leftChat:(id)a0;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 messagesUpdated:(id)a4;
- (void)_chat:(id)a0 setValue:(id)a1 forChatProperty:(id)a2;
- (id)_cachedChatWithDisplayName:(id)a0;
- (void)frequentRepliesQuery:(id)a0 chatID:(id)a1 services:(id)a2 finishedWithResult:(id)a3 limit:(unsigned long long)a4;
- (id)chatWithHandle:(id)a0 lastAddressedHandle:(id)a1 lastAddressedSIMID:(id)a2;
- (id)_copyMergedChatsPairedArrayFromMergedChatsArray:(id)a0;
- (id)chatWithHandles:(id)a0 displayName:(id)a1 joinedChatsOnly:(BOOL)a2 lastAddressedHandle:(id)a3 lastAddressedSIMID:(id)a4;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 groupID:(id)a4 chatPersonCentricID:(id)a5 messagesReceived:(id)a6 messagesComingFromStorage:(BOOL)a7;
- (void)chatLoadedWithChatIdentifier:(id)a0 chats:(id)a1;
- (void)_updateBlackholedChatsExist:(BOOL)a0;
- (void)conversationManager:(id)a0 removedActiveConversation:(id)a1;
- (id)_existingChatForHandleUsingPersonID:(id)a0;
- (void)historyQuery:(id)a0 chatID:(id)a1 services:(id)a2 finishedWithResult:(id)a3 limit:(unsigned long long)a4;
- (void).cxx_destruct;
- (void)_chat_loadHistory:(id)a0 limit:(unsigned long long)a1 beforeGUID:(id)a2 afterGUID:(id)a3 threadIdentifier:(id)a4 queryID:(id)a5;
- (id)_existingChatForTUConversation:(id)a0;
- (void)_updateChat:(id)a0 updateIsFiltered:(long long)a1;
- (id)existingChatWithChatIdentifier:(id)a0;
- (void)setUserActivityForChat:(id)a0 orHandles:(id)a1 title:(id)a2;
- (void)_updateChat:(id)a0 groupID:(id)a1 shouldPostNotification:(BOOL)a2;
- (id)existingChatForIMHandle:(id)a0;
- (id)_possiblyUnregisteredCachedChatWithIdentifier:(id)a0 style:(unsigned char)a1 account:(id)a2;
- (id)initAsListener:(BOOL)a0;
- (id)existingChatWithHandle:(id)a0;
- (id)_existingChatWithIdentifier:(id)a0 style:(unsigned char)a1 account:(id)a2;
- (id)_ownerHandleStringsFromSubscription:(id)a0;
- (void)_handleChatParticipantsDidChange:(id)a0;
- (id)init;
- (void)_chat:(id)a0 sendGroupPhotoUpdate:(id)a1;
- (void)markAsSpamQuery:(id)a0 chatID:(id)a1 services:(id)a2 finishedWithResult:(id)a3;
- (void)updateChatDictionaryArray:(id)a0 createdChat:(id)a1 joinstate:(long long)a2 setHasCommunicatedOveriMessage:(BOOL *)a3;
- (BOOL)_shouldShareMeCardForAlwaysAskAudienceWithChat:(id)a0;
- (void)_chat:(id)a0 joinWithProperties:(id)a1;
- (void)_noteChatInit:(id)a0;
- (void)_chat:(id)a0 updateIsFiltered:(long long)a1;
- (id)existingChatWithDisplayName:(id)a0;
- (void)service:(id)a0 chat:(id)a1 style:(unsigned char)a2 messagesUpdated:(id)a3;
- (id)existingChatWithPersonID:(id)a0;
- (id)performanceLogHandle;
- (void)_verifyChatMergeWithChat:(id)a0 dictionary:(id)a1;
- (id)_possiblyUnregisteredCachedChatWithHandle:(id)a0;
- (BOOL)_hasChat:(id)a0 forService:(id)a1;
- (id)_cachedChatsWithMessageGUID:(id)a0;
- (void)_fetchInitialBatchOfContactsOnLaunch;
- (id)existingChatForRoom:(id)a0 onAccount:(id)a1;
- (void)_validateChatQueryResults:(id)a0 matchCurrentCacheResults:(id)a1;
- (void)_updateInfo:(id)a0 forGUID:(id)a1 updatingUnreadCount:(BOOL)a2;
- (id)existingChatForIMHandle:(id)a0 allowRetargeting:(BOOL)a1 fixChatHandle:(BOOL)a2;
- (void)_chat_loadAttachments:(id)a0 queryID:(id)a1 loadImmediately:(BOOL)a2;
- (id)chatForIMHandles:(id)a0 displayName:(id)a1 joinedChatsOnly:(BOOL)a2 lastAddressedHandle:(id)a3 lastAddressedSIMID:(id)a4;
- (id)chatForIMHandle:(id)a0 lastAddressedHandle:(id)a1 lastAddressedSIMID:(id)a2;
- (void)conversationManager:(id)a0 activitySessionsChangedForConversation:(id)a1;
- (void)_trackUsageForMessage:(id)a0;
- (id)chatForIMHandle:(id)a0;
- (id)existingChatForIMHandle:(id)a0 allowRetargeting:(BOOL)a1;
- (id)_chatsMatchingStatusSubscription:(id)a0;
- (id)existingChatWithHandles:(id)a0 allowAlternativeService:(BOOL)a1;
- (void)setupComplete;
- (void)attachmentQuery:(id)a0 chatID:(id)a1 services:(id)a2 finishedWithResult:(id)a3;
- (void)_chat:(id)a0 sendMessage:(id)a1;
- (void)_removeChatIdFromChatIdToLastMessageItemMap:(id)a0;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 chatPersonCentricID:(id)a4 member:(id)a5 statusChanged:(int)a6;
- (void)_markHasHadSuccessfulQueryForChat:(id)a0;
- (id)exisitingChatForGroupID:(id)a0;
- (void)_chat_loadFrequentReplies:(id)a0 limit:(unsigned long long)a1 queryID:(id)a2 loadImmediately:(BOOL)a3;
- (id)_cachedChatsWithMessage:(id)a0;
- (void)setUpInitialCallState;
- (void)_chat_markAsSpam:(id)a0 queryID:(id)a1;
- (void)engroupParticipantsUpdatedForChat:(id)a0;
- (void)_chat_loadHistory:(id)a0 limit:(unsigned long long)a1 beforeGUID:(id)a2 afterGUID:(id)a3 threadIdentifier:(id)a4 queryID:(id)a5 loadImmediately:(BOOL)a6;
- (void)_setMeCardSharingOnMessage:(id)a0 forChat:(id)a1;
- (void)_chat:(id)a0 sendNotifyRecipientCommandForMessage:(id)a1;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 invitationReceived:(id)a4;
- (void)_chat:(id)a0 sendSyndicationAction:(id)a1;
- (void)historicalMessageGUIDsDeleted:(id)a0 chatGUIDs:(id)a1 queryID:(id)a2;
- (void)_completeChatLoadQueryWithChat:(id)a0 queryID:(id)a1;
- (id)unblackholeAndLoadChatWithIMHandles:(id)a0;
- (void)_registerChat:(id)a0 isIncoming:(BOOL)a1 guid:(id)a2;
- (void)_daemonCompletedDeferredSetup;
- (void)__handleChatReconstructions:(id)a0;
- (void)_handleAvailabilityInvitationReceivedNotification:(id)a0;
- (void)account:(id)a0 chat:(id)a1 style:(unsigned char)a2 chatProperties:(id)a3 error:(id)a4;
- (void)_resetChatRegistry;
- (void)_setChatHasCommunicatedOveriMessage:(id)a0;
- (void)loadedChats:(id)a0 queryID:(id)a1;
- (void)chat:(id)a0 engramIDUpdated:(id)a1;
- (void)isDownloadingQuery:(id)a0 chatID:(id)a1 services:(id)a2 finishedWithResult:(BOOL)a3;
- (void)previouslyBlackholedChatLoadedWithChatIdentifier:(id)a0 chats:(id)a1;
- (id)_cachedChatWithIdentifier:(id)a0;
- (void)frequentRepliesQuery:(id)a0 finishedWithResult:(id)a1 limit:(unsigned long long)a2;
- (void)_handleChatReconstructions:(id)a0;
- (id)chatGuidsForChat:(id)a0;
- (id)_existingChatFromSiblingsForHandle:(id)a0;
- (void)setActiveChatURL:(id)a0;
- (void)__handleMergedChatReconstructions:(id)a0;
- (void)_automation_markAsReadQuery:(id)a0 finishedWithResult:(BOOL)a1;
- (void)_chat_downloadPurgedAttachmentsForChat:(id)a0;
- (id)unblackholeChatWithHandles:(id)a0;
- (void)conversationManager:(id)a0 stateChangedForConversation:(id)a1;
- (id)allGUIDsForChat:(id)a0;
- (void)_handleAvailabilityChangedNotification:(id)a0;
- (BOOL)_shouldShareMeCardForContactsOnlyAudienceWithChat:(id)a0;
- (id)_cachedChatWithGUID:(id)a0;
- (void)_removeFromGroupParticipantToChatsMap:(id)a0;
- (void)_chat:(id)a0 retryGroupPhotoUpload:(id)a1;
- (void)_setReplyToGuidOnMessage:(id)a0 forChat:(id)a1;
- (void)dealloc;
- (void)_chat_markAsSpamAutomatically:(id)a0;
- (void)_chat:(id)a0 sendReadReceiptForMessages:(id)a1;
- (void)_handleAvailabilityStateChangedNotification:(id)a0;
- (void)setupComplete:(BOOL)a0 info:(id)a1;
- (id)_possiblyUnregisteredCachedChatWithHandles:(id)a0 style:(unsigned char)a1 groupID:(id)a2 displayName:(id)a3 joinedChatsOnly:(BOOL)a4;
- (void)_chat:(id)a0 inviteParticipants:(id)a1 reason:(id)a2 toiMessageChat:(BOOL)a3;
- (void)unregisterChat:(id)a0;
- (id)messagesURLWithChat:(id)a0;
- (id)_cachedChatWithIdentifier:(id)a0 style:(unsigned char)a1;
- (id)existingConversationForTelephonyConversationUUID:(id)a0;
- (id)_sortedParticipantIDHashForParticipants:(id)a0 usesPersonCentricID:(BOOL)a1;
- (BOOL)__im_ff_chatCacheEnabled;
- (void)_loadChatsFilteredUsingPredicate:(id)a0 lastMessageOlderThan:(id)a1 limit:(unsigned long long)a2 waitForReply:(BOOL)a3 completionHandler:(id /* block */)a4;
- (id)existingChatForIMHandles:(id)a0;
- (void)_previouslyBlackholedChatLoadedWithHandleIDs:(id)a0 chat:(id)a1;
- (void)_chat_loadPagedHistory:(id)a0 numberOfMessagesBefore:(unsigned long long)a1 numberOfMessagesAfter:(unsigned long long)a2 messageGUID:(id)a3 threadIdentifier:(id)a4 queryID:(id)a5;
- (void)screenTimeEnablementChanged:(BOOL)a0;
- (id)existingChatForPersonID:(id)a0;
- (void)_chat_clearHistory:(id)a0 beforeGUID:(id)a1 afterGUID:(id)a2 queryID:(id)a3;
- (void)_updateChatAutoDonationBehavior:(id)a0 withInfo:(id)a1 shouldPostNotification:(BOOL)a2;
- (void)groupPhotoUpdatedForChatIdentifier:(id)a0 style:(unsigned char)a1 account:(id)a2 userInfo:(id)a3;
- (id)_existingChatWithIdentifier:(id)a0 style:(unsigned char)a1 service:(id)a2;
- (id)_performChatCacheLookupWithBlock:(id /* block */)a0 cacheMissQueryKey:(id)a1 queryBlock:(id /* block */)a2;
- (void)verifyFilteringForAllChats;
- (void)_handleCachingAliasToCNIDMap:(id)a0;
- (BOOL)_updateAutoDonationBehavior:(long long)a0 forChat:(id)a1 shouldPostNotification:(BOOL)a2;
- (void)_chat:(id)a0 updateLastAddressedSIMID:(id)a1;
- (void)_chat_isDownloadingPurgedAssetsForChat:(id)a0 queryID:(id)a1 loadImmediately:(BOOL)a2;
- (id)existingChatForEngramID:(id)a0;
- (void)_blockUntilQueriesComplete:(id)a0;
- (id)_cachedChatWithGroupID:(id)a0;
- (void)finishedDownloadingPurgedAssetsForChatIDs:(id)a0;
- (void)__blockUntilQueriesComplete;
- (id)activeCallForConversationUUID:(id)a0;
- (void)pagedHistoryQuery:(id)a0 chatID:(id)a1 services:(id)a2 numberOfMessagesBefore:(unsigned long long)a3 numberOfMessagesAfter:(unsigned long long)a4 finishedWithResult:(id)a5 hasMessagesBefore:(BOOL)a6 hasMessagesAfter:(BOOL)a7;
- (void)_chat:(id)a0 sendPlayedReceiptForMessage:(id)a1;
- (void)chat:(id)a0 uncachedAttachmentCountUpdated:(id)a1;
- (id)_chatForIdentifiers:(id)a0;
- (void)_chat:(id)a0 setProperties:(id)a1 ofParticipant:(id)a2;
- (void)lastMessageForAllChats:(id)a0;
- (void)_batchFetchRemainingContactsOnLaunch;
- (id)_cachedChatWithHandles:(id)a0 allowAlternativeService:(BOOL)a1 groupID:(id)a2 displayName:(id)a3 joinedChatsOnly:(BOOL)a4;
- (id)_cachedChatWithPersonID:(id)a0;
- (void)_chat_leave:(id)a0 leavingiMessageChat:(BOOL)a1;
- (id)chatWithHandles:(id)a0;
- (void)_chat_storeItem:(id)a0 inChat:(id)a1;
- (id)existingChatForRoom:(id)a0 onAccount:(id)a1 allowRetargeting:(BOOL)a2;
- (id)existingChatWithHandles:(id)a0 allowAlternativeService:(BOOL)a1 groupID:(id)a2 displayName:(id)a3 joinedChatsOnly:(BOOL)a4;
- (void)_chat:(id)a0 updateIsBlackholed:(BOOL)a1;
- (void)chat:(id)a0 lastSeenMessageGuidUpdated:(id)a1;
- (void)_updateUnreadCountForChat:(id)a0 shouldPostNotification:(BOOL)a1;

@end
