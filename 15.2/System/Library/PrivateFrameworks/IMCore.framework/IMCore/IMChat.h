@class NSDictionary, IMChatRegistry, IMChatScrutinyController, IMMomentSharePresentationCache, IMMomentShareCache, IMTimingCollection, IMMessageItem, IMOrderingTools, NSMutableArray, NSString, NSMutableSet, NSArray, NSMutableDictionary, IMHandle, IMParticipantChangeChatItem, NSSet, NSData, IMScheduledUpdater, IMInlineReplyController, IMSendProgress, IMMessage, NSDate, IMAccount, NSNumber, IMBrand;
@protocol IMChatItemRules;

@interface IMChat : IMItemsController <IMPhotoLibraryPersistenceManagerListener, IMStateLoggable, INSpeakable, IMSendProgressDelegate, IMMomentSharePresentationCacheDelegate> {
    NSString *_typingGUID;
    NSString *_localUserIsComposing;
    NSString *_identifier;
    NSString *_roomNameWithoutSuffix;
    NSMutableDictionary *_participantStates;
    NSMutableArray *_messagesPendingJoin;
    NSMutableDictionary *_chatProperties;
    NSMutableDictionary *_participantProperties;
    NSArray *_attachments;
    NSNumber *_countOfAttachmentsNotCachedLocally;
    NSNumber *_countOfMessagesMarkedAsSpam;
    IMTimingCollection *_timingCollection;
    id<IMChatItemRules> _chatItemRules;
    IMScheduledUpdater *_chatItemsUpdater;
    IMSendProgress *_sendProgress;
    char _downgradeState;
    IMScheduledUpdater *_downgradeStateUpdater;
    unsigned long long _dbFailedCount;
    unsigned long long _dbUnreadCount;
    unsigned char _hasBeenConfigured : 1;
    unsigned char _isFirstMessageInvitation : 1;
    unsigned char _wasInvitationHandled : 1;
    unsigned char _didSendAFinishedMessage : 1;
    unsigned char _isUpdatingChatItems : 1;
    unsigned char _ignoreDowngradeStatusUpdates : 1;
    long long _isFiltered;
    unsigned char _forceMMS : 1;
    BOOL _hasRefreshedServiceForSending;
    BOOL _hasHadSuccessfulQuery;
    NSString *_currentUnreadHistoryQuery;
    BOOL _hasEarlierMessagesToLoad;
    BOOL _hasMoreRecentMessagesToLoad;
    BOOL _isCurrentlyDownloadingPurgedAssets;
    IMMomentShareCache *_momentShareCache;
    IMMomentSharePresentationCache *_momentSharePresentationCache;
    unsigned long long _senderBlackholeWarningStatus;
}

@property (class, readonly, nonatomic) id /* block */ watermarkComparator;

@property (readonly, nonatomic) BOOL suppressAccountRetargetingForNamedGroupConversation;
@property (nonatomic) BOOL forceMMS;
@property (readonly, nonatomic) long long watermarkMessageID;
@property (readonly, copy, nonatomic) NSDate *watermarkDate;
@property (readonly, nonatomic) IMBrand *brand;
@property (readonly, nonatomic) BOOL isReplyEnabled;
@property (readonly, nonatomic) BOOL isBusinessChat;
@property (readonly, nonatomic) BOOL isMakoChat;
@property (readonly, nonatomic) BOOL isAppleChat;
@property (readonly, nonatomic) BOOL hasVerifiedBusiness;
@property (readonly, nonatomic) IMHandle *businessHandle;
@property (nonatomic) unsigned long long numberOfMessagesToKeepLoaded;
@property (readonly, nonatomic) BOOL hasMoreMessagesToLoad;
@property (readonly, nonatomic) BOOL hasMoreRecentMessagesToLoad;
@property (readonly, copy, nonatomic) NSArray *attachments;
@property (readonly, copy, nonatomic) NSNumber *countOfAttachmentsNotCachedLocally;
@property (readonly, nonatomic) BOOL isCurrentlyDownloadingPurgedAttachments;
@property (readonly, copy, nonatomic) NSArray *chatItems;
@property (readonly, nonatomic) BOOL wantsSenderBlackholeWarning;
@property (readonly, nonatomic) BOOL hasCommSafetySensitiveMessage;
@property (readonly, nonatomic) BOOL isCommSafetySensitiveMessageRecent;
@property (readonly, nonatomic) BOOL allParticipantsBlocked;
@property (readonly, nonatomic) NSSet *fmfHandles;
@property (readonly, nonatomic) NSSet *allSiblingFMFHandles;
@property (readonly, nonatomic) BOOL hasRecipientsFollowingLocation;
@property (readonly, nonatomic) BOOL hasSiblingRecipientsSharingLocation;
@property (readonly, nonatomic) BOOL allRecipientsFollowingLocation;
@property (readonly, nonatomic) BOOL hasRecipientsSharingLocation;
@property (readonly, nonatomic) BOOL allRecipientsSharingLocation;
@property (readonly, nonatomic) IMChatRegistry *chatRegistry;
@property (nonatomic) unsigned int ignoreDowngradeStatusUpdates;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) NSString *spokenPhrase;
@property (readonly, nonatomic) NSString *pronunciationHint;
@property (readonly, nonatomic) NSString *vocabularyIdentifier;
@property (readonly, nonatomic) NSArray *alternativeSpeakableMatches;
@property (readonly, nonatomic) NSString *identifier;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (retain, nonatomic) NSString *groupChatIdentifierUppercase;
@property (nonatomic) long long hasKnownParticipantsCacheStatus;
@property (nonatomic, getter=isUnregistered) BOOL unregistered;
@property (readonly, nonatomic) IMChatScrutinyController *chatScrutinyController;
@property (retain, nonatomic, setter=_setGUIDs:) NSMutableSet *_guids;
@property (nonatomic) double latestTypingIndicatorTimeInterval;
@property (nonatomic) BOOL hasSurfRequest;
@property (retain, nonatomic) IMOrderingTools *orderingTools;
@property (retain, nonatomic) NSString *currentLocationGUID;
@property (nonatomic) BOOL allowedByScreenTime;
@property (retain, nonatomic) NSSet *mergedPinningIdentifiers;
@property (nonatomic) long long cachedShouldShowReportSpam;
@property (nonatomic) long long cachedShouldShowSpam;
@property (nonatomic) BOOL isSubscriptionSwitchParticipantAddTypeFound;
@property (retain, nonatomic) IMParticipantChangeChatItem *subscriptionSwitchParticipantAddChatItem;
@property (readonly, nonatomic) IMMomentSharePresentationCache *momentSharePresentationCache;
@property (readonly, nonatomic) BOOL _shouldRegisterChat;
@property (retain, nonatomic) NSString *lastAddressedHandleID;
@property (retain, nonatomic) NSString *lastAddressedSIMID;
@property (retain, nonatomic) NSString *groupID;
@property (retain, nonatomic) NSString *originalGroupID;
@property (nonatomic) void *contextInfo;
@property (retain, nonatomic) NSString *personCentricID;
@property (nonatomic) BOOL hasHadSuccessfulQuery;
@property (readonly, nonatomic) NSString *guid;
@property (readonly, nonatomic) IMAccount *account;
@property (readonly, nonatomic) unsigned char chatStyle;
@property (readonly, nonatomic) NSString *chatIdentifier;
@property (readonly, nonatomic) NSString *persistentID;
@property (readonly, nonatomic) NSString *deviceIndependentID;
@property (readonly, nonatomic) NSString *pinningIdentifier;
@property (readonly, nonatomic) NSString *identityHash;
@property (readonly, nonatomic) NSData *engramID;
@property (readonly, nonatomic) NSString *lastSeenMessageGuid;
@property (readonly, nonatomic, getter=isAutoDonatingMessages) BOOL autoDonateMessages;
@property (nonatomic) long long autoDonationBehavior;
@property (readonly, nonatomic) BOOL shouldShowAutoDonationAction;
@property (readonly, nonatomic) unsigned long long messageCount;
@property (readonly, nonatomic) unsigned long long unreadMessageCount;
@property (readonly, nonatomic) unsigned long long messageFailureCount;
@property (readonly, nonatomic) BOOL canLeaveChat;
@property (readonly, nonatomic) BOOL canHaveMultipleParticipants;
@property (readonly, nonatomic) unsigned long long overallChatStatus;
@property (readonly, nonatomic, getter=isGroupChat) BOOL groupChat;
@property (readonly, nonatomic) BOOL hasMessageFromMe;
@property (readonly, nonatomic) BOOL isPinned;
@property (readonly, nonatomic) BOOL shouldDisplayUnavailabilityIndicator;
@property (readonly, nonatomic) NSDate *availabilityStatusPublishedDate;
@property (readonly, nonatomic) BOOL canShareFocusStatus;
@property (retain, nonatomic) NSMutableArray *mentionMessageGuidsToRemove;
@property (retain, nonatomic) NSString *displayName;
@property (readonly, nonatomic) NSString *roomName;
@property (readonly, nonatomic) NSString *roomNameWithoutSuffix;
@property (retain, nonatomic) NSArray *frequentReplies;
@property (readonly, nonatomic) long long joinState;
@property (readonly, nonatomic) BOOL hasUnhandledInvitation;
@property (nonatomic) BOOL localUserIsTyping;
@property (nonatomic) BOOL localUserIsRecording;
@property (retain, nonatomic) NSString *localUserIsComposing;
@property (readonly, nonatomic) NSString *localTypingMessageGUID;
@property (readonly, nonatomic) IMMessage *firstMessage;
@property (readonly, nonatomic) IMMessage *lastMessage;
@property (readonly, nonatomic) BOOL lastMessageExists;
@property (readonly, nonatomic) IMMessage *lastFinishedMessage;
@property (readonly, nonatomic) IMMessageItem *lastFinishedMessageItem;
@property (readonly, nonatomic) IMMessage *lastSentMessage;
@property (readonly, nonatomic) IMMessage *lastIncomingMessage;
@property (readonly, nonatomic) IMMessage *lastIncomingFinishedMessage;
@property (readonly, nonatomic) IMMessage *lastIncomingFinishedMessageWithTextContent;
@property (readonly, nonatomic) NSDate *lastFinishedMessageDate;
@property (readonly, nonatomic) long long lastFinishedMessageID;
@property (readonly, nonatomic) NSDate *lastSentMessageDate;
@property (readonly, nonatomic) long long lastMessageTimeStampOnLoad;
@property (readonly, nonatomic) NSDate *lastTUConversationCreatedDate;
@property (nonatomic) long long isFiltered;
@property (readonly, nonatomic) long long filterCategory;
@property (readonly, nonatomic) NSArray *participants;
@property (retain, nonatomic) IMHandle *recipient;
@property (retain, nonatomic) IMMessage *invitationForPendingParticipants;
@property (copy, nonatomic) NSDictionary *bizIntent;
@property (readonly, nonatomic) IMInlineReplyController *inlineReplyController;
@property (readonly, nonatomic) NSArray *replyChatItems;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (void)storeGUIDInAttemptingListInScrutinyMode:(id)a0;
+ (void)removeGUIDInAttemptingListInScrutinyMode:(id)a0;
+ (Class)_NPSManagerClass;
+ (void)cleanWatermarkCache;
+ (id)__im_adjustMessageSummaryInfoForSending:(id)a0;
+ (void)_initializeFMF;
+ (void)setChatItemRulesClass:(Class)a0;
+ (Class)chatItemRulesClass;
+ (BOOL)isGUIDInAttemptingListInScrutinyMode:(id)a0;
+ (id)stateCaptureRecents;

- (long long)isFiltered;
- (void)cancelMessage:(id)a0;
- (BOOL)isMuted;
- (BOOL)isSMS;
- (void)sendMessage:(id)a0;
- (void)clear;
- (void)updateChatItemsIfNeeded;
- (void)initiateTUConversationWithVideoEnabled:(BOOL)a0;
- (void)join;
- (void)initiateTUDialRequestWithVideoEnabled:(BOOL)a0;
- (id)loadMessagesBeforeAndAfterGUID:(id)a0 numberOfMessagesToLoadBeforeGUID:(unsigned long long)a1 numberOfMessagesToLoadAfterGUID:(unsigned long long)a2 loadImmediately:(BOOL)a3 threadIdentifier:(id)a4;
- (void)loadInlineRepliesForThreadIdentifier:(id)a0 threadOriginator:(id)a1 messageGuid:(id)a2;
- (void)dismissInlineReplies;
- (void)remove;
- (void)_updateDisplayName:(id)a0;
- (void)stopSharingLocation;
- (BOOL)repliedToChat;
- (void)beginHoldingUpdatesForKey:(id)a0;
- (void)endHoldingUpdatesForKey:(id)a0;
- (void)endHoldingUpdatesForAllKeys;
- (BOOL)isHoldingUpdatesForKey:(id)a0;
- (void)_daemonDied:(id)a0;
- (BOOL)__im_ff_commSafetyUIEnabled;
- (BOOL)__im_ff_improvedPriorityInversionFixEnabled;
- (void)clearSMSCategory;
- (void)photoLibraryPersistedSyndicatedAssetSetDidChange;
- (BOOL)__im_ff_isInterstellarEnabled;
- (BOOL)__im_ff_isInterstellarEnabled;
- (id)messageAcknowledgmentSummaryForConversationListWithMessage:(id)a0;
- (void)autoReportSpam;
- (void)markChatItemAsPlayed:(id)a0;
- (void)markAllLocationShareItemsAsUnactionable;
- (BOOL)containsMessageFromContactOrMe;
- (void)updateIsFiltered:(long long)a0;
- (BOOL)hasStoredMessageWithGUID:(id)a0;
- (BOOL)hasKnownParticipants;
- (BOOL)shouldBeAllowListed;
- (void)markAsAutoSpamReported;
- (void)markChatItemAsPlayedExpressiveSend:(id)a0;
- (void)_sendMessage:(id)a0 adjustingSender:(BOOL)a1 shouldQueue:(BOOL)a2;
- (BOOL)_handleIncomingItem:(id)a0;
- (void)sendMessageAcknowledgment:(long long)a0 forChatItem:(id)a1 withAssociatedMessageInfo:(id)a2;
- (void)createIMChatItemForTransientAttachmentWithAssetUUID:(id)a0 parentChatItemGUID:(id)a1;
- (void)sendMessageAcknowledgment:(long long)a0 forChatItem:(id)a1 withAssociatedMessageInfo:(id)a2 withGuid:(id)a3;
- (id)valueForChatProperty:(id)a0;
- (id)messageItemForGUID:(id)a0;
- (void)userToggledReadReceiptSwitch:(BOOL)a0;
- (void)updateIsBlackholed:(BOOL)a0;
- (id)conversationContext;
- (void)loadAttachments:(id /* block */)a0;
- (void)_momentShareCacheDidChange:(id)a0;
- (id)_timingCollection;
- (void)deleteIMMessageItems:(id)a0;
- (id)sendProgressDelegate;
- (void)forceCancelTypingIndicator;
- (void)setSendProgressDelegate:(id)a0;
- (void)updateLineSwitchedTo:(id)a0;
- (BOOL)authorizationToSendCurrentLocationMessageDenied;
- (BOOL)canSendCurrentLocationMessage;
- (void)shareLocationUntilDate:(id)a0;
- (void)sendCurrentLocationMessage;
- (void)isInvitedToViewMyFocusStatusWithCompletion:(id /* block */)a0;
- (void)watermarkOutForScrutinyMode;
- (BOOL)isInScrutinyMode;
- (void)clearScrutinyMode;
- (void)_setAccount:(id)a0;
- (void)markAllMessagesAsRead;
- (void)autoInviteToViewAvailabilityIfNeeded;
- (void)markChatItemAsNotifyRecipient:(id)a0;
- (void)markChatItemAsSaved:(id)a0;
- (void)acceptInvitation;
- (void)declineInvitation;
- (void)endListeningToAttributionChanges;
- (void)endObservingHandleAvailability;
- (void).cxx_destruct;
- (void)sendSyndicationAction:(unsigned char)a0 forMessagePartGUID:(id)a1 syndicatedMessagePartRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a2;
- (void)downgradeMessage:(id)a0 manualDowngrade:(BOOL)a1;
- (id)allChatProperties;
- (void)beginListeningToAttributionChanges;
- (void)beginObservingHandleAvailability;
- (void)setMuteUntilDate:(id)a0;
- (id)messageForGUID:(id)a0;
- (void)sendAutoDonationUpdate:(BOOL)a0;
- (void)leaveiMessageGroup;
- (void)refreshServiceForSending;
- (BOOL)authorizedToSendCurrentLocationMessage;
- (id)init;
- (id)momentShareCache;
- (void)leave;
- (void)setValue:(id)a0 forChatProperty:(id)a1;
- (void)inviteParticipantsToiMessageChat:(id)a0 reason:(id)a1;
- (void)removeParticipantsFromiMessageChat:(id)a0 reason:(id)a1;
- (id)allMessagesToReportAsSpam;
- (void)deleteExtensionPayloadData;
- (void)updateCommSafety:(long long)a0 forChatItems:(id)a1;
- (void)downgradeMessage:(id)a0 manualDowngrade:(BOOL)a1 downgradeChat:(BOOL)a2;
- (id)loadUnreadMessagesWithLimit:(unsigned long long)a0 fallbackToMessagesUpToGUID:(id)a1;
- (id)stateDictionaryForDiagnosticsRequest;
- (void)_removeItem:(id)a0;
- (void)setRoomName:(id)a0;
- (BOOL)isDowngraded;
- (void)sendGroupPhotoUpdate:(id)a0;
- (id)loadFrequentRepliesLimit:(unsigned long long)a0 loadImmediately:(BOOL)a1;
- (void)removeMentionMessageGUID:(id)a0;
- (void)retryGroupPhotoUploadIfNecessary;
- (void)downloadPurgedAttachments;
- (void)watermarkInForScrutinyMode;
- (long long)compareChatByTUDateAndLastFinishedMessageDate:(id)a0;
- (BOOL)shouldForceToSMS;
- (void)resortMessages;
- (id)localizedUnreadShortcutTitle;
- (void)joinExistingTUConversation;
- (void)updateCommSafety:(long long)a0 forChatItem:(id)a1;
- (void)setLocalUserIsComposing:(id)a0 typingIndicatorData:(id)a1;
- (void)_initialize;
- (BOOL)allowedToShowConversation;
- (void)closeSession;
- (id)displayNameWithRawAddress:(BOOL)a0 isSpamFilteringEnabled:(BOOL)a1;
- (id)lastRelatedIncomingFinishedMessageTextContentWithLimit:(long long)a0;
- (BOOL)__im_ff_isExpanseEnabled;
- (void)dealloc;
- (id)activeParticipantsForTUConversation;
- (BOOL)receivedResponseForChat;
- (id)messagesToReportAsSpamFromChatItems:(id)a0;
- (void)deleteTransfers:(id)a0;
- (BOOL)__im_ff_chatCacheEnabled;
- (BOOL)allowedToShowConversationSync;
- (unsigned long long)markAsSpam:(unsigned long long)a0;
- (void)deleteChatItems:(id)a0;
- (BOOL)deleteAllHistory;
- (id)loadMessagesBeforeDate:(id)a0 limit:(unsigned long long)a1 loadImmediately:(BOOL)a2;
- (void)_setDisplayName:(id)a0;
- (id)conversation;
- (id)_pendingParticipants;
- (void)_targetToService:(id)a0 newComposition:(BOOL)a1;
- (void)_invalidateDowngradeState;
- (void)_updateDowngradeState:(char)a0 checkAgainInterval:(double)a1;
- (void)_setAndIncrementDowngradeMarkersForManual:(BOOL)a0;
- (BOOL)_accountIsOperational:(id)a0 forService:(id)a1;
- (id)_previousAccountForService:(id)a0;
- (void)_setPreviousAccount:(id)a0 forService:(id)a1;
- (void)_calculateDowngradeState;
- (void)_calculateDowngradeStateTimerFired;
- (BOOL)_recipientIsPhoneNumber;
- (id)_consecutiveDowngradeAttemptsViaManualDowngrades:(BOOL)a0;
- (void)_clearDowngradeMarkers;
- (void)_delayedInvalidateDowngradeState;
- (BOOL)mapsToTUConversation:(id)a0;
- (id)currentTUCall;
- (void)addHandlesToGoupFaceTimeChatIfRegistered:(id)a0;
- (id)callDurationStringForTuCall;
- (id)remoteMembersForTUConversation;
- (BOOL)_handleIncomingItem:(id)a0 updateRecipient:(BOOL)a1;
- (void)_markItemAsPlayed:(id)a0;
- (BOOL)_hasJustSentAMessage;
- (long long)compareChatByDate:(id)a0;
- (id)_storedWatermarkMessageID;
- (void)_postNotification:(id)a0 userInfo:(id)a1;
- (BOOL)isCategorized;
- (long long)_compareChat:(id)a0 withDate:(id)a1 withDate:(id)a2;
- (id)_tuDateForChat:(id)a0;
- (void)updateWatermarks;
- (void)saveWatermark;
- (void)verifyFiltering;
- (void)sendMessageAcknowledgment:(long long)a0 forChatItem:(id)a1 withMessageSummaryInfo:(id)a2 withGuid:(id)a3;
- (void)sendMessageAcknowledgment:(long long)a0 forChatItem:(id)a1 withMessageSummaryInfo:(id)a2;
- (id)_initWithItems:(id)a0;
- (void)_itemsDidChange:(id)a0;
- (void)_replaceItems:(id)a0;
- (void)_handleItem:(id)a0 forChatStyle:(unsigned char)a1;
- (id)_lastFinishedMessage;
- (void)updateMessage:(id)a0 withIndexesOfDeletedItems:(id)a1 withIndexToRangeMapOfDeletedItems:(id)a2;
- (id)_initWithGUID:(id)a0 account:(id)a1 style:(unsigned char)a2 roomName:(id)a3 displayName:(id)a4 lastAddressedHandle:(id)a5 lastAddressedSIMID:(id)a6 items:(id)a7 participants:(id)a8 isFiltered:(long long)a9 hasHadSuccessfulQuery:(BOOL)a10;
- (void)_setupObservation;
- (void)momentSharePresentationCacheDidChange:(id)a0;
- (BOOL)hasKnownParticipantsCache;
- (id)_existingMessageFromMessagePartGUID:(id)a0;
- (void)_updateChatItemsWithReason:(id)a0 block:(id /* block */)a1;
- (void)_updateExistingMessageWithSyndicationAction:(id)a0;
- (void)_updateChatItemsWithReason:(id)a0 block:(id /* block */)a1 shouldPost:(BOOL)a2;
- (void)markAsHasBeenBlockContact;
- (void)_accountLoggedOut:(id)a0;
- (void)_daemonAlive:(id)a0;
- (void)_accountControllerUpdated:(id)a0;
- (void)_updateChatItemsForChatItemUpdater;
- (void)_configureLocationShareItem:(id)a0;
- (void)_handleItem:(id)a0 forChatStyle:(unsigned char)a1 updateReplyCounts:(BOOL)a2;
- (void)_updateRepliesIfNecessaryWithItem:(id)a0;
- (void)_setDBUnreadCount:(unsigned long long)a0 postNotification:(BOOL)a1;
- (void)_insertHistoricalMessages:(id)a0 queryID:(id)a1 isRefresh:(BOOL)a2 isHistoryQuery:(BOOL)a3 limit:(unsigned long long)a4;
- (void)_insertHistoricalMessages:(id)a0 queryID:(id)a1 isRefresh:(BOOL)a2 isHistoryQuery:(BOOL)a3 isReplacingItems:(BOOL)a4 limit:(unsigned long long)a5 hasMessagesBefore:(BOOL)a6 hasMessagesAfter:(BOOL)a7;
- (void)_setAccount:(id)a0 locally:(BOOL)a1;
- (id)_archivedItemsToReplace:(id)a0 isReplacingItems:(BOOL)a1;
- (void)_handleItem:(id)a0;
- (id)_performQueryWithKey:(id)a0 loadImmediately:(BOOL)a1 block:(id /* block */)a2;
- (void)_setCountOfMessagesMarkedAsSpam:(id)a0;
- (void)_updateChatItemsWithDataDetectorResultsForReason:(id)a0;
- (void)setIsFiltered:(long long)a0;
- (void)setHasKnownParticipantsCache:(BOOL)a0;
- (long long)chatPropertyValueFor:(long long)a0;
- (void)updateSMSCategory:(long long)a0;
- (long long)numberOfTimesRespondedToThread;
- (void)_resetChatIdToLastMessageItemMap;
- (void)_postNotification:(id)a0 userInfo:(id)a1 shouldLog:(BOOL)a2;
- (unsigned long long)stateForParticipant:(id)a0;
- (void)invalidateSpamIndicatorCachedValues;
- (void)invalidateSpamIndicatorCachedValuesIfNeeded;
- (void)_updateRepliesIfNecessaryWithRemovedItems:(id)a0 threadIdentifiersOfRemovedParts:(id)a1;
- (unsigned long long)paymentTypeForMessage:(id)a0;
- (BOOL)hasSurfRequestForPaymentType:(unsigned long long)a0;
- (BOOL)_isDuplicate:(id)a0;
- (void)_fixSendingItemDateAndSortID:(id)a0;
- (void)_updateLocationShareItemsForSender:(id)a0;
- (void)_setJoinState:(long long)a0 quietly:(BOOL)a1;
- (void)_clearPendingMessages;
- (void)_setParticipantState:(unsigned long long)a0 forHandle:(id)a1 quietly:(BOOL)a2;
- (void)_validateChatRegistrationWithRegistry;
- (id)_performQueryWithKey:(id)a0 loadImmediately:(BOOL)a1 block:(id /* block */)a2 completion:(id /* block */)a3;
- (void)_handleAttributionChanged;
- (void)_clearCachedIdentifier;
- (void)_updateDisplayName:(id)a0 sender:(id)a1;
- (void)_setJoinState:(long long)a0;
- (void)_updateSenderForMessageIfNeeded:(id)a0 adjustingSender:(BOOL)a1;
- (void)_updateBizIntentForMessageIfNeeded:(id)a0;
- (void)_updateLocaleForMessageIfNeeded:(id)a0;
- (void)_updateTypingGUIDForMessageIfNeeded:(id)a0;
- (BOOL)_updateJoinStateWithMessageIfNeeded:(id)a0;
- (void)_updatePayloadForMessageIfNeeded:(id)a0;
- (void)_refreshServiceForSendingIfNeededWithMessage:(id)a0;
- (void)_updateMessageItemTimeIfNeeded:(id)a0;
- (void)_fixItemForSendingMessageTime:(id)a0;
- (id)_getCurrentLocale;
- (void)_updateFileAttachmentGUIDsForMessageIfNeeded:(id)a0 withPayloadAttachments:(id)a1;
- (void)_setLocalUserIsComposing:(id)a0 suppliedGUID:(id)a1;
- (void)_setLocalUserIsComposing:(id)a0 suppliedGUID:(id)a1 typingIndicatorData:(id)a2;
- (BOOL)_chatStyleSupportsTypingAndCancelTypingIndicators;
- (unsigned long long)_flagsForTypingIndicatorMessage:(BOOL)a0;
- (BOOL)_shouldSendCancelTypingIndicator;
- (unsigned long long)_flagsForCancelTypingIndicatorMessage;
- (BOOL)canSendTransfer:(id)a0;
- (void)__clearReadMessageCache;
- (void)markMessagesAsRead:(id)a0;
- (void)_setTimerForReadMessageCache;
- (void)_clearUnreadCount;
- (id)allPropertiesOfParticipant:(id)a0;
- (void)setRecipient:(id)a0 locally:(BOOL)a1;
- (void)_addParticipants:(id)a0 withState:(unsigned long long)a1;
- (void)_leaveChat:(BOOL)a0;
- (void)_setParticipantState:(unsigned long long)a0 forHandles:(id)a1 quietly:(BOOL)a2;
- (BOOL)canAddParticipant:(id)a0;
- (id)participantsWithState:(unsigned long long)a0;
- (void)_inviteParticipants:(id)a0 reason:(id)a1 toiMessageChat:(BOOL)a2;
- (void)_inviteParticipantsToChat:(id)a0 reason:(id)a1 toiMessageChat:(BOOL)a2;
- (void)_removeParticipantsFromChat:(id)a0 reason:(id)a1 fromiMessageChat:(BOOL)a2;
- (BOOL)_sanityCheckAccounts;
- (void)_updateEngramID:(id)a0;
- (void)sendProgress:(id)a0 progressDidChange:(float)a1 sendingMessages:(id)a2 sendCount:(unsigned long long)a3 totalCount:(unsigned long long)a4 finished:(BOOL)a5;
- (void)_setDBUnreadCount:(unsigned long long)a0;
- (void)_setDBFailedCount:(unsigned long long)a0;
- (BOOL)_shouldAnnouncePeopleJoin;
- (void)_insertHistoricalMessages:(id)a0 queryID:(id)a1 isRefresh:(BOOL)a2 isHistoryQuery:(BOOL)a3;
- (id)messageGuidsForMyUnreadMentions;
- (void)loadParticipantContactsIfNecessary;
- (void)invalidateHasKnownParticipantsCache;
- (BOOL)allParticipantsAreContacts;
- (void)updateShouldForceToSMS:(BOOL)a0;
- (void)_updateLastSeenMessageGuid:(id)a0;
- (id)lastTranslatableMessageGUIDWithLanguageCode:(id)a0;
- (void)updateLastMessageGUID:(id)a0 forLanguageCode:(id)a1;
- (BOOL)isEmergencyChat;
- (void)updateIsEmergencyChat:(BOOL)a0;
- (void)didUnregisterFromRegistry:(id)a0;
- (void)_recomputeOverallChatStatusQuietly:(BOOL)a0;
- (void)_handleHandleStatusChanged:(id)a0;
- (void)_startTiming:(id)a0;
- (void)_endTiming;
- (void)_postIMChatItemsDidChangeNotificationWithInserted:(id)a0 removed:(id)a1 reload:(id)a2 regenerate:(id)a3 oldChatItems:(id)a4 shouldLog:(BOOL)a5;
- (void)_handleMessageGUIDDeletions:(id)a0;
- (BOOL)hasSurfRequestNotFromMe:(id)a0;
- (void)_participant:(id)a0 statusChanged:(int)a1;
- (void)_showErrorMessage:(id)a0;
- (void)_engroupParticipantsUpdated;
- (void)_updateLastAddressedHandleID:(id)a0;
- (void)_updateLastAddressedSIMID:(id)a0;
- (BOOL)canSendMessage:(id)a0;
- (BOOL)authorizationToSendCurrentLocationMessageDetermined;
- (void)markMessageAsRead:(id)a0;
- (void)_setChatProperties:(id)a0;
- (id)valueForProperty:(id)a0 ofParticipant:(id)a1;
- (void)setValue:(id)a0 forProperty:(id)a1 ofParticipant:(id)a2;
- (id)_generatePersonCentricID;
- (BOOL)_hasCommunicatedOnService:(id)a0;
- (BOOL)canAddParticipants:(id)a0;
- (void)_invitePendingParticipants;
- (void)inviteParticipants:(id)a0 reason:(id)a1;
- (void)removeParticipants:(id)a0 reason:(id)a1;
- (void)addPendingParticipants:(id)a0;
- (void)_reloadChatItemsForHandleAvailabilityChange;
- (void)_handleAddressBookChangeForRecipientUID:(id)a0;
- (id)_initWithDictionaryRepresentation:(id)a0 items:(id)a1 participantsHint:(id)a2 accountHint:(id)a3;
- (id)muteUntilDate;
- (id)_privateInitWithAccount:(id)a0 style:(unsigned char)a1 roomName:(id)a2 messages:(id)a3 participants:(id)a4 isFiltered:(long long)a5 hasHadSuccessfulQuery:(BOOL)a6;
- (id)loadMessagesUpToGUID:(id)a0 date:(id)a1 limit:(unsigned long long)a2 loadImmediately:(BOOL)a3;
- (void)_setAttachments:(id)a0;
- (unsigned long long)scrutinyModeAttemptCount;
- (id)_renderingDataDictionary;
- (void)_setRenderingDataDictionary:(id)a0;
- (BOOL)_serverBagPreventsScrutinyMode;
- (id)loadMessagesUpToGUID:(id)a0 limit:(unsigned long long)a1;
- (id)loadMessagesBeforeDate:(id)a0 limit:(unsigned long long)a1;
- (id)loadInlineReplyMessagesUpToGUID:(id)a0 limit:(unsigned long long)a1 threadIdentifier:(id)a2 loadImmediately:(BOOL)a3;
- (void)_setCountOfAttachmentsNotCachedLocally:(id)a0;
- (void)_setIsDownloadingPurgedAssets:(BOOL)a0;
- (void)_replaceStaleChatItems;
- (id)_getDeleteChatItemMap:(id)a0;
- (id)_getMessageChatItemMap:(id)a0 withDeleteMap:(id)a1 andAllChatItems:(id)a2;
- (id)chatItemsForItems:(id)a0;
- (void)startTrackingParticipantLocations;
- (void)stopTrackingParticipantLocations;
- (id)testChatItems;
- (void)_automation_markAsRead:(BOOL)a0 messageGUID:(id)a1 forChatGUID:(id)a2 fromMe:(BOOL)a3;
- (BOOL)canEditChatItem:(id)a0;
- (id)participantHandleIDs;
- (id)hashOfParticipantIDs;

@end
