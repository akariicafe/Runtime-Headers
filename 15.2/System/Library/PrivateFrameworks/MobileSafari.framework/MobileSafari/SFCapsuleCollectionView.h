@class UIVisualEffectView, NSHashTable, UIAction, NSString, SFCapsuleInputAccessorySpacerView, NSMutableSet, NSArray, NSMutableDictionary, UIKBVisualEffectView, SFCapsuleCollectionViewUpdate, _SFBarTheme, SFCapsuleNavigationBarTheme, UIView, _UIVisualEffectBackdropView, UIPanGestureRecognizer, UIToolbar, SFTransitionCoordinator, UISelectionFeedbackGenerator, NSIndexSet, UITapGestureRecognizer, NSNumber;
@protocol SFCapsuleCollectionViewDelegate, SFCapsuleCollectionViewToolbarContentProviding, SFCapsuleCollectionViewDataSource;

@interface SFCapsuleCollectionView : UIView <SFCapsuleContentViewSizeUpdating, SFStartPageScrollObserver, UIGestureRecognizerDelegate, SFWebViewGeometryC2AnimationObserving> {
    NSMutableSet *_viewsForReuse;
    NSMutableDictionary *_contentViewRegistrations;
    UIView *_reuseableContentView;
    NSString *_reusableContentViewIdentifier;
    _UIVisualEffectBackdropView *_backgroundCaptureView;
    SFCapsuleNavigationBarTheme *_effectiveTheme;
    SFCapsuleNavigationBarTheme *_effectiveMinimizedTheme;
    _SFBarTheme *_toolbarTheme;
    long long _visualEffectTransitionCount;
    UIAction *_trailingAction;
    UIAction *_topAction;
    UIKBVisualEffectView *_keyboardBackdropView;
    SFCapsuleInputAccessorySpacerView *_inputAccessoryView;
    UIVisualEffectView *_toolbarBackdropView;
    NSMutableDictionary *_selectedItemAccessoryViews;
    UIView *_bottomSeparator;
    BOOL _deferSelectedItemContentViewRemovalUntilEndOfNextTransition;
    double _verticalSwipeThreshold;
    double _capsuleBottomMargin;
    struct CGPoint { double x; double y; } _offsetForPan;
    UITapGestureRecognizer *_tapGestureRecognizer;
    UIPanGestureRecognizer *_panGesture;
    UIPanGestureRecognizer *_dismissPanGestureRecognizer;
    unsigned long long _panAxis;
    UISelectionFeedbackGenerator *_feedbackGenerator;
    BOOL _swipeDownPossible;
    struct CGPoint { double x; double y; } _previousVelocity;
    struct CGPoint { double x; double y; } _previousMinimizationVelocity;
    unsigned long long _minimizationFlags;
    struct CGPoint { double x; double y; } _minimizationTranslation;
    double _distanceToTopEdgeAtMinimizationBegan;
    NSHashTable *_gestureObservers;
    BOOL _sendProgressMessageToObservers;
    SFTransitionCoordinator *_currentTransitionCoordinator;
    SFCapsuleCollectionViewUpdate *_update;
    long long _numberOfUpdates;
    BOOL _toolbarDismissed;
    long long _toolbarAnimationCount;
    UIView *_alternateToolbarContentView;
    double _alternateToolbarContentHeight;
    BOOL _showingKeyboard;
    long long _selectedItemStateBeforeShowingKeyboard;
    BOOL _ignoreSetNeedsLayout;
}

@property (readonly, nonatomic, getter=_pageWidth) double pageWidth;
@property (readonly, nonatomic, getter=_interCapsuleSpacing) double interCapsuleSpacing;
@property (retain, nonatomic, getter=_indexesOfLoadedViews, setter=_setIndexesOfLoadedViews:) NSIndexSet *indexesOfLoadedViews;
@property (readonly, nonatomic, getter=_indexesOfAnimatingItems) NSIndexSet *indexesOfAnimatingItems;
@property (nonatomic, getter=_keyboardHeight, setter=_setKeyboardHeight:) double keyboardHeight;
@property (nonatomic, getter=_offsetForMinimization, setter=_setOffsetForMinimization:) double offsetForMinimization;
@property (readonly, nonatomic, getter=_verticalOffsetForSelectedItem) double verticalOffsetForSelectedItem;
@property (readonly, nonatomic, getter=_items) NSArray *items;
@property (nonatomic, getter=_suppressingDataSourceCalls, setter=_setSuppressingDataSourceCalls:) BOOL suppressingDataSourceCalls;
@property (readonly, nonatomic) unsigned long long numberOfItems;
@property (readonly, nonatomic) NSIndexSet *indexesOfVisibleItems;
@property (weak) id<SFCapsuleCollectionViewDataSource> dataSource;
@property (weak) id<SFCapsuleCollectionViewDelegate> delegate;
@property (retain, nonatomic) _SFBarTheme *theme;
@property (retain, nonatomic) _SFBarTheme *minimizedTheme;
@property (nonatomic) long long layoutStyle;
@property (readonly, nonatomic) BOOL showsBottomBackdrop;
@property (readonly, nonatomic) double capsuleBackgroundCornerRadius;
@property (readonly, nonatomic) double defaultCapsuleHeight;
@property (nonatomic) double focusedCapsuleTopOffset;
@property (readonly, nonatomic) double focusedCapsuleHeight;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } capsuleFrame;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } minimizedCapsuleFrame;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } bottomBackdropFrame;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } selectedCapsuleFrame;
@property (readonly, nonatomic) struct UIEdgeInsets { double x0; double x1; double x2; double x3; } obscuredInsets;
@property (readonly, nonatomic) struct UIEdgeInsets { double x0; double x1; double x2; double x3; } whollyObscuredInsets;
@property (readonly, nonatomic) struct UIEdgeInsets { double top; double left; double bottom; double right; } partiallyObscuredInsets;
@property (readonly, nonatomic) struct UIEdgeInsets { double x0; double x1; double x2; double x3; } obscuredInsetsIgnoringKeyboard;
@property (readonly, nonatomic) struct UIEdgeInsets { double x0; double x1; double x2; double x3; } whollyObscuredInsetsIgnoringKeyboard;
@property (nonatomic) BOOL itemsAreHidden;
@property (nonatomic) BOOL selectedItemUsesLiftedPreviewAppearance;
@property (readonly, nonatomic) BOOL selectedItemIsMinimized;
@property (nonatomic) BOOL shouldHideMinimizedItem;
@property (readonly, nonatomic) long long selectedItemState;
@property (readonly, nonatomic) UIPanGestureRecognizer *minimizationPanGestureRecognizer;
@property (nonatomic) double selectionThreshold;
@property (nonatomic) BOOL useFastDeceleration;
@property (nonatomic) long long selectedItemIndex;
@property (readonly, nonatomic) BOOL isInteractivelySelectingItem;
@property (readonly, nonatomic) long long selectionGestureState;
@property (readonly, nonatomic) struct CGPoint { double x0; double x1; } selectedCapsuleOffset;
@property (nonatomic) BOOL suppressesSelectedItemUnfocus;
@property (readonly, nonatomic) UIToolbar *toolbar;
@property (retain, nonatomic) NSNumber *toolbarOffsetForPinchTransition;
@property (nonatomic) BOOL backdropViewIsTrackingAnimation;
@property (readonly, nonatomic) BOOL isTransitioningToNormalStateForTapInBottomRegion;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } tapToShowBarBottomRegion;
@property (weak, nonatomic) id<SFCapsuleCollectionViewToolbarContentProviding> alternateToolbarContentProvider;
@property (readonly, nonatomic, getter=isShowingAlternateToolbarContent) BOOL showingAlternateToolbarContent;
@property (readonly, nonatomic, getter=isInteractivelyDismissingToolbar) BOOL interactivelyDismissingToolbar;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

- (void)_keyboardWillChangeFrame:(id)a0;
- (void)reloadData;
- (void)layoutMarginsDidChange;
- (void)layoutSubviews;
- (void)_keyboardWillHide:(id)a0;
- (void)safeAreaInsetsDidChange;
- (id)inputAccessoryView;
- (void)endUpdates;
- (BOOL)gestureRecognizer:(id)a0 shouldRecognizeSimultaneouslyWithGestureRecognizer:(id)a1;
- (id)hitTest:(struct CGPoint { double x0; double x1; })a0 withEvent:(id)a1;
- (id)initWithFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)_keyboardWillShow:(id)a0;
- (void)setNeedsLayout;
- (void).cxx_destruct;
- (void)beginUpdates;
- (void)traitCollectionDidChange:(id)a0;
- (void)_updateLayoutMargins;
- (BOOL)gestureRecognizer:(id)a0 shouldReceiveTouch:(id)a1;
- (BOOL)gestureRecognizerShouldBegin:(id)a0;
- (void)didMoveToWindow;
- (void)_keyboardDidHide:(id)a0;
- (void)_updateActions;
- (void)addGestureObserver:(id)a0;
- (void)removeGestureObserver:(id)a0;
- (id)viewForItemAtIndex:(long long)a0;
- (void)reloadItemsAtIndexes:(id)a0;
- (id)_indexesOfVisibleItemsIncludingAction:(BOOL)a0;
- (void)setSelectedItemIndex:(long long)a0 animated:(BOOL)a1;
- (void)insertItemsAtIndexes:(id)a0 animated:(BOOL)a1;
- (void)deleteItemsAtIndexes:(id)a0 animated:(BOOL)a1;
- (void)invalidateHeightForCapsuleContentView:(id)a0;
- (void)invalidateHeightForCapsuleContentView:(id)a0 animated:(BOOL)a1 animations:(id /* block */)a2 completion:(id /* block */)a3;
- (void)_didReceiveTap:(id)a0;
- (void)_didReceiveMinimizationPan:(id)a0;
- (void)updateCapsuleBottomMargin;
- (void)_didReceivePan:(id)a0;
- (void)_didReceiveDismissPan:(id)a0;
- (void)registerContentViewIdentifier:(id)a0 block:(id /* block */)a1;
- (void)_updateRangeOfLoadedViews;
- (long long)_keyboardBackdropStyle;
- (double)_verticalOffsetForSelectedItemWithMinimizationOffsetMultiplier:(double)a0 includeKeyboard:(BOOL)a1;
- (BOOL)_shouldDismissToolbar;
- (BOOL)_shouldUseNormalLayoutForMinimizedCapsule;
- (BOOL)_layoutStyleIsTop;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })obscuredInsetsForState:(long long)a0;
- (BOOL)_shouldDodgeKeyboard;
- (void)_performWithoutSettingNeedsLayout:(id /* block */)a0;
- (void)_layOutItems:(id)a0 atIndexes:(id)a1 selectedItemIndex:(long long)a2;
- (void)_updateCapsuleAlpha;
- (void)_layOutKeyboardBackdrop;
- (void)_updateToolbarAlpha;
- (void)_layOutToolbar;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })_selectedCapsuleFrame;
- (BOOL)_selectedItemShouldUsePlatterEffect;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })_inputAccessoryViewFrame;
- (struct CGAffineTransform { double x0; double x1; double x2; double x3; double x4; double x5; })_selectedItemContentTransform;
- (double)_selectedItemContentMinimizationPercent;
- (BOOL)_itemsShouldUsePlatterEffect;
- (void)_reloadDataWithoutLayout;
- (void)_setUsesToolbar:(BOOL)a0;
- (void)_updateVisualEffectGroupName;
- (double)_selectedCapsuleHeightForWidth:(double)a0 state:(long long)a1 ignoringKeyboard:(BOOL)a2;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })_minimizedCapsuleFrameIgnoringKeyboard:(BOOL)a0;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })obscuredInsetsForState:(long long)a0 ignoringKeyboard:(BOOL)a1;
- (double)_verticalOffsetForBottomBackdropIncludingKeyboard:(BOOL)a0;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })_insetsByApplyingSelectedItemOffsetToInsets:(struct UIEdgeInsets { double x0; double x1; double x2; double x3; })a0 includeKeyboard:(BOOL)a1;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })whollyObscuredInsetsForState:(long long)a0;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })partiallyObcsuredInsetsForState:(long long)a0;
- (void)_reclaimViewForItem:(id)a0;
- (void)_updateToolbarTheme;
- (void)_applyToolbarTheme;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })_passthroughRect;
- (BOOL)_updateTrailingAction;
- (void)_updateTopAction;
- (void)_fetchContentViewForItem:(id)a0 atIndex:(long long)a1;
- (BOOL)_canAnimateUpdates;
- (id)_trailingActionContentView;
- (void)_updateStateFlagsForContentViewAtIndex:(long long)a0;
- (id)createOrDequeueContentViewWithIdentifier:(id)a0 atIndex:(long long)a1;
- (void)_dequeueOrCreateViewForItem:(id)a0 atIndex:(long long)a1;
- (void)_incrementAnimationCountForItems:(id)a0;
- (void)_applyEffectsForChangeType:(long long)a0 update:(id)a1;
- (void)_decrementAnimationCountForItems:(id)a0;
- (long long)_indexOfCentermostItemWithTranslation:(double)a0;
- (void)_updateOffsetForPan;
- (id)_visualEffectGroupName;
- (void)setSelectedItemState:(long long)a0 animated:(BOOL)a1;
- (void)_didReceiveTapOnPeekCapsule:(id)a0;
- (id)_setSelectedItemStateWithoutPerformingTransition:(long long)a0 options:(long long)a1;
- (struct CGPoint { double x0; double x1; })_panGestureTranslationConstrainedToPanAxis;
- (long long)_indexOfTargetItemWithTranslation:(double)a0 roundingThreshold:(double)a1;
- (long long)_indexOfTargetItemWithTranslation:(double)a0 roundingThreshold:(double)a1 allowActionIndex:(BOOL)a2 allowOutOfBounds:(BOOL)a3;
- (void)_setUpdateRequestActive:(BOOL)a0;
- (double)_percentToSelectItemIndex:(long long)a0;
- (double)_percentToActivatingTopActionWithTranslation:(struct CGPoint { double x0; double x1; })a0;
- (double)_swipeTranslationFactorWithPercentToTopAction:(double)a0;
- (id)_indexesOfVisibleItemsWithSelectedItemIndex:(long long)a0;
- (double)_selectedItemBackgroundAlpha;
- (long long)_nextItemIndexForSelectionGesture;
- (BOOL)_shouldShowAlternateToolbarContent;
- (BOOL)_translationIsAlmostHorizontal:(struct CGPoint { double x0; double x1; })a0;
- (BOOL)_shouldToggleMinimizedWithTranslation:(struct CGPoint { double x0; double x1; })a0 velocity:(struct CGPoint { double x0; double x1; })a1 gestureEnded:(BOOL)a2;
- (void)_setCapsuleSafeAreaInsetsFrozen:(BOOL)a0;
- (id)_coordinatorForUpdatingToCurrentSelectedItemStateFromState:(long long)a0;
- (double)_insetForCapsuleEdgeWithInsets:(struct UIEdgeInsets { double x0; double x1; double x2; double x3; })a0;
- (double)_overscrollDistanceForTopEdge;
- (void)_sendMinimizationDidUpdateToObservers;
- (void)_sendMinimizationDidEndToObservers;
- (void)_performVisualEffectTransitionWithCoordinator:(id)a0;
- (double)_selectedItemMinimizationPercent;
- (double)_minimizedContentScale;
- (void)setSelectedItemState:(long long)a0 options:(long long)a1 animated:(BOOL)a2;
- (void)beginVisualEffectTransition;
- (void)endVisualEffectTransition;
- (double)_verticalPanOffsetForToolbarBackdrop;
- (double)_verticalPanOffsetForToolbar;
- (double)_toolbarBackdropAlpha;
- (id)hitTest:(struct CGPoint { double x0; double x1; })a0 forCapsuleFrameWithEvent:(id)a1;
- (void)startPageViewControllerDidScroll:(id)a0;
- (void)webViewGeometryAnimationWillUpdateObscuredInsets:(struct UIEdgeInsets { double x0; double x1; double x2; double x3; })a0;
- (void)webViewGeometryAnimationDidFinish;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })partiallyObcsuredInsets;
- (id)contentViewForItemAtIndex:(long long)a0;
- (id)detachViewForItemAtIndex:(long long)a0;
- (void)reattachViewForItemAtIndex:(long long)a0;
- (void)takeOwnershipOfDetachedViewForItemAtIndex:(long long)a0;
- (BOOL)shouldTrackObscuredInsetsAnimation;
- (void)updateTrailingActionAnimated:(BOOL)a0;
- (void)setShowingAlternateToolbarContent:(BOOL)a0 animated:(BOOL)a1;
- (BOOL)_effectiveItemsAreHidden;
- (void)updateVerticalSwipeThreshold;
- (void)setSelectedItemAccessoryView:(id)a0 forState:(long long)a1;
- (void)installAlternateToolbarContentIfNeeded;
- (void)relinquishAlternateToolbarContentIfNeeded;

@end
