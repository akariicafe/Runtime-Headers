@class HAPAccessoryProtocolInfo, NSMapTable, HAPAuthSession, HAPCharacteristic, NSMutableArray, _HAPBTLEDiscoveryContext, NSString, HAPSecuritySession, HAPBLEAccessoryCache, HAPPairSetupSession, NSOperationQueue, NSError, HMFTimer;

@interface _HAPAccessoryServerBTLE200 : HAPAccessoryServerBTLE <CBPeripheralDelegate, HAPBTLEControlOutputStreamDelegate, HAPPairSetupSessionClientDelegate, HAPSecuritySessionDelegate, HMFTimerDelegate, HAPAuthSessionDelegate, HMFLogging>

@property (retain) HAPBLEAccessoryCache *accessoryCache;
@property BOOL hasValidCache;
@property (copy, nonatomic) id /* block */ connectionCompletionHandler;
@property (retain, nonatomic) HMFTimer *connectionIdleTimer;
@property (retain, nonatomic) _HAPBTLEDiscoveryContext *discoveryContext;
@property (nonatomic, getter=isVerified) BOOL verified;
@property (weak, nonatomic) HAPCharacteristic *identifyCharacteristic;
@property (retain, nonatomic) HAPPairSetupSession *pairSetupSession;
@property (nonatomic) double pairSetupBackoffTimeInterval;
@property (nonatomic, getter=isBadSetupCode) BOOL badPairSetupCode;
@property (copy, nonatomic) id /* block */ setupCodeCompletionHandler;
@property (nonatomic, getter=isPairing) BOOL pairing;
@property (retain, nonatomic) NSError *pairingDisconnectionError;
@property (nonatomic) BOOL authenticated;
@property (retain, nonatomic) HAPAuthSession *authSession;
@property (retain, nonatomic) HAPAccessoryProtocolInfo *authenticatedProtocolInfo;
@property (weak, nonatomic) HAPCharacteristic *pairingFeaturesCharacteristic;
@property (weak, nonatomic) HAPCharacteristic *pairSetupCharacteristic;
@property (weak, nonatomic) HAPCharacteristic *pairVerifyCharacteristic;
@property (readonly, nonatomic) NSOperationQueue *pairVerifyOperationQueue;
@property (weak, nonatomic) HAPCharacteristic *pairingsCharacteristic;
@property (readonly, nonatomic) NSMutableArray *pendingRequests;
@property (readonly, nonatomic) NSOperationQueue *requestOperationQueue;
@property (readonly, nonatomic) NSMutableArray *pendingResponses;
@property (readonly, nonatomic) NSMapTable *characteristicWriteCompletionHandlers;
@property (readonly, nonatomic) NSMapTable *characteristicEnableEventCompletionHandlers;
@property (nonatomic) unsigned char featureFlags;
@property (retain, nonatomic) HAPSecuritySession *securitySession;
@property (nonatomic) long long connectionState;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)logCategory;
+ (id)writeRequestForCharacteristic:(id)a0 value:(id)a1 authorizationData:(id)a2 contextData:(id)a3 options:(long long)a4 error:(id *)a5;
+ (id)prepareWriteRequestForCharacteristic:(id)a0 value:(id)a1 authorizationData:(id)a2 contextData:(id)a3 options:(long long)a4 error:(id *)a5;
+ (id)configurationRequestForCharacteristic:(id)a0 isBroadcasted:(BOOL)a1 interval:(unsigned long long)a2 error:(id *)a3;
+ (BOOL)parseCharacteristicConfigurationResponse:(id)a0 error:(id *)a1;
+ (id)configurationRequestForService:(id)a0 configRequestType:(unsigned char)a1 error:(id *)a2;
+ (BOOL)parseProtocolConfigurationResponse:(id)a0 key:(id *)a1 stateNumber:(id *)a2 error:(id *)a3;
+ (BOOL)parseWriteResponse:(id)a0 value:(id *)a1 error:(id *)a2;
+ (id)executeWriteRequestForCharacteristic:(id)a0 options:(long long)a1 error:(id *)a2;
+ (BOOL)parseReadResponse:(id)a0 value:(id *)a1 notificationContext:(id *)a2 error:(id *)a3;
+ (id)readRequestForCharacteristic:(id)a0 options:(long long)a1 error:(id *)a2;
+ (BOOL)isHAPService:(id)a0;
+ (id)parseServiceSignatureResponse:(id)a0 serviceInstanceID:(id)a1 serviceType:(id)a2 error:(id *)a3;
+ (id)signatureRequestForService:(id)a0 characteristic:(id)a1 requiresAuthentication:(BOOL)a2 error:(id *)a3;
+ (id)parseSignatureResponse:(id)a0 error:(id *)a1;
+ (id)signatureRequestForCharacteristic:(id)a0 requiresAuthentication:(BOOL)a1 error:(id *)a2;
+ (BOOL)isHAPDescriptor:(id)a0;
+ (id)extractSerializedRequestValueFromBodyData:(id)a0 error:(id *)a1;
+ (id)extractNotificationContextFromBodyData:(id)a0 error:(id *)a1;

- (BOOL)_delegateRespondsToSelector:(SEL)a0;
- (void)enableEvents:(BOOL)a0 forCharacteristics:(id)a1 withCompletionHandler:(id /* block */)a2 queue:(id)a3;
- (BOOL)removePairingForCurrentControllerOnQueue:(id)a0 completion:(id /* block */)a1;
- (void)timerDidFire:(id)a0;
- (id)descriptionWithPointer:(BOOL)a0;
- (void)_kickConnectionIdleTimer;
- (id)shortDescription;
- (void)disconnectWithCompletionHandler:(id /* block */)a0;
- (void)handleAccessoriesListUpdate:(id)a0;
- (void)continuePairingAfterAuthPrompt;
- (void)_suspendConnectionIdleTimer;
- (void)disconnect;
- (void)_notifyDelegatesPairingStopped:(id)a0;
- (void)authSession:(id)a0 authComplete:(id)a1;
- (void)provisionToken:(id)a0;
- (void)startPairingWithConsentRequired:(BOOL)a0 config:(id)a1 ownershipToken:(id)a2;
- (void)authenticateAccessory;
- (BOOL)tryPairingPassword:(id)a0 error:(id *)a1;
- (void)_establishSecureSession;
- (void)peripheral:(id)a0 didModifyServices:(id)a1;
- (void)peripheral:(id)a0 didDiscoverServices:(id)a1;
- (void)peripheral:(id)a0 didUpdateValueForDescriptor:(id)a1 error:(id)a2;
- (void)peripheral:(id)a0 didDiscoverCharacteristicsForService:(id)a1 error:(id)a2;
- (void)peripheral:(id)a0 didUpdateValueForCharacteristic:(id)a1 error:(id)a2;
- (void)peripheral:(id)a0 didWriteValueForCharacteristic:(id)a1 error:(id)a2;
- (void)peripheral:(id)a0 didUpdateNotificationStateForCharacteristic:(id)a1 error:(id)a2;
- (void)peripheral:(id)a0 didDiscoverDescriptorsForCharacteristic:(id)a1 error:(id)a2;
- (void)authSession:(id)a0 sendAuthExchangeData:(id)a1;
- (void)addPairing:(id)a0 completionQueue:(id)a1 completionHandler:(id /* block */)a2;
- (void)tearDownSessionOnAuthCompletion;
- (void)_continuePairingAfterMFiCertValidation;
- (void)getAccessoryInfo:(id /* block */)a0;
- (void).cxx_destruct;
- (void)authSession:(id)a0 validateUUID:(id)a1 token:(id)a2;
- (void)_enableEvents:(BOOL)a0 forCharacteristics:(id)a1 withCompletionHandler:(id /* block */)a2 queue:(id)a3;
- (void)identifyWithCompletion:(id /* block */)a0;
- (BOOL)stopPairingWithError:(id *)a0;
- (unsigned long long)_outstandingRequests;
- (void)readCharacteristicValues:(id)a0 timeout:(double)a1 completionQueue:(id)a2 completionHandler:(id /* block */)a3;
- (BOOL)_validateProtocolInfo:(id)a0;
- (void)listPairingsWithCompletionQueue:(id)a0 completionHandler:(id /* block */)a1;
- (void)authSession:(id)a0 confirmUUID:(id)a1 token:(id)a2;
- (void)removePairing:(id)a0 completionQueue:(id)a1 completionHandler:(id /* block */)a2;
- (void)writeCharacteristicValues:(id)a0 timeout:(double)a1 completionQueue:(id)a2 completionHandler:(id /* block */)a3;
- (void)dealloc;
- (void)authSession:(id)a0 authenticateUUID:(id)a1 token:(id)a2;
- (void)continueAuthAfterValidation:(BOOL)a0;
- (void)discoverAccessories;
- (void)_handleConnectionIdleTimeout;
- (BOOL)isSecuritySessionOpen;
- (BOOL)isBLELinkConnected;
- (void)generateBroadcastKey:(unsigned char)a0 queue:(id)a1 withCompletionHandler:(id /* block */)a2;
- (void)configureCharacteristics:(id)a0 queue:(id)a1 withCompletionHandler:(id /* block */)a2;
- (void)discoverAccessoriesAndReadCharacteristicTypes:(id)a0;
- (void)securitySessionIsOpening:(id)a0;
- (void)securitySessionDidOpen:(id)a0;
- (void)securitySession:(id)a0 didCloseWithError:(id)a1;
- (id)securitySession:(id)a0 didReceiveLocalPairingIdentityRequestWithError:(id *)a1;
- (id)securitySession:(id)a0 didReceiveRequestForPeerPairingIdentityWithIdentifier:(id)a1 error:(id *)a2;
- (void)securitySession:(id)a0 didReceiveSetupExchangeData:(id)a1;
- (void)pairSetupSession:(id)a0 didReceiveProductData:(id)a1;
- (void)pairSetupSessionDidReceiveInvalidSetupCode:(id)a0;
- (BOOL)pairSetupSession:(id)a0 didReceiveBackoffRequestWithTimeInterval:(double)a1;
- (void)pairSetupSession:(id)a0 didReceiveSetupCodeRequestWithCompletionHandler:(id /* block */)a1;
- (void)pairSetupSession:(id)a0 didStopWithError:(id)a1;
- (id)pairSetupSession:(id)a0 didReceiveLocalPairingIdentityRequestWithError:(id *)a1;
- (BOOL)pairSetupSession:(id)a0 didPairWithPeer:(id)a1 error:(id *)a2;
- (void)pairSetupSession:(id)a0 didReceiveSetupExchangeData:(id)a1;
- (void)controlOutputStream:(id)a0 didReceiveRequestToSendControlPacket:(id)a1 completionHandler:(id /* block */)a2;
- (void)controlOutputStreamDidOpen:(id)a0;
- (void)controlOutputStream:(id)a0 didCloseWithError:(id)a1;
- (void)controlOutputStreamDidComplete:(id)a0;
- (id)initWithPeripheral:(id)a0 name:(id)a1 pairingUsername:(id)a2 statusFlags:(id)a3 stateNumber:(id)a4 stateChanged:(BOOL)a5 connectReason:(unsigned char)a6 configNumber:(id)a7 category:(id)a8 setupHash:(id)a9 connectionIdleTime:(unsigned char)a10 browser:(id)a11 keyStore:(id)a12 whbStableIdentifier:(id)a13;
- (void)_resetWithError:(id)a0;
- (unsigned long long)hapBLEProtocolVersion;
- (void)_createPrimaryAccessoryFromAdvertisementData;
- (id)_serviceForCBService:(id)a0;
- (id)_characteristicForCBCharacteristic:(id)a0;
- (void)_removePairingOfAccessoryServerCancelledMidPairing;
- (void)_readPendingCharacteritiscTypes:(id)a0 completion:(id /* block */)a1;
- (void)_discoverWithType:(long long)a0 completionHandler:(id /* block */)a1;
- (BOOL)_cancelDiscoveryWithError:(id)a0;
- (void)_retryDiscovery;
- (void)_handleCompletedDiscovery;
- (id)_getCBCharacteristic:(id)a0 instanceId:(id)a1 service:(id)a2;
- (id)_getCBService:(id)a0 instanceOrder:(unsigned long long)a1;
- (id)_getCachedService:(id)a0;
- (id)_hapServicesFromCache;
- (id)_serviceCacheFromHAPService:(id)a0 serviceOrder:(unsigned long long)a1;
- (void)_cacheServices:(id)a0;
- (void)_discoverServices;
- (void)_handleDiscoveredServices:(id)a0 error:(id)a1;
- (void)_discoverCharacteristicsForService:(id)a0;
- (void)_handleDiscoveredCharacteristicsForService:(id)a0 error:(id)a1;
- (void)_handleReadServiceInstanceId:(id)a0;
- (void)_discoverCharacteristic:(id)a0;
- (void)_handleDiscoveredCharactersitic:(id)a0 error:(id)a1;
- (void)_handleDiscoveredDescriptors:(id)a0;
- (void)_readCharacteristicValue:(id)a0;
- (void)_handleReadCharacteristicValue:(id)a0 error:(id)a1;
- (void)_readDescriptorValue:(id)a0;
- (void)_handleReadDescriptorValue:(id)a0 error:(id)a1;
- (void)_handleUpdateValueForCharacteristic:(id)a0 error:(id)a1;
- (void)_readCharacteristicSignatures;
- (id)_getCharacteristicInstanceID:(id)a0 error:(id *)a1;
- (id)_getServiceInstanceID:(id)a0;
- (id)_getProtocolInfoService;
- (void)_readCharacteristicSignature:(id)a0;
- (void)_readServiceSignature:(id)a0;
- (void)_handleReadCharacteristicSignature:(id)a0 error:(id)a1;
- (void)_handleReadServiceSignature:(id)a0 error:(id)a1;
- (BOOL)isHAPCharacteristic:(id)a0;
- (BOOL)shouldVerifyHAPCharacteristic:(id)a0;
- (BOOL)shouldVerifyHAPService:(id)a0;
- (id)_parseService:(id)a0 error:(id *)a1;
- (id)_parseCharacteristic:(id)a0 error:(id *)a1;
- (void)_readCharacteristicValues:(id)a0 queue:(id)a1 completionHandler:(id /* block */)a2;
- (void)_updatePropertiesFromCharacteristic:(id)a0;
- (void)_readValueForCharacteristic:(id)a0 options:(long long)a1 completionHandler:(id /* block */)a2;
- (void)_writeValue:(id)a0 toCharacteristic:(id)a1 authorizationData:(id)a2 contextData:(id)a3 options:(long long)a4 completionHandler:(id /* block */)a5;
- (void)_performWriteValue:(id)a0 toCharacteristic:(id)a1 authorizationData:(id)a2 contextData:(id)a3 options:(long long)a4 completionHandler:(id /* block */)a5;
- (void)_performTimedWriteValue:(id)a0 toCharacteristic:(id)a1 authorizationData:(id)a2 contextData:(id)a3 options:(long long)a4 completionHandler:(id /* block */)a5;
- (void)_performTimedWritePrepareWithValue:(id)a0 toCharacteristic:(id)a1 authorizationData:(id)a2 contextData:(id)a3 options:(long long)a4 completionHandler:(id /* block */)a5;
- (void)_performTimedWriteExecuteForCharacteristic:(id)a0 value:(id)a1 options:(long long)a2 completionHandler:(id /* block */)a3;
- (void)markNotifyingCharacteristicUpdatedforCharacteristic:(id)a0;
- (void)_enableEvent:(BOOL)a0 forCharacteristic:(id)a1 withCompletionHandler:(id /* block */)a2 queue:(id)a3;
- (void)_performEnableEvent:(BOOL)a0 toCharacteristic:(id)a1 completionHandler:(id /* block */)a2;
- (void)_enableEvent:(BOOL)a0 toCharacteristic:(id)a1 completionHandler:(id /* block */)a2;
- (void)_handleHAPNotificationStateUpdateForCharacteristic:(id)a0 error:(id)a1;
- (void)_handleEventIndicationForCharacteristic:(id)a0;
- (void)_generateBroadcastKey:(unsigned char)a0 queue:(id)a1 withCompletionHandler:(id /* block */)a2;
- (void)_configureBroadcastKeyGeneration:(unsigned char)a0 service:(id)a1 withCompletion:(id /* block */)a2;
- (void)_configureCharacteristics:(id)a0 queue:(id)a1 withCompletionHandler:(id /* block */)a2;
- (void)_enableBroadcastEvent:(BOOL)a0 interval:(unsigned long long)a1 forCharacteristic:(id)a2 completionHandler:(id /* block */)a3;
- (void)_checkForAuthPrompt:(BOOL)a0;
- (void)_getPairingFeaturesWithCompletionHandler:(id /* block */)a0;
- (BOOL)_parsePairingFeaturesCharacteristic:(id)a0 authMethod:(unsigned long long *)a1 error:(id *)a2;
- (void)_handlePairSetupSessionExchangeData:(id)a0;
- (void)_handlePairingSetupCodeRequestWithCompletionHandler:(id /* block */)a0;
- (void)_pairingCompletedWithError:(id)a0;
- (BOOL)removePairingForCurrentControllerOnQueue:(id)a0 completion:(id /* block */)a1 serverPairingCompletion:(id /* block */)a2;
- (void)_sendPairingRequestData:(id)a0 completionHandler:(id /* block */)a1;
- (id)getLocalPairingIdentityWithError:(id *)a0;
- (unsigned long long)_getPairSetupType;
- (id)_pendingRequestForCharacteristic:(id)a0;
- (id)_pendingResponseForRequest:(id)a0;
- (void)_sendRequest:(id)a0 shouldPrioritize:(BOOL)a1 responseHandler:(id /* block */)a2;
- (void)_reallySendRequest:(id)a0 completionHandler:(id /* block */)a1;
- (unsigned long long)_maximumControlWriteLengthForRequest:(id)a0;
- (void)_sendControlPacket:(id)a0 forRequest:(id)a1 completionHandler:(id /* block */)a2;
- (void)_sendData:(id)a0 toCharacteristic:(id)a1 completionHandler:(id /* block */)a2;
- (void)_handleWriteCompletionForCharacteristic:(id)a0 error:(id)a1;
- (void)_requestResponseForRequest:(id)a0;
- (void)_handleResponseData:(id)a0 fromCharacteristic:(id)a1 error:(id)a2;
- (void)_sendProtocolInfoServiceExchangeData:(id)a0 completion:(id /* block */)a1;
- (void)_enqueueRequest:(id)a0 shouldPrioritize:(BOOL)a1;
- (void)_suspendAllOperations;
- (void)_resumeAllOperations;
- (void)_cancelAllQueuedOperationsWithError:(id)a0;
- (void)setSecuritySessionOpen:(BOOL)a0;
- (void)_handleSecuritySessionSetupExchangeData:(id)a0;
- (id)protocolInfoServiceSignatureCharacteristics;
- (id)_encryptDataAndGenerateAuthTag:(id)a0 error:(id *)a1;
- (id)_decryptData:(id)a0 error:(id *)a1;
- (void)connectWithRouteMode:(unsigned char)a0 withCompletionHandler:(id /* block */)a1;
- (void)_cancelConnectionWithError:(id)a0;
- (void)disconnectWithCompletionHandler:(id /* block */)a0 disconnectionError:(id)a1;
- (void)updateConnectionIdleTime:(unsigned char)a0;
- (void)_updateConnectionIdleTime:(unsigned char)a0;
- (void)_restartConnectionIdleTimer:(double)a0;
- (void)handleConnectionWithPeripheral:(id)a0 withError:(id)a1;
- (void)_handleConnectionWithError:(id)a0;
- (void)handleDisconnectionWithError:(id)a0 completionQueue:(id)a1 completionHandler:(id /* block */)a2;
- (void)_resumeConnectionIdleTimer;
- (void)_notifyDelegateOfReceivedEncryptedAuthenticatedData:(id)a0 forCharacteristic:(id)a1;
- (void)_notifyDelegateOfReceivedPlaintextData:(id)a0 forCharacteristic:(id)a1;
- (void)_notifyDelegateOfSentEncryptedAuthenticatedData:(id)a0 forCharacteristic:(id)a1;
- (void)_notifyDelegateOfSentPlaintextData:(id)a0 forCharacteristic:(id)a1;

@end
