@class NSDate, NSString, CKSyncEngineMetadata, CKDatabase, CKServerChangeToken, NSOperationQueue, NSArray, NSObject, CKNotificationListener;
@protocol OS_dispatch_queue, OS_xpc_object, CKSyncEngineDataSource;

@interface CKSyncEngine : NSObject <CKPropertiesDescription> {
    BOOL _ignoringSystemConditions;
    BOOL _useUniqueActivityIdentifiers;
    unsigned long long _lastNotifiedMetadataChangeCount;
    NSObject<OS_dispatch_queue> *_queue;
    NSObject<OS_dispatch_queue> *_batchCreationQueue;
    unsigned long long _maxRecordBytesPerBatch;
    id /* block */ _updateMetadataBlock;
}

@property (class, nonatomic) BOOL fastErrorRetry;

@property (retain) CKSyncEngineMetadata *metadata;
@property (retain) CKNotificationListener *notificationListener;
@property (readonly, nonatomic) NSOperationQueue *operationQueue;
@property (retain, nonatomic) NSString *apsMachServiceName;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *callbackQueue;
@property (readonly, nonatomic) unsigned long long maxRecordCountPerBatch;
@property unsigned long long maxZoneCountPerBatch;
@property (nonatomic) BOOL allowMetadataCallbackDeferral;
@property (readonly, nonatomic) NSObject<OS_xpc_object> *xpcActivityCriteriaOverrides;
@property (nonatomic, getter=isWaitingForIdentityUpdate) BOOL waitingForIdentityUpdate;
@property (nonatomic, getter=isWaitingForHSA2) BOOL waitingForHSA2;
@property (nonatomic) long long lastKnownAccountStatus;
@property (readonly, nonatomic) long long priority;
@property (readonly, nonatomic) NSString *databaseSubscriptionIDOverride;
@property (readonly, nonatomic) BOOL continueModifyingPendingChangesAfterFailure;
@property (readonly, nonatomic) BOOL allowFetchAndModifyConcurrently;
@property (retain, nonatomic) NSDate *earliestStartDateForSchedulerActivities;
@property BOOL useEarliestStartDateForSchedulerActivitiesInPast;
@property BOOL skipRetryOnOperationError;
@property (getter=isAutomaticSyncingEnabled) BOOL automaticSyncingEnabled;
@property BOOL useOpportunisticPushTopic;
@property BOOL needsToReloadAccount;
@property (copy, nonatomic) CKServerChangeToken *serverChangeTokenForDatabase;
@property (readonly, weak, nonatomic) id<CKSyncEngineDataSource> dataSource;
@property (readonly, nonatomic) CKDatabase *database;
@property (readonly, nonatomic) NSArray *recordIDsToSave;
@property (readonly, nonatomic) NSArray *recordIDsToDelete;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (BOOL)shouldDeferAfterError:(id)a0;
+ (id)syncActivityIdentifierInDatabase:(id)a0 ignoringSystemConditions:(BOOL)a1;
+ (id)earliestStartDateAfterError:(id)a0;
+ (id)saveSubscriptionActivityIdentifierInDatabase:(id)a0 ignoringSystemConditions:(BOOL)a1;
+ (void)unregisterActivitiesWithDatabase:(id)a0 ignoringSystemConditions:(BOOL)a1;

- (void)CKDescribePropertiesUsing:(id)a0;
- (void)didReceiveDatabaseNotification:(id)a0;
- (void)fetchChangesForZoneIDs:(id)a0 group:(id)a1 completionHandler:(id /* block */)a2;
- (void)accountChangedNotification:(id)a0;
- (unsigned long long)numberOfModifyPendingRecordsOperations;
- (id)nextBatchOfRecordsToModifyWithCustomBatchingInZoneIDs:(id)a0;
- (id)defaultDatabaseSubscription;
- (BOOL)hasSchedulerActivityWithIdentifier:(id)a0;
- (BOOL)allowFetchAndModifyConcurrentlyForContainerID:(id)a0;
- (void)_fetchChangesForZoneIDs:(id)a0 ifNecessary:(BOOL)a1 operationGroup:(id)a2 completionHandler:(id /* block */)a3;
- (BOOL)_isFetchChangesErrorAdopterVisible:(id)a0;
- (id)databaseSubscription;
- (id)syncActivityIdentifier;
- (id)redactedDescription;
- (id)userRequestedBackupActivityIdentifier;
- (void)fetchChangesForZoneIDs:(id)a0 completionHandler:(id /* block */)a1;
- (id)existingOperationToFetchChangesForZoneIDs:(id)a0 group:(id)a1 includingExecutingOperations:(BOOL)a2;
- (void)updateMetadataAndNotifyDatasourceIfNecessaryForUserRecordID:(id)a0;
- (void)removeRecordIDsToSave:(id)a0 recordIDsToDelete:(id)a1;
- (id)zoneIDsToDeleteInZoneIDs:(id)a0;
- (void)saveSubscriptionIfNecessaryWithCompletionHandler:(id /* block */)a0;
- (void)modifyPendingChangesInZoneIDs:(id)a0 group:(id)a1 completionHandler:(id /* block */)a2;
- (void)fetchChangesWithCompletionHandler:(id /* block */)a0;
- (void)_updateDataSourceForFailedToFetchChangesForRecordZoneID:(id)a0 error:(id)a1;
- (id)defaultDatabaseSubscriptionID;
- (id)zoneIDsToSaveInZoneIDs:(id)a0;
- (id)nextBatchOfRecordsToModifyInZoneIDs:(id)a0;
- (id)_adopterVisibleFetchChangesErrorForZoneID:(id)a0 error:(id)a1;
- (void)dealloc;
- (id)databaseSubscriptionWithID:(id)a0;
- (void)performSyncActivity:(id)a0 completionHandler:(id /* block */)a1;
- (void)submitActivityIfNecessaryWithIdentifier:(id)a0 earliestStartDate:(id)a1 priority:(long long)a2 userRequestedBackupTask:(BOOL)a3 relatedApplicationBundleIdentifiers:(id)a4;
- (void)setHasPendingModifications;
- (void)cancelPendingOperationsWithCompletionHandler:(id /* block */)a0;
- (void)modifyPendingChangesInZoneIDs:(id)a0 completionHandler:(id /* block */)a1;
- (id)serverChangeTokenForRecordZoneID:(id)a0;
- (void)relatedApplicationBundleIdentifiersForZoneIDs:(id)a0 recordIDs:(id)a1 completionHandler:(id /* block */)a2;
- (BOOL)hasPendingModifications;
- (id)saveSubscriptionActivityIdentifier;
- (id)init;
- (void)setNeedsToFetchChanges;
- (void)networkAttributionBundleIDForZoneIDs:(id)a0 recordIDs:(id)a1 completionHandler:(id /* block */)a2;
- (void)modifyPendingChangesWithCompletionHandler:(id /* block */)a0;
- (id)initWithConfiguration:(id)a0;
- (void)identityUpdateNotification:(id)a0;
- (void)addRecordZonesToSave:(id)a0 recordZoneIDsToDelete:(id)a1;
- (void)removeRecordZonesToSave:(id)a0 recordZoneIDsToDelete:(id)a1;
- (void)unregisterActivities;
- (void)fetchChangesForZoneIDs:(id)a0 group:(id)a1 ifNecessary:(BOOL)a2 completionHandler:(id /* block */)a3;
- (void).cxx_destruct;
- (void)addRecordIDsToSave:(id)a0 recordIDsToDelete:(id)a1;
- (BOOL)needsToFetchChangesForZoneIDs:(id)a0;
- (id)existingOperationToModifyPendingChangesForZoneIDs:(id)a0 group:(id)a1 includingExecutingOperations:(BOOL)a2;
- (void)setServerChangeToken:(id)a0 forRecordZoneID:(id)a1;

@end
