@class NSMutableDictionary, NSMapTable, NTKSnowglobeState, SCNNode, NTKSnowglobeCrownHandler, NSObject, CLKTimeFormatter, NSMutableArray, NTKSnowglobePromise, NSString, SCNLight, NSArray, NSNumber, SCNScene, SCNRenderer;
@protocol NTKSnowglobeColorPalette, MTLDevice, OS_dispatch_group, MTLLibrary, OS_dispatch_semaphore, OS_dispatch_queue;

@interface NTKSnowglobeSceneController : NSObject <CLKTimeFormatterObserver, SCNPhysicsContactDelegate, SCNSceneRendererDelegate, NTKTimeView> {
    id<MTLDevice> _device;
    id<MTLLibrary> _library;
    struct CGSize { double width; double height; } _screenSize;
    SCNNode *_cameraNode;
    SCNNode *_cameraFocalNode;
    NSMutableDictionary *_digitControllers;
    NSMutableArray *_exitingDigitControllers;
    NSMutableArray *_backgroundControllers;
    NSMapTable *_digitControllerLookup;
    CLKTimeFormatter *_timeFormatter;
    SCNNode *_backgroundContainer;
    NSArray *_backgroundObjectRandoms;
    NSArray *_backgroundObjects;
    NTKSnowglobePromise *_daintyPromise;
    NSArray *_offscreenBackgroundObjectIndices;
    NSNumber *_daintyIndex;
    void /* unknown type, empty encoding */ _backgroundParallax;
    SCNLight *_leftBacklight;
    SCNLight *_rightBacklight;
    SCNLight *_nightLight;
    SCNLight *_nightAmbientLight;
    SCNNode *_leftBacklightNode;
    SCNNode *_rightBacklightNode;
    SCNNode *_nightLightNode;
    SCNNode *_nightAmbientLightNode;
    SCNNode *_glassNode;
    double _lastHaptic;
    NTKSnowglobeState *_snowglobeState;
    BOOL _snowglobeStateInitialized;
    BOOL _showingOverrideTime;
    NSObject<OS_dispatch_group> *_group;
    NSObject<OS_dispatch_queue> *_renderQueue;
    NSObject<OS_dispatch_semaphore> *_asyncApplyStateSemaphore;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _stateLock;
}

@property (retain) NTKSnowglobeState *snowglobeState;
@property (retain, nonatomic) NTKSnowglobeState *appliedSnowglobeState;
@property (readonly, nonatomic) SCNScene *scene;
@property (weak, nonatomic) SCNRenderer *renderer;
@property (weak, nonatomic) NTKSnowglobeCrownHandler *crownInputHandler;
@property (retain, nonatomic) id<NTKSnowglobeColorPalette> colorPalette;
@property (nonatomic) double backgroundObjectOpacity;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (nonatomic, getter=isFrozen) BOOL frozen;

- (void)tapAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)flushWithCompletion:(id /* block */)a0;
- (void)setTimeOffset:(double)a0;
- (void)flush;
- (void).cxx_destruct;
- (void)setOverrideDate:(id)a0 duration:(double)a1;
- (void)timeFormatterTextDidChange:(id)a0;
- (id)_charactersFromFormatter:(id)a0;
- (void)_queue_animatedReplaceDigit:(unsigned long long)a0 withCharacter:(unsigned long long)a1;
- (void)_queue_animatedReplaceDigit:(unsigned long long)a0 withCharacter:(unsigned long long)a1 force:(BOOL)a2;
- (void)_queue_applyBackgroundContents;
- (void)_queue_applyBackgroundObjectColors:(id)a0;
- (void)_queue_applyColorPalette;
- (void)_queue_applyState;
- (id)_queue_backgroundObjectColorsFromColors:(id)a0;
- (id)_queue_backgroundObjectPositions;
- (void)_queue_configureController:(id)a0 digit:(unsigned long long)a1;
- (void)_queue_configureLightingWithTritiumFraction:(double)a0;
- (void)_queue_enumerateDigitsWithBlock:(id /* block */)a0;
- (void)_queue_loadBackgroundObjects;
- (void)_queue_replaceDigit:(unsigned long long)a0 withCharacter:(unsigned long long)a1;
- (void)_queue_replaceRandomObjectWithDainty;
- (void)_queue_resetToIdealizedState;
- (void)_queue_setupBackgroundObject:(id)a0;
- (void)_queue_setupBorderWalls;
- (void)_queue_setupCamera;
- (void)_queue_setupPlane;
- (void)_queue_setupScene;
- (void)_queue_tapAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)_queue_updateBackgroundContainerOpacity;
- (void)_queue_updateCameraAngles;
- (void)_queue_updateCameraParallax;
- (void /* unknown type, empty encoding */)_restingOriginForDigit:(unsigned long long)a0 node:(id)a1;
- (void)_setupTimeFormatter;
- (void /* unknown type, empty encoding */)_tritiumOriginAdjustmentForDigit:(unsigned long long)a0;
- (struct { })_tritiumRotationForDigit:(unsigned long long)a0;
- (id)initWithSceneSize:(struct CGSize { double x0; double x1; })a0 renderQueue:(id)a1;
- (void)physicsWorld:(id)a0 didBeginContact:(id)a1;
- (void)physicsWorld:(id)a0 didUpdateContact:(id)a1;
- (void)renderer:(id)a0 updateAtTime:(double)a1;
- (void)setIdealizedState:(BOOL)a0 editing:(BOOL)a1;
- (void)setTritiumState:(unsigned long long)a0 fraction:(double)a1;

@end
