@class NSDictionary, ACAccount, UIViewController, SFSession, AVAudioSession, SSAccount, NSMutableArray, NSString, RPCompanionLinkClient, SFDeviceOperationCNJSetup, HMHome, NSArray, AVAudioPlayer, HDSFileTransfer, SFDeviceOperationHomeKitSetup, SFDeviceOperationWiFiSetup, NSObject, NSSet, AFEnablementConfiguration, HDSBonjourTest, TRSession, TROperationQueue, SFDeviceOperationCDPSetup, HMAccessorySoftwareUpdateControllerV2, AFVoiceInfo, HMAccessory, ACAccountStore, APCListener, SFDevice, AFEnablementFlowConfigurationProvider;
@protocol OS_os_log, OS_dispatch_queue, OS_dispatch_source;

@interface HDSSetupSession : NSObject <AVAudioPlayerDelegate, SignpostProviding, FMFSessionDelegate> {
    BOOL _activateCalled;
    RPCompanionLinkClient *_companionLinkClient;
    BOOL _invalidateCalled;
    unsigned long long _startTicks;
    int _proxSetupActiveToken;
    BOOL _audioProgress;
    AVAudioSession *_audioSession;
    AVAudioPlayer *_audioPlayerStart;
    AVAudioPlayer *_audioPlayerStep;
    id /* block */ _audioPlayerCompletion;
    BOOL _preflightEnabled;
    int _preflightWiFiState;
    int _preflightiCloudState;
    int _preflightTrustedDeviceState;
    BOOL _preventAppleWiFi;
    ACAccountStore *_iCloudAccountStore;
    ACAccount *_iCloudAccount;
    NSString *_iCloudUserID;
    int _iCloudAccountState;
    BOOL _homeiCloudEnabled;
    int _preflightiTunesState;
    SSAccount *_iTunesAccount;
    BOOL _iTunesSignInSkip;
    NSString *_iTunesUserID;
    BOOL _appleMusicEnabled;
    int _appleMusicState;
    BOOL _appleMusicForce;
    BOOL _forceSoftwareUpdate;
    NSObject<OS_dispatch_source> *_appleMusicTimeoutTimer;
    int _preflightAppleMusicState;
    int _appleStoreMode;
    int _preflightMiscState;
    BOOL _locationEnabled;
    BOOL _locationDecided;
    BOOL _siriEnabled;
    BOOL _prefStereoPairEnabled;
    BOOL _prefStereoWait;
    BOOL _prefPrototypeForceUpdate;
    NSArray *_potentialStereoCounterparts;
    HMAccessory *_stereoCounterpartAccessory;
    int _stereoPairUserInputState;
    int _stereoPairRole;
    BOOL _tvAudioEnabled;
    BOOL _tvAudioInputAvailable;
    int _tvAudioUserInputState;
    BOOL _prefTVAudioEnabled;
    NSArray *_potentialTVs;
    HMAccessory *_tvAudioInput;
    SFSession *_sfSession;
    BOOL _sfSessionSecured;
    int _sfSessionState;
    int _preAuthState;
    BOOL _preAuthStartedProgress;
    HDSFileTransfer *_hdsFileTransferSession;
    unsigned int _siriFlags;
    NSArray *_siriLanguageCodes;
    NSString *_selectedSiriLanguageCode;
    BOOL _siriLanguagePicked;
    int _siriLanguageState;
    AFVoiceInfo *_selectedSiriVoice;
    int _siriEnablementConfigurationState;
    AFEnablementConfiguration *_siriEnablementConfiguration;
    AFEnablementFlowConfigurationProvider *_siriEnablementConfigurationProvider;
    NSString *_companionSiriLanguageCode;
    int _siriVoiceProfileState;
    BOOL _apcEnabled;
    BOOL _apcInitDone;
    APCListener *_apcListener;
    BOOL _apcListening;
    BOOL _apcMetricsLogged;
    NSString *_apcPasscode;
    BOOL _apcPlayAgain;
    BOOL _apcPlaying;
    BOOL _apcSecured;
    BOOL _apcSkip;
    int _apcState;
    BOOL _apcStartDone;
    BOOL _apcStartedPairSetup;
    unsigned long long _apcStartTicks;
    NSObject<OS_dispatch_source> *_apcTimer;
    unsigned int _apcTimeoutCount;
    BOOL _apcTryingPasscode;
    BOOL _lpcAligned;
    int _lpcAlignmentState;
    BOOL _lpcPlayAgain;
    BOOL _lpcSkip;
    BOOL _siriPasscodeEnabled;
    BOOL _siriPasscodeInitDone;
    BOOL _siriPasscodeSecured;
    int _siriPasscodeState;
    NSString *_forcedPasscode;
    int _amsActivationState;
    int _homeKitSetupModeState;
    unsigned int _pairSetupFlags;
    int _pairSetupState;
    double _pairSetupSecs;
    int _recognizeVoiceEnabled;
    int _recognizeVoiceState;
    int _recognizeVoiceStepState;
    int _personalRequestsState;
    int _personalRequestsChoice;
    BOOL _siriForEveryoneAnswered;
    int _siriForEveryoneState;
    int _siriDataSharing;
    int _automaticSoftwareUpdateState;
    int _automaticSoftwareUpdateAgreed;
    int _softwareUpdateState;
    int _softwareUpdateAgreed;
    int _soundRecognitionAndDropInState;
    BOOL _soundRecognitionAndDropInAgreed;
    BOOL _soundRecognitionAndDropInSelected;
    int _termsState;
    BOOL _termsAgreed;
    int _personalRequestsSkipCardState;
    int _preShareSettingsState;
    BOOL _preShareSettingsAgreed;
    int _shareSettingsState;
    BOOL _shareSettingsAgreed;
    int _authKitTrustState;
    int _basicConfigState;
    unsigned long long _basicConfigStartTicks;
    double _basicConfigSecs;
    NSString *_deviceGUID;
    NSString *_deviceSerialNumber;
    NSString *_deviceModel;
    NSString *_deviceBuildVersion;
    SFDeviceOperationWiFiSetup *_wifiSetupOperation;
    HDSBonjourTest *_bonjourTestOperation;
    int _wifiSetupState;
    double _wifiSetupSecs;
    double _wifiSetupStepSecs;
    double _wifiBonjourTestSecs;
    BOOL _wifiIsCaptive;
    SFDeviceOperationCNJSetup *_captiveJoin;
    int _captiveJoinState;
    double _reachabilitySecs;
    BOOL _didShowCaptiveSheet;
    BOOL _peerSupportsCaptiveNetworks;
    int _trSessionState;
    TRSession *_trSession;
    NSMutableArray *_trOperations;
    TROperationQueue *_trOperationQueue;
    int _trSetupConfigurationState;
    unsigned long long _trSetupConfigurationStartTicks;
    double _trSetupConfigurationSecs;
    BOOL _trNeedsNetwork;
    NSSet *_trUnauthServices;
    BOOL _trUseAIDA;
    double _iCloudAuthMs;
    double _iTunesAuthMs;
    unsigned long long _userWaitStartTicks;
    double _userWaitTimeSecs;
    int _trActivationState;
    int _bgActivationState;
    double _activationSecs;
    int _trAuthenticationState;
    BOOL _trAuthenticationStateReset;
    unsigned long long _trAuthenticationStartTicks;
    double _trAuthenticationSecs;
    double _trAuthenticationTotalSecs;
    BOOL _cdpEnabled;
    SFDeviceOperationCDPSetup *_cdpSetupOperation;
    double _cdpSetupSecs;
    int _cdpState;
    SFDeviceOperationHomeKitSetup *_homeKitSetupOperation;
    int _homeKitUserInputState;
    int _homeKitSetupState;
    double _homeKitSetupSecs;
    NSString *_homeKitSelectedRoomName;
    double _setupDeviceSecs;
    double _addDeviceSecs;
    double _assignRoomSecs;
    double _personalRequestSecs;
    double _ulhNonUserWaitSecs;
    double _odeonSecs;
    double _nonUserWaitSecs;
    BOOL _hasExistingHomePodInSelectedRoom;
    HMAccessory *_existingHomepodInSelectedRoom;
    BOOL _shouldShowCardForPRCounts;
    int _multiUserEnableState;
    int _multiUserEnableStepState;
    int _finishState;
    unsigned long long _finishStartTicks;
    double _finishSecs;
    double _iTunesWaitSecs;
    double _mediaSystemWaitSecs;
    double _totalSecs;
    BOOL _prefBonjourTest;
    BOOL _prefForceSiriGreeting;
    BOOL _prefLEDPasscodeEnabled;
    BOOL _prefMultiUser;
    BOOL _homePodReceivedSUResponse;
    BOOL _homePodNeedsSU;
    BOOL _homePodRecievedProductVersionResponse;
    NSString *_homePodProductVersionString;
    unsigned long long _amsOptimizationStartTicks;
    double _amsOptimizationSecs;
    unsigned long long _numberOfHomePodsInHome;
    unsigned long long _numberOfHomePodsInAccount;
    unsigned long long _numberOfHomes;
    BOOL _homePodIsCallbellCapable;
    NSString *_forcedCLIPasscode;
    unsigned long long _homeKitStartTicks;
    double _homeKitHDSMs;
    HMAccessorySoftwareUpdateControllerV2 *_softwareUpdateController;
    int _homepodSoftwareUpdateState;
    int _odeonState;
    BOOL _logMetricsCalled;
    BOOL _automaticUpdatesEnabled;
    BOOL _homeSafetySecurityEnabled;
    int _rmvSelectionState;
    int _soundRecognitionSelectionState;
    int _siriSettingState;
    int _personalRequestsSelectionState;
    int _activeDeviceSelectionState;
    int _locationSelectionState;
}

@property (class, readonly) NSObject<OS_os_log> *signpostLog;

@property (nonatomic) BOOL acceptedMusicTerms;
@property (copy, nonatomic) NSDictionary *additionalMetrics;
@property (copy, nonatomic) NSArray *availableHomes;
@property (readonly, nonatomic) int bonjourTestState;
@property (nonatomic) BOOL isCLIMode;
@property (retain, nonatomic) NSString *appleIDPassword;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *dispatchQueue;
@property (nonatomic) BOOL hasExistingHomePodInAccount;
@property (nonatomic) BOOL hasExistingHomePod;
@property (readonly, nonatomic) BOOL hasMultipleUsers;
@property (nonatomic) BOOL liveOn;
@property (nonatomic) int homePodProductVersion;
@property (nonatomic) int homePodSUState;
@property (nonatomic) BOOL pauseAfterPreAuth;
@property (retain, nonatomic) SFDevice *peerDevice;
@property (nonatomic) unsigned long long peerFeatureFlags;
@property (readonly, nonatomic) NSDictionary *preAuthResponse;
@property (retain, nonatomic) UIViewController *presentingViewController;
@property (readonly, nonatomic) HMHome *selectedHome;
@property (readonly, nonatomic) BOOL selectedRoomHasHomePods;
@property (readonly, nonatomic) NSString *selectedSiriLanguageCode;
@property (readonly, nonatomic) unsigned char stereoCounterpartColor;
@property (readonly, nonatomic) BOOL siriDataSharingEnabled;
@property (nonatomic) unsigned long long testFlags;
@property (nonatomic) BOOL touchRemoteEnabled;
@property (nonatomic) BOOL userOptedToHH2;
@property (nonatomic) BOOL forceSoftwareUpdateForADP;
@property (copy, nonatomic) id /* block */ preAuthHandler;
@property (copy, nonatomic) id /* block */ progressHandler;
@property (copy, nonatomic) id /* block */ promptForAppleMusicHandler;
@property (copy, nonatomic) id /* block */ promptForHomeHandler;
@property (copy, nonatomic) id /* block */ promptForHomeiCloudHandler;
@property (copy, nonatomic) id /* block */ promptForiTunesSignInHandler;
@property (copy, nonatomic) id /* block */ promptForLocationEnableHandler;
@property (copy, nonatomic) id /* block */ promptForPersonalRequestsHandler;
@property (copy, nonatomic) id /* block */ promptForPINHandler;
@property (copy, nonatomic) id /* block */ promptForRoomHandlerDetailed;
@property (copy, nonatomic) id /* block */ promptForSiriEnableHandler;
@property (copy, nonatomic) id /* block */ promptForSiriVoiceSelectionHandler;
@property (copy, nonatomic) id /* block */ promptForSoundRecognitionHandler;
@property (copy, nonatomic) id /* block */ promptForAutomaticSoftwareUpdateHandler;
@property (copy, nonatomic) id /* block */ promptForSoftwareUpdateHandler;
@property (copy, nonatomic) id /* block */ promptForTermsHandler;
@property (copy, nonatomic) id /* block */ promptForCaptiveNetworkHandler;
@property (copy, nonatomic) id /* block */ promptForTVAudioHandler;
@property (copy, nonatomic) id /* block */ promptToInstallHomeAppHandler;
@property (copy, nonatomic) id /* block */ promptToShareSettingsHandler;
@property (copy, nonatomic) id /* block */ promptForSiriLanguageHandler;
@property (copy, nonatomic) id /* block */ promptForStereoRoleHandler;
@property (copy, nonatomic) id /* block */ promptForStereoMultipleHandler;
@property (copy, nonatomic) id /* block */ deviceColorFoundHandler;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly) unsigned long long signpostID;

- (void)_cleanup;
- (void)disconnect;
- (void)_run;
- (void)didDismiss;
- (void)_activate;
- (void)dealloc;
- (id)init;
- (void)activate;
- (void)invalidate;
- (void)_invalidate;
- (void).cxx_destruct;
- (void)preflight;
- (void)audioPlayerDecodeErrorDidOccur:(id)a0 error:(id)a1;
- (void)audioPlayerDidFinishPlaying:(id)a0 successfully:(BOOL)a1;
- (void)audioSessionInterrupted:(id)a0;
- (void)pairSetupTryPIN:(id)a0;
- (int)_runCaptiveJoin;
- (int)_runBasicConfig;
- (id)_homeKitFindSettingsWithKeyPath:(id)a0 group:(id)a1;
- (void)_homeKitUpdateiCloudSwitchState:(BOOL)a0;
- (void)_reportError:(id)a0 label:(id)a1;
- (int)_runHomeKitSetup;
- (int)_runHomeKitUserInput;
- (int)_runPairSetup;
- (int)_runPreAuth;
- (void)_runPreAuthRequest;
- (void)_runPreAuthResponse:(id)a0 error:(id)a1;
- (int)_runPreflightWiFi;
- (int)_runPreflightiTunes;
- (int)_runSFSessionStart;
- (int)_runTRActivation;
- (int)_runTRSessionStart;
- (int)_runTRSetupConfiguration;
- (int)_runWiFiSetup;
- (void)captiveConfirmed;
- (void)homeAppInstallChoice:(BOOL)a0;
- (void)homeKitSelectHome:(id)a0;
- (void)homeKitSelectRoom:(id)a0;
- (void)homeiCloudEnable;
- (void)siriEnable;
- (int)_runFinishStart;
- (BOOL)homePodBuildRequiresADPForcedSU;
- (void)locationEnable:(BOOL)a0;
- (void)_cleanupSession;
- (void)_getSiriEnablementConfiguration;
- (int)_runBonjourTest;
- (void)automaticSoftwareUpdatesAgreed:(BOOL)a0;
- (void)tvAudioEnabled:(BOOL)a0;
- (int)_enableSiriForPersonalRequestIfNecessary;
- (void)_handlePeerEvent:(id)a0 flags:(unsigned int)a1;
- (id)_homePodsInAccount;
- (id)_homePodsInSelectedHome;
- (void)_logErrorMetrics:(id)a0 inLabel:(id)a1;
- (void)_logHomeKitPerformanceMetrics;
- (void)_logMetrics:(id)a0;
- (void)_logMetricsForSoftError:(id)a0 label:(id)a1;
- (void)_logPerformanceMetrics:(id)a0;
- (void)_logUsageMetrics:(id)a0;
- (unsigned long long)_peerDeviceSupportedStereoPairVersions;
- (void)_preflightAppleMusicCompleted:(int)a0;
- (void)_promptForPINWithFlags:(unsigned int)a0 throttleSeconds:(int)a1;
- (BOOL)_recognizeVoiceAlreadyEnabled;
- (int)_runAppleMusic;
- (int)_runAudioPasscode;
- (void)_runAudioPasscodeCleanup:(BOOL)a0;
- (void)_runAudioPasscodeHandleData:(id)a0;
- (void)_runAudioPasscodeInitRequest;
- (void)_runAudioPasscodeInitResponse:(id)a0 error:(id)a1;
- (void)_runAudioPasscodeLogMetrics;
- (void)_runAudioPasscodeStartRequest;
- (void)_runAudioPasscodeStartResponse:(id)a0 error:(id)a1;
- (void)_runAudioPasscodeStopRequest;
- (void)_runAudioPasscodeTimeout;
- (int)_runAuthKitTrustFinish;
- (void)_runAuthKitTrustStartIfNeeded;
- (int)_runAutomaticSoftwareUpdate;
- (void)_runBackgroundActivation;
- (void)_runBasicConfigReceiveResponse:(id)a0 error:(id)a1;
- (void)_runBasicConfigSendRequest;
- (int)_runCDPSetup:(BOOL)a0;
- (int)_runCheckAccount;
- (void)_runFinishRequest;
- (void)_runFinishResponse:(id)a0 error:(id)a1;
- (void)_runHomeKitSetupMode;
- (int)_runHomePodSoftwareUpdate;
- (int)_runLEDPassCodeAlignment;
- (int)_runMultiUserEnable;
- (void)_runMultiUserEnableEnableSettingStart:(id)a0 privateSettings:(BOOL)a1;
- (void)_runMultiUserEnableHome;
- (int)_runPersonalRequests;
- (void)_runPersonalRequestsSkipCard;
- (int)_runPreAuthAlignmentAndSiri;
- (int)_runPreflightMisc;
- (int)_runPreflightiCloud;
- (int)_runRecognizeVoice;
- (void)_runRecognizeVoiceCheckLanguageResponse:(id)a0 error:(id)a1;
- (void)_runRecognizeVoiceCheckLanguageStart;
- (void)_runRecognizeVoiceCheckVoiceProfileResponse:(BOOL)a0 error:(id)a1;
- (void)_runRecognizeVoiceCheckVoiceProfileStart;
- (int)_runShareSettings;
- (int)_runSiriEnablementConfigurationFetch;
- (int)_runSiriForEveryone;
- (int)_runSiriLanguage;
- (int)_runSiriPasscode;
- (void)_runSiriPasscodeInitRequest;
- (void)_runSiriPasscodeInitResponse:(id)a0 error:(id)a1;
- (void)_runSiriPasscodeStartPairSetup;
- (int)_runSoftwareUpdate;
- (int)_runSoundRecognition;
- (int)_runStereoPairUserInput;
- (void)_runStereoPairUserInputPickColors:(BOOL)a0;
- (int)_runTRAuthentication:(id)a0;
- (int)_runTROtherAuthentication;
- (int)_runTRiCloudAuthentication;
- (int)_runTVAudioUserInput;
- (int)_runTerms;
- (int)_runTransferVoiceProfile;
- (id)_selectedRoomAllHomePods;
- (id)_selectedRoomHomePod;
- (void)_setupAudio;
- (BOOL)_shouldShowPRCardForHomePodsInRoom;
- (void)_speakPasscodeWithInstructions:(id)a0 languageCode:(id)a1 completion:(id /* block */)a2;
- (void)appleMusicNext;
- (int)exportAMSTokenAndAccountSetup:(id)a0 ifMissing:(BOOL)a1 ifInvalid:(BOOL)a2;
- (int)expressSetupState;
- (void)forceCLIPassCode:(id)a0;
- (void)forcePassCode:(id)a0;
- (void)homeKitReselectHome;
- (void)identifyHomePod:(id)a0;
- (BOOL)isCompanionSiriLanguageSupportedByHomePod;
- (void)isDeviceActiveFetch;
- (int)isHomePodProductVersionParis:(id)a0;
- (void)ledPasscodeMatched;
- (void)logMetricsForDismissal:(id)a0 dismissType:(int)a1 cardName:(id)a2 cardDuration:(unsigned long long)a3;
- (void)personalRequestsEnabled:(BOOL)a0;
- (void)playAudioPasscodeAgain;
- (void)preflightAppleMusic;
- (void)recognizeVoiceAnswered:(BOOL)a0;
- (void)runPersonalRequestsAgreedCLI:(BOOL)a0 makeActiveDevice:(BOOL)a1;
- (void)shareSettingsAgreed;
- (BOOL)shouldShowHomePodSoftwareUpdateAvailable;
- (void)showMeDeviceSwitchWithDevice:(id)a0 session:(id)a1 siriEnabled:(BOOL)a2 activeDeviceEnabled:(BOOL)a3;
- (void)sideloadVoiceProfile:(id)a0 locale:(id)a1 withCompletion:(id /* block */)a2;
- (void)siriCheck:(BOOL)a0;
- (void)siriForEveryoneAnswered;
- (void)siriLanguagePicked:(id)a0;
- (void)siriVoicePicked:(id)a0;
- (void)skipAudioPasscode;
- (void)skipiTunesSignIn;
- (void)softwareUpdateAgreed:(BOOL)a0;
- (void)soundRecognitionAgreed:(BOOL)a0;
- (void)speakPasscodeWithCompletion:(id /* block */)a0;
- (void)speakPasscodeWithInstructions:(id)a0 completion:(id /* block */)a1;
- (void)speakPasscodeWithInstructions:(id)a0 languageCode:(id)a1 completion:(id /* block */)a2;
- (void)speakPasscodeWithLanguageCode:(id)a0 completion:(id /* block */)a1;
- (void)stereoMultiplePicked:(id)a0;
- (void)stereoRolePicked:(int)a0;
- (void)termsAgreed;

@end
