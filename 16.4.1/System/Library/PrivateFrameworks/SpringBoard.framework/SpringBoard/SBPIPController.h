@class SBIdleTimerCoordinatorHelper, NSMutableDictionary, NSMapTable, SBPIPInteractionSettings, SBPIPStashAssertion, SBWindowSceneManager, UIView, NSString, NSHashTable, NSMutableSet, NSArray, SBPIPInterruptionDebouncingTimer, FBSDisplayLayoutMonitor;
@protocol SBPIPControllerAdapter, SBIdleTimerCoordinating, BSInvalidatable;

@interface SBPIPController : NSObject <SBAlertItemsControllerObserver, SBAssistantObserver, SBLayoutStateTransitionObserver, SBPIPContainerViewControllerInteractionObserver, SBPIPContainerViewControllerObserver, SBPIPControllerAdapterContextProviding, SBSensorActivityObserver, SBWorkspaceKeyboardFocusControllerObserver, SBExternalDisplayServiceObserver, SBIdleTimerProviding, SBPIPMorphAnimatorControllerDelegate> {
    id<BSInvalidatable> _stateCaptureInvalidatable;
    NSMapTable *_containerViewControllerToContextMap;
    SBPIPInteractionSettings *_interactionSettings;
    double _windowLevel;
    BOOL _hasIdleTimerBehaviors;
    id<SBIdleTimerCoordinating> _idleTimerCoordinator;
    SBIdleTimerCoordinatorHelper *_idleTimerCoordinatorHelper;
    NSHashTable *_connectedWindowScenes;
    NSMutableSet *_pictureInPictureWindowHiddenReasons;
    NSMapTable *_windowSceneToWindowMarginsMap;
    NSMapTable *_windowSceneToInsetAssertionMap;
    NSMapTable *_windowSceneToStashAssertionsMap;
    NSHashTable *_interruptionAssertions;
    NSMutableDictionary *_cameraInterruptionAssertions;
    id<BSInvalidatable> _fullscreenModalElementInsetOverrideAssertion;
    SBPIPStashAssertion *_stashForInterruptionAssertion;
    SBPIPStashAssertion *_transitionStashAssertion;
    SBPIPInterruptionDebouncingTimer *_interruptionEndDebouncingTimer;
    BOOL _defaultToStashed;
    NSString *_bundleIDForAppAnimatingPIPStartInBackground;
    NSString *_bundleIDForAppRecentlyStoppingPIP;
    NSMutableSet *_pictureInPictureMorphAnimatorControllers;
    UIView *_keyboardInsetsVisualizerView;
    long long _unlockedEnvironmentModeWhenKeyboardFocusChanged;
    FBSDisplayLayoutMonitor *_displayLayoutMonitor;
    BOOL _isReducingResourcesUsage;
    id<BSInvalidatable> _keyboardFocusObserver;
    id<SBPIPControllerAdapter> _adapter;
    unsigned char _adapterWants_didAddContainerViewController : 1;
    unsigned char _adapterWants_willRemoveContainerViewController : 1;
    unsigned char _adapterWants_willBeginPIPInterruptionForAssertion : 1;
    unsigned char _adapterWants_willEndPIPInterruptionForAssertion : 1;
    unsigned char _adapterWants_didStartPictureInPictureCallback : 1;
    unsigned char _adapterWants_didCancelPictureInPictureCallback : 1;
    unsigned char _adapterWants_morphAnimatorDataSourceForMorphAnimatorController : 1;
    unsigned char _adapterWants_willStartPictureInPictureTestActionForApplication : 1;
    unsigned char _adapterWants_willRestorePictureInPictureForTestForApplication : 1;
    unsigned char _adapterWants_windowLevelChanged : 1;
    unsigned char _adapterWants_windowVisibilityChanged : 1;
    unsigned char _adapterWants_preventStashAssertions : 1;
    unsigned char _adapterWants_enhancedWindowingEnabled : 1;
    unsigned long long _inFlightWindowSceneUpdates;
}

@property (readonly, nonatomic) long long contentType;
@property (weak, nonatomic) SBWindowSceneManager *windowSceneManager;
@property (readonly, copy, nonatomic) NSArray *hostedAppSceneHandles;
@property (readonly, nonatomic, getter=isPresentingPictureInPictureRequiringMedusaKeyboard) BOOL presentingPictureInPictureRequiringMedusaKeyboard;
@property (readonly, nonatomic) BOOL hasIdleTimerBehaviors;
@property (readonly, nonatomic, getter=isHandlingContextWindowSceneUpdate) BOOL handlingContextWindowSceneUpdate;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

- (void)keyboardFocusController:(id)a0 externalSceneDidAcquireFocus:(id)a1;
- (void)_restorePictureInPictureForTestForApplicationWithBundleIdentifier:(id)a0;
- (void)assistantWillAppear:(id)a0 windowScene:(id)a1;
- (BOOL)_shouldStashForTransitionContext:(id)a0 onWindowScene:(id)a1;
- (void)prepareContainerViewControllerForHidingContentViewController:(id)a0;
- (void)assistantDidDisappear:(id)a0 windowScene:(id)a1;
- (id)acquireStashAssertionForWindowScene:(id)a0 withReason:(long long)a1 identifier:(id)a2;
- (BOOL)_isContentViewAlignedLeftWithPosition:(unsigned long long)a0 orientation:(long long)a1;
- (void)_setAdapter:(id)a0;
- (id)coordinatorRequestedIdleTimerBehavior:(id)a0;
- (void)_startPictureInPictureTestActionForApplicationWithBundleIdentifier:(id)a0;
- (void)addContainerViewController:(id)a0 dataSource:(id)a1;
- (BOOL)_connectedWindowScenesIncludesExternalDisplay;
- (BOOL)isPictureInPictureWindowVisibleOnWindowScene:(id)a0;
- (void)_setAlpha:(double)a0 forWindowsOnWindowScene:(id)a1;
- (void)externalDisplayServiceDidUpdatePreferredDisplayArrangement:(id)a0;
- (id)_createNewWindowForContainerViewController:(id)a0 onWindowScene:(id)a1;
- (void)displayLayoutMonitor:(id)a0 didUpdateDisplayLayout:(id)a1 withContext:(id)a2;
- (id)acquireInterruptionAssertionForReason:(long long)a0 identifier:(id)a1;
- (void)hideContainersExcludingContainerForContentViewControllerAndTetheredOnes:(id)a0 animated:(BOOL)a1;
- (void)handleDestructionRequestForSceneHandles:(id)a0;
- (void)_setHidden:(BOOL)a0 forWindowsOnWindowScene:(id)a1;
- (void)_visualizeKeyboardFrameIfNeeded;
- (void)_setContainersStashed:(BOOL)a0 forWindowScene:(id)a1;
- (id)pictureInPictureMorphAnimatorControllerForProcessIdentifier:(int)a0 scenePersistenceIdentifier:(id)a1;
- (id)dataSourceForMorphAnimatorController:(id)a0;
- (BOOL)shouldStartPictureInPictureForApplicationWithProcessIdentifierEnteringBackground:(int)a0 scenePersistenceIdentifier:(id)a1;
- (id)_acquireStashAssertionForWindowScene:(id)a0 withReason:(long long)a1 identifier:(id)a2 customAllowedEnvironmentModes:(id)a3;
- (void)_windowSceneDidDisconnect:(id)a0;
- (void)_addPictureInPictureMorphAnimatorController:(id)a0;
- (void)_edgeInsetsDidChangeOnWindowScene:(id)a0;
- (void)setPictureInPictureWindowsHidden:(BOOL)a0 forReason:(id)a1;
- (void)bringTetheredContentToFrontOnWindowScene:(id)a0;
- (id)connectedWindowScenes;
- (void)invalidateIdleTimerBehaviors;
- (void)alertItemsController:(id)a0 didDeactivateAlertItem:(id)a1 forReason:(int)a2;
- (void)_minimumStashedPaddingDidChangeOnWindowScene:(id)a0;
- (void)alertItemsController:(id)a0 willActivateAlertItem:(id)a1;
- (void)endPIPInterruptionForAssertion:(id)a0;
- (void)showAllContentOnWindowScene:(id)a0 animated:(BOOL)a1;
- (double)windowLevelForWindowScene:(id)a0;
- (id)anyContentViewPresentedOnWindowScene:(id)a0;
- (id)_windowScenesDisplayingPIPContent;
- (BOOL)_hasStashAssertionForWindowScene:(id)a0;
- (void)setEnhancedWindowingModeEnabled:(BOOL)a0 windowScene:(id)a1;
- (void)_cancelInterruptionDebouncingTimer;
- (void)updatePictureInPictureWindowLevelForWindowScene:(id)a0;
- (void)containerViewController:(id)a0 userDidUpdateStashState:(BOOL)a1;
- (void)morphAnimatorControllerDidTerminate:(id)a0;
- (void)_windowSceneDidConnect:(id)a0;
- (void)containerViewControllerDidBeginInteraction:(id)a0;
- (void)_lockStateDidChange:(id)a0;
- (void)_enumerateContextsForWindowScene:(id)a0 usingBlock:(id /* block */)a1;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })_pictureInPictureWindowMarginsOnWindowScene:(id)a0;
- (void)_setWindowsLevel:(double)a0 forWindowsOnWindowScene:(id)a1;
- (void)dealloc;
- (id)_allContainerViewControllers;
- (void)_removePictureInPictureMorphAnimatorController:(id)a0;
- (void)containerViewControllerDidEndInteraction:(id)a0 targetWindowScene:(id)a1;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })_updatePictureInPictureOverlayInsetsOnWindowScene:(id)a0 withCurrentLayoutState:(BOOL)a1 shouldUpdate:(BOOL)a2;
- (long long)tetheringModeForScenePersistenceIdentifier:(id)a0;
- (id)_overrideInsetsOnWindowScene:(id)a0 forReason:(id)a1 identifier:(id)a2;
- (void)cancelPictureInPictureForApplicationWithProcessIdentifierEnteringBackground:(int)a0 scenePersistenceIdentifier:(id)a1;
- (void)_performWithoutAnimation:(id /* block */)a0;
- (id)_leadingWindowForWindowScene:(id)a0;
- (void)updateZStackParticipantPreferencesIfNeeded:(id)a0 windowScene:(id)a1;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })_edgeInsetsForSource:(long long)a0 onWindowScene:(id)a1 exists:(BOOL *)a2;
- (void)_moveContext:(id)a0 toWindowScene:(id)a1;
- (id)containerViewControllerForContentViewController:(id)a0;
- (void)activityDidChangeForSensorActivityDataProvider:(id)a0;
- (BOOL)_isContentViewAlignedTopWithPosition:(unsigned long long)a0 orientation:(long long)a1;
- (void)_relinquishPIPStashAssertionIfNecessaryForTransitionContext:(id)a0;
- (void)containerViewController:(id)a0 didFinishStartAnimationWithInitialInterfaceOrientation:(long long)a1;
- (id)acquireInterruptionAssertionForReason:(long long)a0 identifier:(id)a1 cameraSensorBundleIdentifier:(id)a2;
- (void)containerViewControllerUserMayUpdateStashState:(id)a0;
- (void)layoutStateTransitionCoordinator:(id)a0 transitionDidEndWithTransitionContext:(id)a1;
- (BOOL)_isPointInsidePictureInPictureContent:(struct CGPoint { double x0; double x1; })a0 onWindowScene:(id)a1;
- (id)createAndRegisterPictureInPictureMorphAnimatorControllerWithTargetProcessIdentifier:(int)a0 uuid:(id)a1 scenePersistenceIdentifier:(id)a2 appLayout:(id)a3 layoutRole:(long long)a4 appLayoutBoundingBox:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a5 gestureInitiated:(BOOL)a6 direction:(long long)a7;
- (void)restoreContentViewController:(id)a0 appSceneEntity:(id)a1 morphAnimatorConfigurationBlock:(id /* block */)a2 completion:(id /* block */)a3;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })homeScreenInitialPIPFrameForWindowScene:(id)a0 withContentViewSize:(struct CGSize { double x0; double x1; })a1 position:(unsigned long long)a2 padding:(double)a3 fromOrientation:(long long)a4 toOrientation:(long long)a5 shouldUpdate:(BOOL)a6 gestureInitiated:(BOOL)a7;
- (void)removeContainerViewController:(id)a0;
- (id)containerViewControllersOnWindowScene:(id)a0;
- (void)startPictureInPictureForApplicationWithProcessIdentifierEnteringBackground:(int)a0 scenePersistenceIdentifier:(id)a1 animated:(BOOL)a2 completionHandler:(id /* block */)a3;
- (id)initWithIdleTimerCoordinator:(id)a0 windowLevel:(double)a1 interactionSettings:(id)a2 adapter:(id)a3;
- (id)_contextForContainerViewController:(id)a0;
- (id)_contextForContainerViewController:(id)a0 creatingWithWindowSceneIfNeeded:(id)a1;
- (void).cxx_destruct;
- (void)alertItemsController:(id)a0 didActivateAlertItem:(id)a1;
- (void)_managePictureInPictureWindowVisibilityForWindowScene:(id)a0 animated:(BOOL)a1;
- (void)layoutStateTransitionCoordinator:(id)a0 transitionDidBeginWithTransitionContext:(id)a1;
- (void)_updateContainerViewControllersContentPaddingOnWindowScene:(id)a0;
- (BOOL)isStoppingOrCancellingPictureInPictureForApplicationWithBundleIdentifier:(id)a0 scenePersistenceIdentifier:(id)a1;
- (void)_updateZStackIfNeededForDisappearingContainerViewController:(id)a0;
- (BOOL)_acquirePIPStashAssertionIfNecessaryForTransitionContext:(id)a0 onWindowScene:(id)a1;
- (struct UIEdgeInsets { double x0; double x1; double x2; double x3; })pictureInPictureWindowMarginsOnWindowScene:(id)a0;
- (void)_updateHyperregionComposers;

@end
