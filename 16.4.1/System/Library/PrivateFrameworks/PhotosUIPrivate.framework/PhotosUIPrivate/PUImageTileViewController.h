@class NSURL, UIImageView, NSDate, PXImageLayerModulator, CALayer, UIColor, PUBrowsingViewModel, NSString, PUImageRequester, PUAssetViewModel, PUMediaProvider, NSData, PXImageModulationManager, UIImage;
@protocol PXVKImageAnalysisInteraction, PUDisplayAsset, PLTileableLayer, PUImageTileViewControllerPresentingDelegate;

@interface PUImageTileViewController : PUTileViewController <PUImageRequesterObserver, PUBrowsingViewModelChangeObserver, PXVKImageAnalysisInteractionDelegate, PUAssetViewModelChangeObserver> {
    struct { BOOL respondsToPresentingViewController; BOOL respondsToShouldShowVisualIntelligenceOverlay; } _delegateFlags;
}

@property (readonly, nonatomic) BOOL imageIsFullQuality;
@property (nonatomic, setter=_setNeedsUpdateImage:) BOOL _needsUpdateImage;
@property (nonatomic, setter=_setNeedsUpdateImageLayerModulator:) BOOL _needsUpdateImageLayerModulator;
@property (nonatomic, setter=_setNeedsUpdateImageLayerModulatorInput:) BOOL _needsUpdateImageLayerModulatorInput;
@property (nonatomic, setter=_setNeedsUpdateImageView:) BOOL _needsUpdateImageView;
@property (nonatomic, setter=_setNeedsUpdateFullsizeImageMetadata:) BOOL _needsUpdateFullsizeImageMetadata;
@property (nonatomic, setter=_setNeedsUpdateFullsizeTiledLayer:) BOOL _needsUpdateFullsizeTiledLayer;
@property (nonatomic, setter=_setTargetSize:) struct CGSize { double width; double height; } _targetSize;
@property (nonatomic) BOOL needsUpdateTargetSize;
@property (nonatomic) BOOL needsUpdateVisualIntelligenceOverlayContentsRect;
@property (readonly, nonatomic) UIImageView *_imageView;
@property (retain, nonatomic, setter=_setFullsizeImageData:) NSData *_fullsizeImageData;
@property (retain, nonatomic, setter=_setFullsizeImageURL:) NSURL *_fullsizeImageURL;
@property (nonatomic, setter=_setFullsizeImageOrientation:) long long _fullsizeImageOrientation;
@property (nonatomic, setter=_setFullsizeImageUntransformedSize:) struct CGSize { double width; double height; } _fullsizeImageUntransformedSize;
@property (nonatomic, setter=_setFullsizeImageSize:) struct CGSize { double width; double height; } _fullsizeImageSize;
@property (retain, nonatomic, setter=_setFullsizeTiledLayer:) CALayer<PLTileableLayer> *_fullsizeTiledLayer;
@property (nonatomic, setter=_setDisplayingFullQualityImage:) BOOL _isDisplayingFullQualityImage;
@property (nonatomic, setter=_setAssetLoadingStage:) long long _assetLoadingStage;
@property (retain, nonatomic, setter=_setAssetLoadingStartDate:) NSDate *_assetLoadingStartDate;
@property (nonatomic, setter=_setShouldUsePenultimateVersionForNextImageUpdate:) BOOL shouldUsePenultimateVersionForNextImageUpdate;
@property (nonatomic) BOOL canUseFullsizeTiledLayer;
@property (nonatomic) BOOL requiresFullQualityImage;
@property (retain, nonatomic, setter=_setImageRequester:) PUImageRequester *_imageRequester;
@property (retain, nonatomic) PXImageLayerModulator *imageLayerModulator;
@property (retain, nonatomic) id<PXVKImageAnalysisInteraction> imageInteraction;
@property (readonly, nonatomic) UIImage *image;
@property (readonly, nonatomic) BOOL gainMapImageIsAvailable;
@property (readonly, nonatomic) struct CGImage { } *gainMapImage;
@property (readonly, nonatomic) float gainMapValue;
@property (retain, nonatomic) PUBrowsingViewModel *browsingViewModel;
@property (retain, nonatomic) PUAssetViewModel *assetViewModel;
@property (retain, nonatomic) id<PUDisplayAsset> asset;
@property (retain, nonatomic) PUMediaProvider *mediaProvider;
@property (retain, nonatomic) PXImageModulationManager *imageModulationManager;
@property (nonatomic) BOOL animatesImageAppearance;
@property (nonatomic) BOOL preserveImageDuringReload;
@property (nonatomic) BOOL shouldUseFullsizeImageData;
@property (copy, nonatomic) UIColor *placeholderColor;
@property (nonatomic) BOOL visualImageInteractionEnabled;
@property (weak, nonatomic) id<PUImageTileViewControllerPresentingDelegate> presentingDelegate;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)_supportedZoomImageFormats;

- (void)_updateImageViewIfNeeded;
- (void)_updateImageIfNeeded;
- (void)viewModel:(id)a0 didChange:(id)a1;
- (void)_handleBrowsingViewModel:(id)a0 didChange:(id)a1;
- (void)imageRequester:(id)a0 didChange:(id)a1;
- (BOOL)wantsVisibleRectChanges;
- (void)imageAnalysisInteractionDidDismissVisualSearchController:(id)a0;
- (BOOL)shouldAvoidInPlaceSnapshottedFadeOut;
- (void)_invalidateFullsizeTiledLayer;
- (void)_updateIfNeeded;
- (void)_cancelAllImageRequests;
- (void)becomeReusable;
- (void)updateModulatorInputs;
- (void)setGainMapValue:(float)a0;
- (BOOL)_needsUpdate;
- (void)_invalidateTargetSize;
- (void)updateMutableImageLayerModulator:(id)a0;
- (void)_updateAssetLoadingStage;
- (void)didChangeVisibleRect;
- (void)_setImage:(id)a0 isFullQuality:(BOOL)a1;
- (void)_updateImageLayerModulatorIfNeeded;
- (void)_handleShouldReloadAssetMediaNotification:(id)a0;
- (void)assetViewModelDidChange;
- (void)imageAnalysisInteraction:(id)a0 didTapVisualSearchIndicatorWithNormalizedBoundingBox:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1;
- (void)updateModulator;
- (void)setGainMapImage:(struct CGImage { } *)a0;
- (void)assetDidChange;
- (id)presentingViewControllerForImageAnalysisInteraction:(id)a0;
- (void)_updateFullsizeImageMetadataIfNeeded;
- (void)setEdgeAntialiasingEnabled:(BOOL)a0;
- (void)_setVisualIntelligenceAnalyzingImageIfNeeded;
- (void)setPreloadedImage:(id)a0;
- (void)_invalidateImageLayerModulatorInput;
- (void)dealloc;
- (void)_invalidateFullsizeImageMetadata;
- (void)_invalidateImageLayerModulator;
- (void)_invalidateImage;
- (void)_updateVisualIntelligenceUnitContentsRect;
- (BOOL)vkVisualSearchExistsAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)_handleAssetViewModel:(id)a0 didChange:(id)a1;
- (void)_updateImageLayerModulatorInputIfNeeded;
- (void)_setAssetWithoutUpdateIfNeeded:(id)a0;
- (void)applyLayoutInfo:(id)a0;
- (void)_updateVisualIntelligenceOverlayContentsRectIfNeeded;
- (void)_updateVKAnalysisAndDisplayMode;
- (void)_invalidateVisualIntelligenceOverlayContentsRect;
- (struct CGSize { double x0; double x1; })targetSizeForProposedTargetSize:(struct CGSize { double x0; double x1; })a0;
- (void)_invalidateImageView;
- (void)_updateReadyForDisplay;
- (void)_invalidate;
- (BOOL)vkViewExistsAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)_addVKImageInteractionToImageView;
- (void)_updateTargetSizeIfNeeded;
- (void)_updateFullsizeTiledLayerIfNeeded;
- (void).cxx_destruct;
- (void)_removeVKImageInteractionFromImageView;
- (id)loadView;
- (id)generateAssetTransitionInfo;

@end
