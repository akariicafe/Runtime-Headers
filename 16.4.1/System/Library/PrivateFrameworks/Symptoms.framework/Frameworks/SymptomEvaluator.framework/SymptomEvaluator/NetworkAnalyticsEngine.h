@class NSMutableDictionary, NSMutableData, NSDate, NSObject, ImpoExpoService, NSMutableArray, WiFiShim, NWPathEvaluator, NSString, SystemSettingsRelay, NLCRunner, NSData, ProxyAnalytics, NetworkAnalyticsModel;
@protocol OS_os_transaction, OS_dispatch_queue, OS_dispatch_source;

@interface NetworkAnalyticsEngine : AnalyticsEngineCore <WiFiShimDelegate, ProxyAnalyticsDelegate, CoreTelephonyShimDelegate> {
    id trafficObserver;
    id dnsObserver;
    id tdObserver;
    id dataStallObserver;
    id captivityRedirectsObserver;
    id certErrorObserver;
    id limObserver;
    NSMutableDictionary *activeEpochs;
    struct __NStatManager { } *routeManager;
    id /* block */ routeMetricsRefreshCompletionBlock;
    NSMutableDictionary *liveDefaultRoutes;
    int lastScoreExit[5];
    BOOL xpcShutdown;
    NSDate *lastEpochRemoved;
    NSDate *lastKnownGoodNotified;
    NSDate *pendedRssiEdge;
    unsigned long long pendedRssiEdgeTarget;
    int lastReportedRrcValue;
    NSString *lastReportedRrcInterface;
    int combinedCellDNSCounts;
    int combinedWifiDNSCounts;
    NSMutableDictionary *snapshots;
    NSMutableData *journalRecords;
    NSMutableArray *memoryJournalRecords;
    ImpoExpoService *ieService;
    NSDate *journalLastFlushed;
    NWPathEvaluator *cellPathEvaluator;
    NWPathEvaluator *wifiPathEvaluator;
    NWPathEvaluator *etherPathEvaluator;
    NWPathEvaluator *companionPathEvaluator;
    NWPathEvaluator *primaryPathEvaluator;
    struct __CTServerConnection { } *serverConnection;
    int cellInternetStatus;
    NSString *cellInternetPDPContext;
    NSObject<OS_dispatch_queue> *notificationQueueWithElevatedPriority;
    unsigned long long cellSPIType;
    NetworkAnalyticsModel *model;
    WiFiShim *_wifiShim;
    SystemSettingsRelay *systemSettingsRelay;
    BOOL _wifiShimFastLQMUpdates;
    BOOL _isABCEnabled;
    BOOL _isInternalBuild;
    NSData *_hashSalt;
    unsigned long long _wifiSingleDNSFailureCount;
    unsigned long long _wifiCompleteDNSFailureCount;
    unsigned long long _cellSingleDNSFailureCount;
    unsigned long long _cellCompleteDNSFailureCount;
    id _rnfWiFiObserver;
    NSObject<OS_dispatch_source> *rnfTestTimeoutTimer;
    NLCRunner *rnfTestNLCRunner;
    BOOL nlcRuleScheduled;
    unsigned long long rnfRssiExtraDescentFactor;
    NSString *_currentICCID;
}

@property (nonatomic) BOOL delegateToProxyAnalytics;
@property (nonatomic) BOOL removeOldRecordsNow;
@property (retain, nonatomic) ProxyAnalytics *proxyAnalytics;
@property (retain, nonatomic) NSObject<OS_os_transaction> *activeEpochTransaction;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)sharedInstance;
+ (void)estimatedTransferTimeOn:(unsigned char)a0 forPayloadInfo:(id)a1 queue:(id)a2 reply:(id /* block */)a3;
+ (void)updateLOI:(long long)a0 forInterfaceType:(unsigned char)a1;
+ (id)mapNrFrequencyBandToString:(char)a0;
+ (unsigned int)_constructRxSignalExemptionsBitmapFromHint:(BOOL)a0 reasons:(id)a1;
+ (void)sendTrafficInfoFlags:(unsigned int)a0 changeFlags:(unsigned int)a1 foreground:(BOOL)a2;
+ (void)performPersistentStoreHealthCheckWithReply:(id /* block */)a0;
+ (id)hashPrimaryKey:(id)a0 withSalt:(id)a1;
+ (BOOL)hasAnyNetworkAttachmenOnLOI:(long long)a0;
+ (void)hasNetworkAttachmentOn:(unsigned char)a0 isAny:(BOOL)a1 isBuiltin:(BOOL)a2 scopedToLOI:(long long)a3 hasCustomSignature:(id)a4 queue:(id)a5 reply:(id /* block */)a6;
+ (void)relayRebufferState:(unsigned int)a0;
+ (void)refreshLOIForInterfaceType:(unsigned char)a0;
+ (BOOL)performNetAttachmentQueryOn:(unsigned char)a0 reply:(id /* block */)a1;
+ (long long)mapLinkQuality:(int)a0;
+ (BOOL)getDNSCountsOn:(unsigned char)a0 total:(long long *)a1 impacted:(long long *)a2;
+ (id)concurrentEpochs;
+ (id)fetchHashSaltFromJournalUsingImpoExpoService:(id)a0;
+ (BOOL)trainModelAndScore:(BOOL)a0 lastScoreDate:(id)a1 output:(id *)a2;
+ (void)relayWiFiViability:(unsigned int)a0;
+ (id)queue;
+ (long long)mapPowerCost:(unsigned char)a0;
+ (void)awdCaptureIn:(id)a0 replyQueue:(id)a1 reply:(id /* block */)a2;
+ (void)getAuditableLoadedLQMOn:(unsigned char)a0 queue:(id)a1 reply:(id /* block */)a2;
+ (void)usageToLOICorrelationFor:(unsigned char)a0 scopedToLOI:(long long)a1 queue:(id)a2 reply:(id /* block */)a3;
+ (void)relayCellThroughputAdvice:(unsigned int)a0;
+ (void)layer2MetricsOn:(unsigned char)a0 queue:(id)a1 reply:(id /* block */)a2;
+ (id)mapRadioTechnologyTypeToString:(unsigned char)a0;
+ (id)getStateRelayFor:(unsigned char)a0;
+ (void)setupCoreTelephonyAndBasebandNotificationsOnElevatedPriorityQueue;
+ (void)relayDataStallState:(unsigned int)a0 dnsFailureState:(unsigned int)a1;
+ (id)skimMemoryJournalFor:(unsigned char)a0;
+ (long long)mapRadioTechnology:(unsigned char)a0;
+ (void)relayAudioVideoStatus:(unsigned int)a0 rxThroughput:(double)a1 txThroughput:(double)a2 reset:(BOOL)a3;
+ (id)hashPrimaryKey:(id)a0;
+ (int)getLoadedLQMOn:(unsigned char)a0;

- (id)_determineSporadicForType:(int)a0 withRetCode:(int *)a1;
- (void)_relayAudioVideoStatus:(unsigned int)a0 rxThroughput:(double)a1 txThroughput:(double)a2 reset:(BOOL)a3;
- (void)resetDataFor:(id)a0 nameKind:(id)a1;
- (BOOL)_isKnowableSporadicForType:(unsigned char)a0;
- (void)_insertEpoch:(id)a0 forInterfaceType:(unsigned char)a1;
- (void)processCellLinkFingerprintNotification:(id)a0;
- (BOOL)_populateInterfaceTimelineJournalRecord:(struct { struct { unsigned char x0; unsigned char x1; struct { unsigned char x0 : 1; unsigned char x1 : 7; } x2; unsigned char x3; unsigned int x4; long long x5; } x0; union { unsigned long long x0; struct { unsigned char x0 : 1; unsigned char x1 : 1; unsigned char x2 : 1; unsigned char x3 : 1; unsigned char x4 : 1; unsigned char x5 : 1; unsigned char x6 : 1; unsigned char x7 : 1; unsigned char x8 : 1; unsigned char x9 : 1; unsigned short x10; unsigned int x11; } x1; struct { unsigned char x0 : 1; unsigned char x1 : 1; unsigned short x2; unsigned int x3; } x2; } x1; } *)a0 forInterface:(long long)a1 fromDict:(id)a2;
- (id)_skimMemoryJournalFor:(unsigned char)a0;
- (BOOL)_populateLQMJournalRecord:(struct { struct { unsigned char x0; unsigned char x1; struct { unsigned char x0 : 1; unsigned char x1 : 7; } x2; unsigned char x3; unsigned int x4; long long x5; } x0; char x1[64]; unsigned char x2 : 8; unsigned char x3; char x4; unsigned char x5; unsigned char x6; } *)a0 fromCellFingerprint:(BOOL)a1 key:(const char *)a2 atLOI:(long long)a3 ofInterfaceType:(long long)a4 lqm:(int)a5 isFaulty:(unsigned int)a6;
- (void)handleLQMChange;
- (id)initWithWorkspace:(id)a0 params:(id)a1 queue:(id)a2;
- (void)_removeOldRouteRecords;
- (void)_removeEpochForInterfaceType:(unsigned char)a0;
- (void)_layer2MetricsOn:(unsigned char)a0 queue:(id)a1 reply:(id /* block */)a2;
- (void)_estimatedTransferTimeOn:(unsigned char)a0 forPayloadInfo:(id)a1 queue:(id)a2 reply:(id /* block */)a3;
- (void)proxyAnalyticsTrainAndScoreComplete:(id)a0 error:(id)a1;
- (void)proxyAnalyticsTrainAndScoreInterrupted;
- (void)processCellHighThroughputState:(id)a0;
- (void)_handleRouteData:(struct __NStatSource { } *)a0;
- (int)_combinedDNSCountForEpoch:(id)a0;
- (id)_naIdentifierToMajor:(id)a0;
- (void)wifiShim_InfraAdminDisable:(id)a0 bssid:(id)a1;
- (void)_triggerDisconnectEdge:(id)a0;
- (void)_retrieveDNSServersForEpoch:(id)a0;
- (id)_model;
- (void)cellularDualSimStatusChangedTo:(long long)a0;
- (void)_retrieveCellId:(id /* block */)a0;
- (void)_fetchHashSaltFromJournal;
- (BOOL)_populateLIMJournalRecord:(struct { struct { unsigned char x0; unsigned char x1; struct { unsigned char x0 : 1; unsigned char x1 : 7; } x2; unsigned char x3; unsigned int x4; long long x5; } x0; char x1[24]; unsigned long long x2; unsigned long long x3; unsigned long long x4; unsigned long long x5; unsigned long long x6; unsigned long long x7; unsigned long long x8; unsigned long long x9; unsigned char x10; unsigned char x11; unsigned char x12; } *)a0 fromKernelDict:(id)a1;
- (void)performQueryOnEntity:(id)a0 fetchRequestProperties:(id)a1 pred:(id)a2 sort:(id)a3 actions:(id)a4 service:(id)a5 connection:(id)a6 reply:(id /* block */)a7;
- (void)_createJournalRecordOfType:(unsigned char)a0 forInterface:(long long)a1 fromDict:(id)a2;
- (void)networkCodeChangedForSubscription:(id)a0;
- (void)_captivityRedirects:(id)a0;
- (BOOL)_flushAllJournalRecords;
- (id)_retrieveCellCarrierName;
- (void)countryCodeChangedForSubscription:(id)a0;
- (void)_updateAdviceForEpoch:(id)a0;
- (void)_setDefrouteMonitoring:(unsigned int)a0 ofInterfaceType:(unsigned char)a1 roamingEvent:(BOOL)a2 family:(unsigned char)a3 retries:(int)a4;
- (void)wifiShim_HintForFallback:(BOOL)a0 reasons:(id)a1;
- (void)_refreshRouteMetricsComplete;
- (void)currentDataSIMIdentifier:(id)a0;
- (void)_cellNetworkChangeForInterface:(id)a0 roamingEvent:(BOOL)a1 subscription:(id)a2;
- (BOOL)_appendJournalRecord:(id)a0 withPreamble:(struct { unsigned char x0; unsigned char x1; struct { unsigned char x0 : 1; unsigned char x1 : 7; } x2; unsigned char x3; unsigned int x4; long long x5; } *)a1;
- (void)_relayRebufferState:(unsigned int)a0;
- (id)lastScoreDate;
- (void)wifiShim_L2TriggerDisconnectEdge:(BOOL)a0 forInterface:(id)a1;
- (void)_relayCellThroughputAdvice:(unsigned int)a0;
- (void)_processLIM:(id)a0;
- (id)lastScoreExits;
- (void)_updateCellInternetStatus:(int)a0 pdpContext:(int)a1;
- (void)cellInfoChangedForSubscription:(id)a0;
- (void)_armFatalSuspector:(id)a0 isActive:(BOOL)a1;
- (void)_getAuditableLoadedLQMOn:(unsigned char)a0 queue:(id)a1 reply:(id /* block */)a2;
- (void)clientTransactionsRelease;
- (id)timeOfDayPrecise;
- (struct __NStatSource { } *)_newDefRouteForInterface:(id)a0 saFamily:(unsigned char)a1;
- (id)_adviceToNSString:(int)a0;
- (void)shutdown;
- (void)wifiShim_PreferredNetworksChanged:(id)a0;
- (unsigned char)getCellRrcState;
- (void)infoLinkQualityFingeprintChangedForSubscription:(id)a0;
- (void)_trackRealTimeLqmLastUpdatedOnInterfaceType:(unsigned char)a0;
- (id)setOption:(id)a0;
- (void)infoHighThroughputStateChanged:(id)a0;
- (void)processCellTrafficClassNotification:(id)a0;
- (void)wifiShim_LQMAsystoleDetected:(double)a0;
- (void)_sendTrafficClassAndExtendedReportToBaseband;
- (void)_handleRouteClosing:(struct __NStatSource { } *)a0;
- (void)ctServerConnectionNotification:(struct __CFString { } *)a0 notificationInfo:(struct __CFDictionary { } *)a1;
- (void)_computeAndApplyLoadedLqmFrom:(int)a0 oldLqm:(int)a1 onInterfaceType:(unsigned char)a2 loadedLqmAuditRecords:(id)a3;
- (void)createSnapshotFor:(id)a0 pred:(id)a1 actions:(id)a2 reply:(id /* block */)a3;
- (id)_hashPrimaryKey:(id)a0 withSalt:(id)a1;
- (id)_epochForInterfaceType:(unsigned char)a0;
- (void)infoDataTransferTimeEnabledChangedForSubscription:(id)a0;
- (void)_recoverFromSystemCriticalErrors;
- (void)processCellDataStallNotification:(id)a0;
- (void)processCellDataTransferTimeNotification:(id)a0;
- (void)abortRNFTestWithReply:(id /* block */)a0;
- (id)_hashPrimaryKey:(id)a0;
- (void)_processNWActivityMetrics;
- (void)_updateCombinedDNSCounts;
- (void)_idleExitTransactionCheck;
- (void)_sendTrafficInfoFlags:(unsigned int)a0 changeFlags:(unsigned int)a1 foreground:(BOOL)a2;
- (void)_relayWiFiViability:(unsigned int)a0;
- (void)_extractCellLinkFingerprintFrom:(struct __CFData { } *)a0;
- (void)processCellLinkStateNotification:(id)a0;
- (void)_updateAdviceForInterfaceType:(unsigned char)a0;
- (BOOL)_recordOfActiveFatalSuspector:(long long)a0;
- (void)_usageToLOICorrelationFor:(unsigned char)a0 scopedToLOI:(long long)a1 queue:(id)a2 reply:(id /* block */)a3;
- (void)_flowCompleted:(id)a0;
- (BOOL)handlesEntity:(id)a0;
- (BOOL)getCellEstTransferTimeSupportedStatus;
- (void)_applyCalculatedScoringMetrics:(id)a0 entries:(id)a1;
- (void)_trainModelAndScore:(BOOL)a0;
- (void)_observeNetworkFramework;
- (void)_setupCoreTelephonyAndBasebandNotificationsOnElevatedPriorityQueue;
- (char)getCellLqmState;
- (long long)_processCTCellInfo:(id)a0;
- (id)_tcsInfoDescription;
- (void)resetCellStatesForXCTests;
- (void)wifiShim_BSSIDChangedForInterface:(id)a0;
- (void)processCellNRServingCellTypeNotification:(id)a0;
- (void)dealloc;
- (void)wifiShim_L2NewMetrics:(id)a0 forInterface:(id)a1;
- (void)startRNFTestWithConnection:(id)a0 options:(id)a1 scenarioName:(id)a2 reply:(id /* block */)a3;
- (id)_concurrentEpochs;
- (void)_informKernelOfCellRrc:(int)a0 forInterface:(id)a1;
- (void)infoLinkStateChangedForSubscription:(id)a0;
- (int)_getCellInternetStatus;
- (void)infoTrafficClassChangedForSubscription:(id)a0;
- (void)_actUponCellRrcChangeTo:(int)a0;
- (long long)_retrieveCellId;
- (void)ctDataStatusChangedForSubscription:(id)a0;
- (BOOL)_performNetAttachmentQueryOn:(unsigned char)a0 reply:(id /* block */)a1;
- (void)observeValueForKeyPath:(id)a0 ofObject:(id)a1 change:(id)a2 context:(void *)a3;
- (BOOL)_hashPrimaryKeyInPlace:(char *)a0 withSalt:(id)a1;
- (void)performPersistentStoreHealthCheckComplete:(id)a0 error:(id)a1;
- (unsigned char)getCellTrafficClassState;
- (void)_actUponLoadedLqmChangeFrom:(int)a0 to:(int)a1 onInterfaceType:(unsigned char)a2;
- (unsigned char)getCellInterfaceState;
- (void)ratSelectionChangedForSubscription:(id)a0;
- (void)_informKernelOfLIMUplink:(BOOL)a0 downlink:(BOOL)a1 forInterface:(const char *)a2;
- (BOOL)_getDNSCountsOn:(unsigned char)a0 total:(long long *)a1 impacted:(long long *)a2;
- (void)_registerForEnhancedLinkQualityNotifications;
- (BOOL)_radioTechnologyTypeIsNonLTECellular:(unsigned char)a0;
- (id)getCurrCellFpTimeStamp;
- (void)processCellLinkPowerCostNotification:(id)a0;
- (id)wifiShim;
- (void)_disarmLowQDisconnectSuspector:(id)a0;
- (void)_dataStall:(id)a0;
- (int)performQueryOnEntityFromCache:(id)a0 pred:(id)a1 altpred:(id *)a2 actions:(id)a3 found:(id *)a4;
- (unsigned int)_getCellSPIType;
- (void)stopRunningRNFTestWithReply:(id /* block */)a0;
- (void)_establishLqmBaselineOn:(BOOL)a0 interfaceName:(id)a1 lqmPtr:(int *)a2;
- (void)wifiNetworkChangedForInterface:(id)a0 roaming:(BOOL)a1;
- (void)_dumpStats;
- (BOOL)_determineIfThisIsWiFiFirstAttachment:(id)a0;
- (void)_wifiKnownNetworksDeleted:(id)a0;
- (void)_awdCaptureInstant:(id)a0 replyQueue:(id)a1 reply:(id /* block */)a2;
- (void)_setLastScoreDate:(id)a0;
- (void)infoNRServingCellTypeChangedForSubscription:(id)a0;
- (void)_refreshLOIForInterfaceType:(unsigned char)a0;
- (void)_refreshRouteMetrics;
- (void)_awaitEstimatedDataTransferTimeWithCallbackOnQueue:(id)a0 completionBlock:(id /* block */)a1;
- (void)_updateICCID:(id)a0;
- (id)getOption:(id)a0;
- (int)_generateAdviceForEpoch:(id)a0 relativeTo:(id)a1;
- (id)_scoringDuty:(id)a0 forType:(int)a1 withRetCode:(int *)a2 oldestTime:(id *)a3;
- (void)_relayDataStallState:(unsigned int)a0 dnsFailureState:(unsigned int)a1;
- (void)_scoringTrampoline;
- (void)_armDOASuspector:(id)a0;
- (id)_createNetworkAttachmentIdentifierExclusionList;
- (void)_computeAndApplyLoadedLqmFrom:(int)a0 oldLqm:(int)a1 onInterfaceType:(unsigned char)a2;
- (void)wifiShim_WiFiManagerHasRestarted;
- (void)handleRRCChange;
- (void)_refreshRouteMetricsWithCallbackOnQueue:(id)a0 completionBlock:(id /* block */)a1;
- (void)_delayedKnownGoodNetworkAlert;
- (void)_awdCaptureHistorical:(id)a0 replyQueue:(id)a1 reply:(id /* block */)a2;
- (id)getPrevCellFpTimeStamp;
- (void)_registerForCellChangedNotification:(id)a0;
- (void)_awdCaptureIn:(id)a0 replyQueue:(id)a1 reply:(id /* block */)a2;
- (void)_wifiNetworkChange:(id)a0;
- (void)_disarmDOASuspector:(id)a0;
- (void)setCellEstTransferTimeSupportedStatus:(BOOL)a0;
- (BOOL)_primaryKeyChange:(id)a0 interfaceName:(id)a1 interfaceType:(unsigned char)a2 roamingEvent:(BOOL)a3;
- (void)_setRadioTechnology:(unsigned char)a0 forInterfaceType:(unsigned char)a1;
- (void)_performPeriodicTasks:(BOOL)a0;
- (BOOL)processIsAuthorizedForHistoricalSweeps:(id)a0;
- (void)setProhibitNetworkAgentsForNWParameters:(id)a0;
- (id)_getCellInternetPDPContext;
- (BOOL)_shouldAcceptRouteSource:(struct __NStatSource { } *)a0;
- (void)infoDataTransferTimeChangedForSubscription:(id)a0;
- (BOOL)_newCellTransferTimeEstimateRequired;
- (void)_certError:(id)a0;
- (void)_dnsWithSymptoms:(id)a0;
- (void).cxx_destruct;
- (void)infoDataStallChangedForSubscription:(id)a0;
- (void)_setScalarValueInNetworkAttachments:(id)a0 targetKeyPath:(id)a1 basedOn:(id)a2 matchingKeyPath:(id)a3 matchValue:(id)a4 noMatchValue:(id)a5;
- (void)_registerForSIMStatusChangeNotification:(id)a0;
- (void)_retrieveICCID;
- (void)_registerForLinkQualityNotifications:(id)a0;
- (void)processCellDataTransferTimeEnabledNotification:(id)a0;
- (void)_disarmFatalSuspector:(id)a0 withEventAt:(id)a1 by:(id)a2;
- (void)_hasNetworkAttachmentOn:(unsigned char)a0 isAny:(BOOL)a1 isBuiltin:(BOOL)a2 scopedToLOI:(long long)a3 hasCustomSignature:(id)a4 queue:(id)a5 reply:(id /* block */)a6;
- (void)_armLowQDisconnectSuspector:(id)a0;
- (void)signalStrengthChanged:(id)a0 cellularRSRP:(id)a1 cellularSNR:(id)a2;
- (void)infoLinkPowerCostChangedForSubscription:(id)a0;
- (void)performQueryPostProcessing:(id)a0 actions:(id)a1 processOutcome:(id)a2;
- (void)_cellNetworkChangeForInterface:(id)a0 roamingEvent:(BOOL)a1;

@end
