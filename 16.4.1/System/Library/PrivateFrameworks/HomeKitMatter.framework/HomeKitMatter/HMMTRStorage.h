@class NSString, MTSKeyValueStore, NSSet, NSMutableDictionary, NSOperationQueue, NSDictionary, NSObject, NSNumber;
@protocol HMMTRStorageDelegate, HMMTRFabricStorageDataSource, OS_dispatch_queue, HMMTRStorageDataSource;

@interface HMMTRStorage : HMFObject <HMFLogging, MTRPersistentStorageDelegate> {
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _lock;
}

@property (readonly, copy) NSSet *pairedNodeIDs;
@property (readonly) NSOperationQueue *keyValueStoreUpdateQueue;
@property (retain) NSMutableDictionary *localStorage;
@property (retain) NSMutableDictionary *inMemoryStorage;
@property (retain) NSMutableDictionary *appleFabricLocalStorage;
@property (retain) NSDictionary *localStorageWithoutUpdates;
@property BOOL storageSyncPending;
@property BOOL storageSyncInProgress;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *workQueue;
@property (weak) id<HMMTRStorageDelegate> delegate;
@property (readonly, getter=isLocalStorageMode) BOOL localStorageMode;
@property (retain) NSNumber *fabricMappingIndex;
@property (getter=isSystemCommissionerFabric) BOOL systemCommissionerFabric;
@property (retain) id<HMMTRFabricStorageDataSource> fabricDataSource;
@property (retain) MTSKeyValueStore *systemCommissionerKeyValueStore;
@property (weak) id<HMMTRStorageDataSource> dataSource;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)shortDescription;
+ (id)logCategory;
+ (id)chipPluginStorageKeys;
+ (BOOL)didUpdateMatterItems:(id)a0 oldStorage:(id)a1;
+ (id)formatKeyForNodeId:(id)a0 key:(id)a1;
+ (id)ignoredMatterStorageKeys;
+ (BOOL)isMatterKey:(id)a0;
+ (BOOL)isMemoryStorageKey:(id)a0;
+ (BOOL)isPluginKey:(id)a0;
+ (id)keyByStrippingNodeIdFromKey:(id)a0;
+ (id)matterItemsFromDictionary:(id)a0;
+ (id)matterStorageKeys;
+ (id)memoryStorageKeys;
+ (id)nodeIdFromPluginKey:(id)a0;
+ (id)removeRecordsForUnpairedNodesInDict:(id)a0 pairedNodes:(id)a1;
+ (BOOL)shouldIgnoreWritesForKey:(id)a0;

- (id)logIdentifier;
- (BOOL)removeValueForKey:(id)a0;
- (id)valueForKey:(id)a0;
- (void).cxx_destruct;
- (id)initWithQueue:(id)a0;
- (void)handleUpdatedCurrentFabricIndex;
- (void)handleUpdatedDataWithIsLocalChange:(BOOL)a0;
- (BOOL)setValueForKey:(id)a0 value:(id)a1;
- (BOOL)removeStorageDataForKey:(id)a0;
- (BOOL)setStorageData:(id)a0 forKey:(id)a1;
- (id)storageDataForKey:(id)a0;
- (void)_resetSystemCommissionerStorage;
- (BOOL)_syncSetDataSourceValue:(id)a0 forKey:(id)a1;
- (id)ipkForCurrentFabricMappingIndex;
- (BOOL)_handlePerFabricStorageMaybeAvailable:(id)a0;
- (void)_handleUpdatedDataWithIsLocalChange:(BOOL)a0;
- (id)_preferencesValueForKey:(id)a0;
- (BOOL)_removeAllDataSourceData;
- (void)_removeSystemCommissionerFabricNodeIDForUuid:(id)a0;
- (void)_setPreferencesValueForKey:(id)a0 value:(id)a1;
- (BOOL)_syncSetDataSourceDictionary:(id)a0;
- (void)_syncToRemoteStorage;
- (void)addPairedNodeID:(id)a0;
- (void)addPairedNodeID:(id)a0 toSystemCommissionerFabric:(BOOL)a1;
- (id)categoryForNode:(id)a0;
- (id)categoryForSystemCommissionerFabricNode:(id)a0;
- (id)configNumberForNode:(id)a0;
- (id)deviceNameForSystemCommissionerFabricNode:(id)a0;
- (void)endLocalStorageModeByPersistingAppleFabricData;
- (void)endLocalStorageModeBySyncingToRemote:(BOOL)a0;
- (id)fabricIndexForNode:(id)a0;
- (id)fabricIndexForSystemCommissioner;
- (void)handleUpdatedDataForFabricIndex:(id)a0 isLocalChange:(BOOL)a1;
- (void)handleUpdatedDataForFabricIndex:(id)a0 nodeID:(id)a1 isLocalChange:(BOOL)a2;
- (BOOL)isResidentDevice;
- (BOOL)isStagedForNode:(id)a0;
- (BOOL)isStorageCorruptForKeyValueStore:(id)a0;
- (BOOL)localStorageMode;
- (id)nodeIDForFabricIndex:(id)a0 deviceIdentifier:(id)a1;
- (id)pairedNodeIDsOnSystemCommissionerFabric:(BOOL)a0;
- (void)prepareStorageForFabricMappingIndex:(id)a0;
- (id)productIDForNode:(id)a0;
- (id)productIDForSystemCommissionerFabricNode:(id)a0;
- (void)removePairedNodeID:(id)a0;
- (void)removePairedNodeID:(id)a0 fromSystemCommissionerFabric:(BOOL)a1;
- (void)removeRecordsForNode:(id)a0;
- (void)removeRecordsForSystemCommissionerFabricNode:(id)a0;
- (BOOL)removeValueForKey:(id)a0 systemCommissionerFabric:(BOOL)a1;
- (void)resetStorage;
- (id)serialNumberForSystemCommissionerFabricNode:(id)a0;
- (void)setCategory:(id)a0 forNode:(id)a1;
- (void)setCategory:(id)a0 forSystemCommissionerFabricNode:(id)a1;
- (void)setConfigNumber:(id)a0 forNode:(id)a1;
- (void)setDeviceName:(id)a0 forSystemCommissionerFabricNode:(id)a1;
- (void)setFabricIndex:(id)a0 forNode:(id)a1;
- (void)setLocalStorageMode:(BOOL)a0;
- (void)setPairedNodeIDs:(id)a0;
- (void)setPairedNodeIDs:(id)a0 forSystemCommissionerFabric:(BOOL)a1;
- (void)setProductID:(id)a0 forNode:(id)a1;
- (void)setProductID:(id)a0 forSystemCommissionerFabricNode:(id)a1;
- (void)setSerialNumber:(id)a0 forSystemCommissionerFabricNode:(id)a1;
- (void)setSetupPayload:(id)a0 forSystemCommissionerFabricNode:(id)a1;
- (void)setStaged:(BOOL)a0 forNode:(id)a1;
- (void)setSystemCommissionerFabricIndex:(id)a0;
- (void)setSystemCommissionerFabricNodeID:(id)a0 forUuid:(id)a1;
- (void)setTopology:(id)a0 forNode:(id)a1;
- (void)setUuid:(id)a0 forSystemCommissionerFabricNode:(id)a1;
- (BOOL)setValueForKey:(id)a0 value:(id)a1 systemCommissionerFabric:(BOOL)a2;
- (void)setVendorID:(id)a0 forNode:(id)a1;
- (void)setVendorID:(id)a0 forSystemCommissionerFabricNode:(id)a1;
- (id)setupPayloadForSystemCommissionerFabricNode:(id)a0;
- (void)startLocalStorageMode;
- (id)systemCommissionerFabricNodeIDForUuid:(id)a0;
- (id)topologyForNode:(id)a0;
- (id)uuidForSystemCommissionerFabricNode:(id)a0;
- (id)valueForKey:(id)a0 systemCommissionerFabric:(BOOL)a1;
- (id)vendorIDForNode:(id)a0;
- (id)vendorIDForSystemCommissionerFabricNode:(id)a0;

@end
