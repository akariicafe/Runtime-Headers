@class WGWidgetStatsController, NSString, NSArray, NSMutableDictionary, WGWidgetPersistentStateController, NSMutableSet, WGWidgetListEditViewController, NSObject, NSMutableArray, NSPointerArray;
@protocol WGWidgetDebugging, WGWidgetDiscoveryControllerDelegate, OS_dispatch_queue;

@interface WGWidgetDiscoveryController : NSObject <WGWidgetDataSourceObserver, WGWidgetListEditViewControllerDataSource, WGWidgetListEditViewControllerDelegate, LSApplicationWorkspaceObserverProtocol> {
    NSMutableDictionary *_archive;
    NSObject<OS_dispatch_queue> *_archiveWriteQueue;
    NSMutableSet *_defaultEnabledIDs;
    NSMutableDictionary *_identifiersToDataSources;
    NSMutableDictionary *_identifiersToDatums;
    NSMutableDictionary *_dataSourceIdentifiersToDatumIdentifiers;
    NSMutableDictionary *_identifiersToWidgetInfos;
    NSMutableArray *_orderedEnabledTodayIdentifiers;
    NSArray *_orderedVisibleTodayIdentifiers;
    NSMutableArray *_orderedEnabledWidgetsIdentifiers;
    NSArray *_orderedVisibleWidgetsIdentifiers;
    NSPointerArray *_observers;
    WGWidgetPersistentStateController *_persistentStateController;
    WGWidgetStatsController *_statsController;
    NSObject<OS_dispatch_queue> *_newWidgetsCountPostQueue;
    BOOL _shouldPurgeNonCAMLSnapshots;
    BOOL _shouldPurgeNonASTCSnapshots;
}

@property (readonly, nonatomic, getter=_widgetIDsToWidgets) NSMutableDictionary *widgetIDsToWidgets;
@property (weak, nonatomic) id<WGWidgetDebugging> debuggingHandler;
@property (weak, nonatomic, setter=_setPresentedEditViewController:) WGWidgetListEditViewController *presentedEditViewController;
@property (retain, nonatomic, getter=_presentedEditViewControllerStatusBarAssertion, setter=_setPresentedEditViewControllerStatusBarAssertion:) id presentedEditViewControllerStatusBarAssertion;
@property (retain, nonatomic) NSMutableDictionary *widgetIDsToPendingTestCompletions;
@property (retain, nonatomic) NSMutableDictionary *widgetIDsToPendingTestTearDowns;
@property (weak, nonatomic) id<WGWidgetDiscoveryControllerDelegate> delegate;
@property (nonatomic) BOOL bootstrapFavoriteWidgets;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (long long)layoutModeForSize:(struct CGSize { double x0; double x1; })a0;

- (void)_setWidgetsPinned:(BOOL)a0;
- (BOOL)_setEnabled:(BOOL)a0 forElementWithIdentifier:(id)a1;
- (void)_widgetViewControllerRequestsAdd:(id)a0;
- (void)_notifyObserversOfOrderChangeForWidgetIdentifiers:(id)a0;
- (void)requestRefreshForWidget:(id)a0 afterDate:(id)a1;
- (BOOL)widgetListEditViewController:(id)a0 isItemWithIdentifierEnabled:(id)a1;
- (id)todayWidgetIdentifiers;
- (id)_newWidgetListEditViewController;
- (BOOL)shouldShowWidgetsPinningTeachingView;
- (void)registerIdentifierForRefreshEvents:(id)a0;
- (id)widgetListEditViewController:(id)a0 defaultGroupForItemWithIdentifier:(id)a1;
- (void)widgetDataSource:(id)a0 removeDatum:(id)a1;
- (id)enabledWidgetIdentifiersForAllGroups;
- (void)_dataSourcesDidChange:(id)a0;
- (void)removeDiscoveryObserver:(id)a0;
- (void)widgetEditListViewController:(id)a0 traitCollectionDidChange:(id)a1;
- (id)groupsForWidgetListEditViewController:(id)a0;
- (long long)largestAvailableDisplayModeForWidget:(id)a0;
- (void)widgetViewControllerNeedsToBeUnregisteredForRefreshNotification:(id)a0;
- (BOOL)widgetListEditViewController:(id)a0 isItemWithIdentifierNew:(id)a1;
- (void)handleWidgetLaunchRecommendation:(id)a0 completion:(id /* block */)a1;
- (void)removeWidgetIdentifiersFromToday:(id)a0;
- (void)setHasContent:(BOOL)a0 forWidgetWithIdentifier:(id)a1;
- (id)favoriteWidgetIdentifiers;
- (void)_updateFavoriteWidgetIDs:(id)a0;
- (BOOL)shouldRemoveSnapshotWhenNotVisibleForWidget:(id)a0;
- (BOOL)shouldPurgeNonASTCSnapshotsForWidget:(id)a0;
- (void)debugWidgetWithBundleID:(id)a0 options:(id)a1 completion:(id /* block */)a2;
- (BOOL)alwaysShowsFavoriteWidgets;
- (void)invalidateVisibleIdentifiers;
- (void)widget:(id)a0 didChangeUserSpecifiedDisplayMode:(long long)a1;
- (id)_defaultGroupForWidgetWithIdentifier:(id)a0;
- (BOOL)areWidgetsPinned;
- (BOOL)_isApplicationLockedOutWithProxy:(id)a0;
- (void)_calculateAndPostNewWidgetsCount;
- (void)_invalidateVisibleIdentifiersForGroup:(id)a0;
- (void)remoteViewControllerViewDidAppearForWidgetViewController:(id)a0;
- (void)presentWidgetListEditViewControllerFromViewController:(id)a0 animated:(BOOL)a1 completion:(id /* block */)a2;
- (long long)userSpecifiedDisplayModeForWidget:(id)a0;
- (BOOL)_isElementWithIdentifierEnabled:(id)a0;
- (id)_newWidgetWithIdentifier:(id)a0 delegate:(id)a1;
- (id)_updatePublicationStateOfDatumWithIdentifier:(id)a0 visibilityChanged:(BOOL)a1 contentStateChanged:(BOOL)a2 insertAtTop:(BOOL)a3 notifyingObservers:(BOOL)a4;
- (void)widgetListEditViewController:(id)a0 setEnabled:(BOOL)a1 forItemsWithIdentifiers:(id)a2;
- (void)widgetListEditViewController:(id)a0 acknowledgeInterfaceItemsWithIdentifiers:(id)a1;
- (id)_orderedVisibleIdentifiersForWidgetGroup;
- (id)_insertWidgetWithIdentifier:(id)a0 atTop:(BOOL)a1;
- (id)widgetWithIdentifier:(id)a0 delegate:(id)a1 forRequesterWithIdentifier:(id)a2;
- (void)setUserSpecifiedDisplayMode:(long long)a0 forWidgetWithIdentifier:(id)a1;
- (BOOL)_isElementWithIdentifierFavorited:(id)a0;
- (void)dismissWidgetListEditViewControllerAnimated:(BOOL)a0 completion:(id /* block */)a1;
- (BOOL)shouldPurgeNonCAMLSnapshotsForWidget:(id)a0;
- (void)_externalSourceRequestsInsertionOfWidgetWithIdentifier:(id)a0 insertAtTop:(BOOL)a1;
- (void)noteWidgetsPinningViewControllerDidDismiss:(BOOL)a0;
- (id)_orderedEnabledWidgetIdentifiersForGroup:(id)a0 includingNoContent:(BOOL)a1;
- (void)widgetDataSource:(id)a0 replaceWithDatum:(id)a1;
- (BOOL)shouldShowWidgetsPinButtonForWidgetListEditViewController:(id)a0;
- (BOOL)isElementWithIdentifierFavorited:(id)a0;
- (id)_groupForWidgetWithIdentifier:(id)a0;
- (void)deviceManagementPolicyDidChange:(id)a0;
- (void)setWidgetLoggingEnabled:(BOOL)a0;
- (id)_preferredViewControllerForPresentingFromViewController:(id)a0;
- (void)widgetListEditViewController:(id)a0 requestsIconForItemWithIdentifier:(id)a1 withHandler:(id /* block */)a2;
- (void)_widgetViewControllerDidRemoveSnapshot:(id)a0;
- (void)unregisterIdentifierForRefreshEvents:(id)a0;
- (id)disabledInterfaceItemIdentifiersForWidgetListEditViewController:(id)a0;
- (BOOL)widgetListEditViewControllerShouldShowFavorites:(id)a0;
- (void)widgetViewControllerNeedsToBeRegisteredForRefreshNotification:(id)a0;
- (void)widget:(id)a0 didEncounterProblematicSnapshotAtURL:(id)a1;
- (id)widgetListEditViewController:(id)a0 itemIdentifiersForGroup:(id)a1;
- (void)_beginObservingDataSourcesIfNecessary;
- (void)addDiscoveryObserver:(id)a0;
- (void)widgetListEditViewController:(id)a0 updateFavoritesToIdentifiers:(id)a1;
- (void)dismissWidgetListEditViewController:(id)a0 animated:(BOOL)a1 withCompletion:(id /* block */)a2;
- (void)setLargestAvailableDisplayMode:(long long)a0 forWidgetWithIdentifier:(id)a1;
- (long long)largestAvailableDisplayModeForWidgetWithIdentifier:(id)a0;
- (void)setWidgetSnapshotTimestampsEnabled:(BOOL)a0;
- (long long)userSpecifiedDisplayModeForWidgetWithIdentifier:(id)a0;
- (id)widgetListEditViewController:(id)a0 displayNameForItemWithIdentifier:(id)a1;
- (void)_requestUnlockWithCompletion:(id /* block */)a0;
- (void)_widget:(id)a0 withIdentifier:(id)a1 didRemoveSnapshotAtURL:(id)a2;
- (void)_notifyObserversOfSignificantWidgetsChange;
- (void)_widgetListEditViewControllerWillDisappear:(id)a0;
- (void)widget:(id)a0 didRemoveSnapshotAtURL:(id)a1;
- (BOOL)shouldPurgeArchivedSnapshotsForWidget:(id)a0;
- (void)widget:(id)a0 didChangeLargestAvailableDisplayMode:(long long)a1;
- (void)_notifyObserversOfVisibilityChange:(BOOL)a0 ofWidgetWithIdentifier:(id)a1 inGroup:(id)a2;
- (void)widgetListEditViewController:(id)a0 didReorderItemsWithIdentifiersInGroups:(id)a1;
- (id)_orderedVisibleIdentifiersForGroup:(id)a0;
- (id)_orderedVisibleIdentifiersForTodayGroup;
- (int)_nextSequenceNumber;
- (void)_invalidateWidgetListEditViewControllerStatusBarAssertion:(id)a0;
- (id)disabledWidgetIdentifiers;
- (id)init;
- (BOOL)_isElementWithIdentifierKnown:(id)a0;
- (BOOL)widgetListEditViewController:(id)a0 isItemWithIdentifierFavorited:(id)a1;
- (long long)_widgetListEditViewControllerStatusBarLegibilityStyle;
- (void)_applicationIconChanged:(id)a0;
- (long long)layoutModeForWidgetListEditViewController:(id)a0;
- (void)remoteViewControllerDidConnectForWidgetViewController:(id)a0;
- (void)_removeWidgetWithIdentifier:(id)a0;
- (void)_updateLockedOutStateForWidget:(id)a0 withContainingAppProxy:(id)a1;
- (void)_updateLockedOutStateForWidget:(id)a0;
- (id)_orderedEnabledIdentifiersForGroup:(id)a0;
- (id)_disabledIdentifiers;
- (void)_addDefaultPinnedWidgets;
- (id)_newWidgetListEditViewControllerStatusBarAssertion;
- (void).cxx_destruct;
- (void)widgetListEditViewController:(id)a0 didChangeWidgetsPinning:(BOOL)a1;
- (unsigned long long)visibleWidgetsCount;
- (BOOL)areWidgetsPinnedForWidgetListEditViewController:(id)a0;
- (void)beginDiscovery;
- (BOOL)widgetListEditViewControllerShouldIncludeInternalWidgets:(id)a0;
- (id)visibleWidgetIdentifiersForGroup:(id)a0;

@end
