@class CatacombStateCache, NSRecursiveLock, BKCatacomb, NSString, NSMutableDictionary, BiometricAutoBugCapture, BiometricOperation, NSMutableArray, NSObject, ActivityTracker, NSMutableSet;
@protocol OS_dispatch_queue;

@interface BiometricKitXPCServer : NSObject <CMWakeGestureDelegate, UMUserListUpdateObserver, NSXPCListenerDelegate> {
    unsigned long long _osStateHandle;
    NSMutableSet *_exportedObjects;
    BOOL _connectionsSuspended;
    unsigned int _maxTemplatesPerUser;
    unsigned int _maxSupportedUsers;
    int _activeOperationNtfToken;
    BOOL _activeOperationNtfTokenValid;
    NSObject<OS_dispatch_queue> *_activeOperationNtfQueue;
    BOOL _userListChangeDetected;
    unsigned int _backlightService;
    int _displayStatusNotifyToken;
    int _lastDisplayState;
    int _enrollChgNtfToken;
    BOOL _enrollChgNtfTokenValid;
    struct { unsigned int currentAccountUserID; unsigned char hasMultipleUserAccounts; } _userAccountsInfo;
    BOOL _userAccountsInfoValid;
    int _lockoutChgNtfToken;
    BOOL _lockoutChgNtfTokenValid;
    int _expressModeChgNtfToken;
    BOOL _expressModeChgNtfTokenValid;
    long long _expressModeState;
    NSMutableDictionary *_catacombUserUUIDs;
    NSMutableDictionary *_catacombUserKeybagUUIDs;
    int _mkbLockStatusNtfToken;
    int _connectedAccessoriesChgNtfToken;
    BOOL _connectedAccessoriesChgNtfTokenValid;
}

@property (readonly, nonatomic) struct IONotificationPort { } *notifyport;
@property (readonly, retain, nonatomic) NSObject<OS_dispatch_queue> *cmdDispatchQueue;
@property (nonatomic) BOOL ariadneSignposts;
@property (readonly, retain, nonatomic) NSMutableArray *bioOpsQueue;
@property (readonly, retain, nonatomic) NSMutableArray *activeBioOpsQueue;
@property (readonly, retain, nonatomic) BiometricOperation *runningBioOp;
@property (readonly, retain, nonatomic) ActivityTracker *ongoingCatacombSaveTimer;
@property (readonly, retain, nonatomic) ActivityTracker *ongoingBiometricOperation;
@property (readonly, retain, nonatomic) NSMutableArray *cachedIdentities;
@property (readonly, retain, nonatomic) NSRecursiveLock *catacombLock;
@property (readonly, retain, nonatomic) BKCatacomb *catacomb;
@property (nonatomic) BOOL templatesAtBoot;
@property (nonatomic) BOOL catacombFileAccessed;
@property (nonatomic) BOOL catacombRestored;
@property (readonly, nonatomic) BOOL lastDisplayState;
@property (readonly, retain, nonatomic) CatacombStateCache *catacombStateCache;
@property (retain, nonatomic) BiometricAutoBugCapture *biometricABC;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *biometricABCDispatchQueue;
@property (readonly, retain, nonatomic) NSMutableSet *accessories;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (void)initialize;

- (void)removeBioOperationOfClient:(id)a0;
- (int)performGetDeviceHardwareStateCommand:(unsigned int *)a0;
- (int)performGetIdentityRecordsCommand:(id)a0;
- (id)init;
- (void)addIdentityObject:(id)a0;
- (BOOL)isDisplayOn;
- (int)getBiometryAvailability:(long long *)a0 forUser:(unsigned int)a1 withClient:(id)a2;
- (BOOL)isCatacombAccessible;
- (int)enableMatchAutoRetry:(BOOL)a0 withClient:(id)a1;
- (int)startMatchOperation:(id)a0;
- (int)performRemoveUserDataCommand:(unsigned int)a0;
- (void)dealloc;
- (BOOL)supportsRemovableAccessories;
- (id)catacombComponentForIdentity:(id)a0;
- (int)cacheCatacombInfo;
- (int)cacheAccessories;
- (int)removeUser:(unsigned int)a0;
- (id)getLogs:(BOOL)a0 withDetails:(id *)a1;
- (int)diagnostics:(int)a0 withOptions:(id)a1 passed:(BOOL *)a2 withDetails:(id *)a3 withClient:(id)a4;
- (long long)getDeviceStateWithClient:(id)a0;
- (void)setGracePeriod:(unsigned long long)a0;
- (int)initAutoBugCapture;
- (int)parseAuthDict:(id)a0 toAuthData:(struct { unsigned int x0; unsigned int x1; unsigned char x2[32]; } *)a1;
- (unsigned int)catacombVersion;
- (int)handleCatacombUnlock;
- (int)unarchiveCatacombDataForComponent:(id)a0 fromUnarchiver:(id)a1 secureData:(id *)a2 identities:(id *)a3;
- (int)performGetIdentitiesListCommand:(unsigned int)a0 outBuffer:(id)a1;
- (id)stateDictionaryWithHints:(struct os_state_hints_s { unsigned int x0; char *x1; unsigned int x2; unsigned int x3; } *)a0;
- (id)pullMatchPolicyInfoData;
- (id)getNodeTopologyForIdentity:(id)a0 withClient:(id)a1;
- (id)getSensorInfoWithClient:(id)a0;
- (int)match:(id)a0 withOptions:(id)a1 withClient:(id)a2;
- (int)getUserUUIDsForUIDs:(id)a0 userUUIDs:(id *)a1;
- (void)addIdentityObjects:(id)a0;
- (int)performSaveBioLockoutRecordCommand:(id)a0;
- (id)createMatchEventDictionary:(struct { unsigned long long x0; unsigned char x1; struct { unsigned int x0; unsigned char x1[16]; } x2; } *)a0;
- (int)serviceStatus:(unsigned int)a0 version:(unsigned int)a1 ordinal:(unsigned long long)a2 data:(id)a3 timestamp:(unsigned long long)a4;
- (int)removePeriocularTemplatesWithOptions:(id)a0 withClient:(id)a1;
- (void)doSharedMemoryTransfers;
- (void)resumeQueuedBioOperation;
- (int)enrollContinue;
- (id)getIdentitiesDatabaseHashForUser:(unsigned int)a0 withClient:(id)a1;
- (void)accessoryRemoved:(id)a0;
- (int)enroll:(int)a0 forUser:(unsigned int)a1 withOptions:(id)a2 withClient:(id)a3;
- (int)enableBackgroundFdet:(BOOL)a0 withClient:(id)a1;
- (int)pauseFaceDetectTimer:(BOOL)a0 withClient:(id)a1;
- (int)saveCatacombIfDirtyWithInterval:(double)a0 andDelay:(double)a1;
- (id)getIdentitiesDatabaseUUIDForUser:(unsigned int)a0 withClient:(id)a1;
- (id)identities;
- (int)getExpressModeState:(long long *)a0 forUser:(unsigned int)a1 withClient:(id)a2;
- (void)enrollResult:(id)a0 withTimestamp:(unsigned long long)a1;
- (id)catacombFileNameForComponent:(id)a0;
- (void)wakeGestureManager:(id)a0 didUpdateWakeGesture:(long long)a1;
- (id)getIdentityObjectByUserID:(unsigned int)a0 UUID:(id)a1;
- (int)getCountersignedStoreToken:(id *)a0 withClient:(id)a1;
- (int)dropUnlockTokenWithClient:(id)a0;
- (void)accessoryDisconnected:(id)a0;
- (int)performGetProtectedConfigCommand:(unsigned int)a0 outSetCfg:(id *)a1 outEffectiveCfg:(id *)a2;
- (int)displayStateChanged:(BOOL)a0;
- (id)hexDumpData:(char *)a0 size:(unsigned long long)a1;
- (struct os_state_data_s { unsigned int x0; union { unsigned int x0 : 32; unsigned int x1; } x1; struct os_state_data_decoder_s { char x0[64]; char x1[64]; } x2; char x3[64]; unsigned char x4[0]; } *)osStateHandler:(struct os_state_hints_s { unsigned int x0; char *x1; unsigned int x2; unsigned int x3; } *)a0;
- (int)startEnrollOperation:(id)a0;
- (int)loadCatacombForComponent:(id)a0;
- (int)performNoCatacombCommand:(unsigned int)a0;
- (int)performCancelCommand;
- (BOOL)isClassCFileAccessible;
- (void)enrollUpdate:(id)a0 withTimestamp:(unsigned long long)a1;
- (int)initPresenceDetectOperation:(id)a0 options:(id)a1 client:(id)a2;
- (void)logCatacombUUIDForUser:(unsigned int)a0 catacombUUID:(id)a1;
- (int)filterIdentities:(id)a0 withFilter:(id)a1;
- (void)enrollFeedback:(id)a0 withTimestamp:(unsigned long long)a1;
- (BOOL)getEnabledForUnlock;
- (BOOL)listener:(id)a0 shouldAcceptNewConnection:(id)a1;
- (int)queryIdentityMigrationFailureForUser:(unsigned int)a0 failed:(BOOL *)a1 clear:(BOOL)a2 withClient:(id)a3;
- (int)performGetSKSLockStateCommand:(unsigned int)a0 outState:(unsigned int *)a1;
- (int)performPrepareSaveCatacombCommand:(id)a0 outDataSize:(unsigned int *)a1;
- (int)performSetProtectedConfigCommand:(unsigned int)a0 cfg:(id)a1 authData:(struct { unsigned int x0; unsigned int x1; unsigned char x2[32]; } *)a2;
- (unsigned int)currentAccountUserID;
- (int)removeIdentity:(id)a0 withOptions:(id)a1 withClient:(id)a2;
- (void)disconnectingClient:(id)a0;
- (unsigned long long)identitiesCount;
- (int)performSetSystemProtectedConfigCommand:(id)a0 authData:(struct { unsigned int x0; unsigned int x1; unsigned char x2[32]; } *)a1;
- (int)forceBioLockoutForUser:(unsigned int)a0 withOptions:(id)a1 withClient:(id)a2;
- (void)updateLockoutStateNotification:(unsigned int)a0;
- (int)performGetBioDeviceListCommand:(id)a0;
- (int)getDeviceHardwareState:(unsigned int *)a0 withClient:(id)a1;
- (void)clearTemplateList;
- (int)initEnrollOperation:(id)a0 biometricType:(int)a1 userID:(unsigned int)a2 options:(id)a3 client:(id)a4;
- (int)performCompleteSaveCatacombCommand:(id)a0 outBuffer:(id)a1;
- (int)performGetSystemProtectedConfigCommand:(id *)a0;
- (int)saveCatacombForIdentity:(id)a0;
- (id)identitiesOfUser:(unsigned int)a0;
- (int)registerDSID:(unsigned long long)a0 withOptions:(id)a1 withClient:(id)a2;
- (id)createPresenceDetectOperation;
- (int)setTemplate:(id)a0 forIdentity:(id)a1 withClient:(id)a2;
- (id)getIdentityObject:(struct { unsigned int x0; unsigned char x1[16]; } *)a0;
- (struct { unsigned int x0; unsigned char x1; } *)userAccountsInfo;
- (void)accessoryConnected:(id)a0;
- (void)logCatacombHashForUser:(unsigned int)a0 catacombHash:(id)a1;
- (int)startNewMatchAttemptWithClient:(id)a0;
- (int)performGetCatacombUUIDCommand:(unsigned int)a0 outUUID:(id *)a1;
- (int)performGetFreeIdentityCountCommand:(unsigned int)a0 group:(struct { unsigned int x0; unsigned char x1[16]; } *)a1 outCount:(unsigned int *)a2;
- (unsigned int)singleEnrolledUser;
- (long long)getMaxIdentityCount:(int)a0 withClient:(id)a1;
- (int)getCatacombSaveListForComponents:(id)a0 list:(id *)a1;
- (int)performMatchCommand:(id)a0;
- (int)updateIdentity:(id)a0 withOptions:(id)a1 withClient:(id)a2;
- (void)statusMessage:(unsigned int)a0 withData:(id)a1 timestamp:(unsigned long long)a2;
- (id)pairedAccessories;
- (int)getPeriocularMatchStateForUser:(unsigned int)a0 state:(long long *)a1 withClient:(id)a2;
- (int)detectPresenceWithOptions:(id)a0 withClient:(id)a1;
- (int)setProtectedConfiguration:(id)a0 forUser:(unsigned int)a1 withOptions:(id)a2 withClient:(id)a3;
- (id)pullCalibrationDataWithClient:(id)a0;
- (int)setAppleMesaSEPLoggingLevel;
- (int)processBioOperation:(id)a0;
- (int)performGetBiometrickitdInfoCommand:(struct { unsigned int x0; unsigned int x1; unsigned int x2; unsigned long long x3; unsigned char x4; unsigned char x5; unsigned char x6; } *)a0;
- (void)validateUsersKeybagUUIDs;
- (void)cacheUserAccountsInfo;
- (long long)getSensorCalibrationStatusWithClient:(id)a0;
- (int)registerStoreToken:(id)a0 withClient:(id)a1;
- (int)isValidUser:(unsigned int)a0;
- (int)performGetCatacombHashCommand:(unsigned int)a0 outHash:(id *)a1;
- (int)performGetCatacombGroupStateCommand:(id)a0;
- (id)getAccessoryObject:(struct { unsigned int x0; unsigned char x1[16]; } *)a0;
- (void)registerDelegate:(BOOL)a0 withClient:(id)a1;
- (int)setSystemProtectedConfiguration:(id)a0 withOptions:(id)a1 withClient:(id)a2;
- (void)handleSharedMemoryTransfer:(unsigned int)a0 withHeader:(id)a1 data:(id)a2;
- (int)isPeriocularEnrollmentSupported:(BOOL *)a0 withClient:(id)a1;
- (void)updateExpressModeStateNotification;
- (int)pauseBioOperation:(id)a0;
- (int)performPresenceDetectCommand:(id)a0;
- (int)performDropUnlockTokenCommand;
- (id)pullDebugImageData:(BOOL)a0 rotated:(BOOL)a1 hasWidth:(unsigned int *)a2 hasHeight:(unsigned int *)a3 withClient:(id)a4;
- (int)getPreferencesValue:(id *)a0 forKey:(id)a1 withClient:(id)a2;
- (void)updateExpressModeState;
- (int)loadCatacombAfterFirstUnlock;
- (void)updateActiveOperationNotificationWithOverride:(int)a0;
- (id)getProtectedConfigurationForUser:(unsigned int)a0 withClient:(id)a1;
- (long long)getFreeIdentityCount:(int)a0 forUser:(unsigned int)a1 withClient:(id)a2;
- (int)performDisplayStatusChangedCommand:(BOOL)a0;
- (int)performGetFreeIdentityCountCommand:(unsigned int)a0 outCount:(unsigned int *)a1;
- (void).cxx_destruct;
- (int)saveCatacomb;
- (int)updatePropertiesOfIdentities;
- (BOOL)isFingerOnWithClient:(id)a0;
- (unsigned int)serviceConnect;
- (int)performRequestMaxIdentityCountCommand:(unsigned int *)a0;
- (void)accessoryAdded:(id)a0;
- (id)pullAlignmentData;
- (void)deleteUnusedCatacombFiles;
- (void)updateEnrollmentChangedNotification:(BOOL)a0;
- (BOOL)isFingerprintModificationRestricted;
- (BOOL)fileRadarWithLogs:(id)a0 withDescription:(id)a1;
- (id)connectedAccessories;
- (void)accessoryMayHaveChanged;
- (int)archiveCatacombDataForComponent:(id)a0 toArchiver:(id)a1;
- (int)saveCatacombForComponents:(id)a0;
- (BOOL)templatesExistAtBoot;
- (void)serviceStatus:(unsigned int)a0 type:(unsigned int)a1 inValue:(void *)a2;
- (id)createEnrollOperation;
- (int)checkTemplatesValidityForUser:(unsigned int)a0;
- (int)getFreeIdentityCount:(unsigned long long *)a0 forUser:(unsigned int)a1 accessoryGroup:(id)a2 client:(id)a3;
- (BOOL)isXARTAvailableWithClient:(id)a0;
- (id)identities:(id)a0 withClient:(id)a1;
- (int)removeAllIdentitiesForUser:(unsigned int)a0 withOptions:(id)a1 withClient:(id)a2;
- (int)performLoadBioLockoutRecordCommand:(id)a0;
- (long long)getProvisioningStateWithClient:(id)a0;
- (int)initMatchOperation:(id)a0 filter:(id)a1 options:(id)a2 client:(id)a3;
- (int)performEnrollCommand:(id)a0;
- (int)performGetCatacombStateCommand:(id)a0;
- (int)getLastMatchEvent:(id *)a0 withClient:(id)a1;
- (int)performGetLastMatchEventCommand:(struct { unsigned long long x0; unsigned char x1; struct { unsigned int x0; unsigned char x1[16]; } x2; } *)a0;
- (void)suspendAllConnections:(BOOL)a0;
- (void)postGeneralLockoutStateNotification;
- (id)getCalibrationDataInfoWithClient:(id)a0;
- (int)syncTemplateListForUser:(unsigned int)a0;
- (void)updateActiveOperationNotification;
- (int)logCatacombInfo:(id)a0 data:(id)a1;
- (id)identitiesOfComponent:(id)a0;
- (int)handleFirstUnlock;
- (int)resetAppleConnectCounterWithClient:(id)a0;
- (id)getIdentityFromUUID:(id)a0 withClient:(id)a1;
- (id)pullCaptureBufferWithClient:(id)a0;
- (int)performRemoveIdentityCommand:(struct { unsigned int x0; unsigned char x1[16]; } *)a0;
- (int)performForceBioLockoutCommand:(unsigned int)a0;
- (int)checkCatacombForUser:(unsigned int)a0;
- (int)setUserDSID:(unsigned long long)a0 withOptions:(id)a1 withClient:(id)a2;
- (void)updateExpressModeStateWithEnrollmentCount:(unsigned int)a0;
- (int)getBioLockoutState:(long long *)a0 forUser:(unsigned int)a1 withClient:(id)a2;
- (id)getSystemProtectedConfigurationWithClient:(id)a0;
- (void)cacheAndSetUserAccountsInfo;
- (int)startPresenceDetectOperation:(id)a0;
- (int)startBioOperation:(id)a0;
- (int)performLoadCatacombCommand:(id)a0 inData:(id)a1;
- (int)getUserUUIDForUID:(unsigned int)a0 userUUID:(id *)a1;
- (void)switchToNextBioOperation:(BOOL)a0;
- (int)performIsXARTAvailableCommand:(BOOL *)a0;
- (void)clearTemplateListForUser:(unsigned int)a0;
- (void)userListDidUpdate;
- (int)restoreAndSyncTemplates;
- (int)completeEnrollmentWithClient:(id)a0;
- (int)listAccessories:(id *)a0 client:(id)a1;
- (int)loadCatacombForUser:(unsigned int)a0;
- (int)writeStringToPersistentLog:(id)a0;
- (BOOL)setPreferencesValue:(id)a0 forKey:(id)a1 withClient:(id)a2;
- (int)loadCatacomb;
- (void)stopBioOperationsAfterReconnect;
- (void)removeIdentityObject:(id)a0;
- (BOOL)validateAllUsers;
- (int)saveTemplateListAfterTemplateUpdate;
- (void)notifyAppIsInactive:(BOOL)a0 withClient:(id)a1;
- (int)cancelWithClient:(id)a0;
- (int)setDebugImages:(BOOL)a0 withClient:(id)a1;
- (void)timestampEvent:(unsigned long long)a0 absoluteTime:(unsigned long long)a1;
- (int)performConfirmSaveCatacombCommand:(id)a0;
- (void)matchResult:(id)a0 timestamp:(unsigned long long)a1;
- (id)getUserKeybagUUIDForUID:(unsigned int)a0;
- (int)readCatacombState;
- (id)allClients;
- (void)sendStatusMessage:(unsigned int)a0 toClient:(id)a1;
- (int)performGetTemplatesValidityCommand:(unsigned int)a0 isValid:(BOOL *)a1;
- (BOOL)hasMultipleUserAccounts;
- (void)updateExpressModeStateWithLockoutState:(unsigned int)a0;
- (int)performRequestMessageDataCommand:(unsigned long long)a0 size:(unsigned long long)a1 outData:(id *)a2;
- (id)createMatchOperation;
- (int)suspendEnrollment:(BOOL)a0 withClient:(id)a1;

@end
