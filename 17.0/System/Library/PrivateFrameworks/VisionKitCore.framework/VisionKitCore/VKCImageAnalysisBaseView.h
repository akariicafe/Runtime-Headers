@class VKCImageSubjectContext, UILabel, NSString, UIImage, VKCImageVisualSearchView, VKCImageCustomHighlightView, VKCRemoveBackgroundRequestHandler, VKCAnalysisDebugMenuProvider, NSArray, VKCImageAnalysisResult, VKCVisualSearchResultItem, NSAttributedString, VKCActionInfoView, NSObject, VKCActionInfoButton, VKCImageDataDetectorView, UIView, VKCImageTranslationView, UIImageView, VKTextRange, VKCRemoveBackgroundRequest, VKCImageTextSelectionView, UIScrollView, VKCImageSubjectHighlightView, CALayer, NSIndexSet, UIFont;
@protocol OS_dispatch_queue, VKCImageAnalysisBaseViewDelegate;

@interface VKCImageAnalysisBaseView : VKCImageBaseOverlayView <VKCImageBaseOverlayViewDelegate, VKCImageDataDetectorViewDelegate, VKCImageTextSelectionViewDelegate, VKCImageVisualSearchViewDelegate, VKCImageCustomHighlightViewDelegate, VKCImageSubjectHighlightViewDelegate, VKCImageSubjectBaseViewDelegate, VKAnalysisDebugInfoProvider, VKCActionInfoButtonDelegate, _UIScrollViewScrollObserver>

@property (retain, nonatomic) NSObject<OS_dispatch_queue> *backgroundQueue;
@property (retain, nonatomic) VKCImageTextSelectionView *textSelectionView;
@property (retain, nonatomic) VKCImageDataDetectorView *dataDetectorView;
@property (retain, nonatomic) VKCImageVisualSearchView *visualSearchView;
@property (retain, nonatomic) VKCImageTranslationView *translationView;
@property (retain, nonatomic) VKCImageCustomHighlightView *regexHighlightView;
@property (retain, nonatomic) VKCImageSubjectHighlightView *subjectHighlightView;
@property (readonly, nonatomic) VKCImageCustomHighlightView *regexHighlightViewIfExists;
@property (readonly, nonatomic) NSArray *keyPathsAffectingContentMode;
@property (nonatomic) BOOL didLogContentsRectError;
@property (nonatomic) unsigned long long checkForQuickActionsIndex;
@property (nonatomic) BOOL visibleTextAreaInfoIsValid;
@property (nonatomic) struct VKVisibleTextAreaInfo { double boundingBoxArea; double averageQuadHeight; double maxQuadHeight; double minQuadHeight; unsigned long long dataDetectors; } visibleTextAreaInfo;
@property (nonatomic) BOOL isAnalysisVisible;
@property (nonatomic) BOOL _hasActiveTextSelection;
@property (retain, nonatomic) NSArray *highlightStrings;
@property (retain, nonatomic) NSIndexSet *highlightStringsIndexSet;
@property (nonatomic) BOOL stringHighlightsActive;
@property (retain, nonatomic) UIImageView *debugImageView;
@property (retain, nonatomic) VKCRemoveBackgroundRequestHandler *removeBackgroundRequestHandler;
@property (retain, nonatomic) VKCRemoveBackgroundRequest *inProcessMaskRemoveBackgroundRequest;
@property (nonatomic) BOOL clientDidSetNormalizedRect;
@property (nonatomic) BOOL subjectHighlightFeatureFlagEnabled;
@property (nonatomic) BOOL highlightedMenuItemUpdateScheduled;
@property (retain, nonatomic) VKCActionInfoButton *copyAllQuickAction;
@property (retain, nonatomic) VKCActionInfoButton *translateQuickAction;
@property (retain, nonatomic) UILabel *textInfoView;
@property (retain, nonatomic) VKTextRange *selectedTextRangeBeforeDataDetectorMenu;
@property (retain, nonatomic) VKCAnalysisDebugMenuProvider *debugMenuProvider;
@property (weak, nonatomic) UIScrollView *scrollViewToObserve;
@property (nonatomic) long long scrollViewToObserveCount;
@property (nonatomic) BOOL actionInfoHiddenForZoomAnimation;
@property (readonly, nonatomic) double currentExtraOffsetForViewScale;
@property (weak, nonatomic) VKCVisualSearchResultItem *vsItemPresentedFromMenu;
@property (weak, nonatomic) CALayer *layerForObservingContentsRect;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } frameWhenResigningActive;
@property (weak, nonatomic) id loggingParentObject;
@property (weak, nonatomic) id<VKCImageAnalysisBaseViewDelegate> delegate;
@property (nonatomic) unsigned long long activeInteractionTypes;
@property (retain, nonatomic) VKCImageAnalysisResult *analysisResult;
@property (readonly, nonatomic) NSString *text;
@property (readonly, nonatomic) NSString *selectedText;
@property (readonly, nonatomic) NSAttributedString *selectedAttributedText;
@property (retain, nonatomic) NSArray *selectedRanges;
@property (nonatomic) BOOL isPublicAPI;
@property (nonatomic) BOOL highlightSelectableItems;
@property (nonatomic) BOOL subjectHighlightActive;
@property (readonly, nonatomic) BOOL isSubjectHighlightAvailable;
@property (readonly, nonatomic) BOOL isSubjectAnalysisComplete;
@property (readonly, nonatomic) BOOL subjectInteractionInProgress;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } subjectFrame;
@property (retain, nonatomic) UIImage *customImageForRemoveBackground;
@property (copy, nonatomic) NSIndexSet *activeSubjectIndexSet;
@property (readonly, nonatomic) NSIndexSet *allSubjectsIndexSet;
@property (nonatomic) BOOL subjectViewUserInteractionDisabled;
@property (nonatomic) BOOL _photosInfoSingleTapSubjectModeEnabled;
@property (nonatomic) BOOL longPressDataDetectorsInTextMode;
@property (nonatomic) BOOL wantsAutomaticContentsRectCalculation;
@property (readonly, nonatomic) BOOL hasActiveTextSelection;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } visibleImageRect;
@property (readonly, nonatomic) NSArray *quickActions;
@property (nonatomic) unsigned long long dataDetectorTypes;
@property (weak, nonatomic) UIView *viewForObservingContentMode;
@property (retain, nonatomic) VKCActionInfoView *actionInfoView;
@property (readonly, nonatomic) NSArray *filteredNormalizedRectangleQuads;
@property (readonly, nonatomic) NSArray *filteredRectangleQuads;
@property (readonly, nonatomic) NSArray *rawRectangleObservations;
@property (retain, nonatomic) UIFont *actionInfoCustomFont;
@property (nonatomic) BOOL isShowingTranslation;
@property (nonatomic) BOOL usesLightDimmingViewInLightMode;
@property (nonatomic) BOOL didAddVisualSearchCornerView;
@property (readonly, nonatomic) NSString *customAnalyticsIdentifier;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } contentsRect;
@property (readonly, nonatomic) VKTextRange *selectedRange;
@property (readonly, nonatomic) double totalQuadTextArea;
@property (readonly, nonatomic) double totalBoundingBoxTextArea;
@property (readonly, nonatomic) unsigned long long subjectRequestStatus;
@property (readonly, nonatomic) VKCImageSubjectContext *subjectContext;

+ (id)keyPathsForValuesAffectingHasActiveTextSelection;

- (void)setHighlightSelectableItems:(BOOL)a0 animated:(BOOL)a1;
- (void)resetSelection;
- (id)summaryDescription;
- (BOOL)analysisContainsTextAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (id)generateSubjectImage;
- (BOOL)containsVisualSearchItemAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)loadImageSubjectIfAvailableWithCompletion:(id /* block */)a0;
- (void)generateTextualVisualSearchResultForQueryInfo:(id)a0 completionHandler:(id /* block */)a1;
- (id)imageSubjectPathWithIndexes:(id)a0;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })videoPreviewNormalizedCropRect;
- (void)clearSelection;
- (void)beginImageSubjectAnalysisIfNecessary;
- (id)previewForDataDetectorElementView:(id)a0;
- (id)visualSearchResultItems;
- (void)subjectHighlightView:(id)a0 livePhotoShouldPlay:(BOOL)a1;
- (void)beginImageSubjectAnalysisIfNecessaryWithCompletion:(id /* block */)a0;
- (id)presentingViewControllerForImageAnalysisInteraction;
- (BOOL)textSelectionView:(id)a0 shouldHandleShareWithRanges:(id)a1 boundingRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a2 selectedText:(id)a3 selectedAttributedText:(id)a4;
- (struct { struct { long long x0; int x1; unsigned int x2; long long x3; } x0; struct { long long x0; int x1; unsigned int x2; long long x3; } x1; })videoPreviewTimeRange;
- (void)addMetadataToVSFeedbackItem:(id)a0;
- (void)loadImageSubjectWithIndexes:(id)a0 completion:(id /* block */)a1;
- (id)videoPreviewSubjectMatteAtCompositionTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0;
- (void)scrollViewDidZoomToUnitRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)willDisplayMenuForActionInfoButton:(id)a0;
- (void)selectAll;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })calculateNormalizedVisibleRect;
- (void)debugButtonDidTap:(id)a0;
- (void)showTopVisualSearchResult;
- (void)submitVisualSearchUserFeedbackForReportIdentifier:(id)a0 userFeedbackPayload:(id)a1 sfReportData:(id)a2;
- (void)subjectHighlightView:(id)a0 willBeginInteractionAtPoint:(struct CGPoint { double x0; double x1; })a1 withType:(unsigned long long)a2;
- (void)applicationWillResignActive:(id)a0;
- (void)generateVisualSearchResultForItems:(id)a0 queryID:(unsigned long long)a1 completionHandler:(id /* block */)a2;
- (void)_observeScrollViewDidScroll:(id)a0;
- (void)useInteractionOptions:(unsigned long long)a0;
- (BOOL)visualSearchItemView:(id)a0 shouldBeginAtPoint:(struct CGPoint { double x0; double x1; })a1;
- (void)triggerTapToRadar;
- (id)videoPreviewSubjectMatteForImage:(id)a0 atCompositionTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })a1;
- (void)highlightSubjectAtIndexSet:(id)a0 showCallout:(BOOL)a1 showBurst:(BOOL)a2 burstPoint:(struct CGPoint { double x0; double x1; })a3 animated:(BOOL)a4;
- (void)beginImageSubjectAnalysisWithDelayIfNecessary;
- (id)dataDetectorElementAtPoint:(struct CGPoint { double x0; double x1; })a0 fromTextSelectionView:(id)a1;
- (void)setContentsRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (id)init;
- (id)presentingViewControllerForInteractionWithDataDetectorView:(id)a0;
- (void)createStickerRepresentationsAtIndexSet:(id)a0 type:(unsigned long long)a1 stickerIDs:(id)a2 progress:(id /* block */)a3 completion:(id /* block */)a4;
- (void)visualSearchItemViewDidDismissController:(id)a0;
- (void)visualSearchItemViewDidActivateVSItem:(id)a0;
- (BOOL)presentVisualSearchForItem:(id)a0;
- (void)_logVisualSearchHintAvailabilityUpdate;
- (BOOL)containsActionInfoItemAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)dealloc;
- (void)scrollViewWillChange:(id)a0;
- (void)updateDebugButtonIfNecessary;
- (id)disposableFolderPath;
- (void)subjectBaseViewViewDidCompleteSubjectAnalysis:(id)a0;
- (void)copyAllToClipboard;
- (void)visualSearchView:(id)a0 analyticsEventOccured:(id)a1;
- (BOOL)containsImageSubjectAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (id)presentingViewControllerForSubjectHighlightView:(id)a0;
- (void)scrollViewDidChange:(id)a0;
- (BOOL)subjectHighlightView:(id)a0 shouldBeginInteractionAtPoint:(struct CGPoint { double x0; double x1; })a1 withType:(unsigned long long)a2;
- (void)configureForCurrentActiveInteractionTypes;
- (void)sendQuickActionAnalyticsWithDidBecomeVisible:(BOOL)a0;
- (void)subjectHighlightView:(id)a0 prepareForCalloutAction:(SEL)a1 completion:(id /* block */)a2;
- (id)textSelectionView:(id)a0 updateStringForCopy:(id)a1;
- (BOOL)visualSearchView:(id)a0 shouldShowDotForItem:(id)a1 allItems:(id)a2;
- (void)clearDataDetectorViewIfNecessary;
- (void)translateButtonPressed:(id)a0;
- (void)visualSearchItemView:(id)a0 didTapVisualSearchIndicatorWithNormalizedBoundingBox:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1;
- (void)subjectBaseView:(id)a0 analyticsEventOccurred:(id)a1;
- (void)tearDownQuickActions;
- (id)indexOfSubjectAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)loadQuickActionsIfNecessary;
- (void)textSelectionView:(id)a0 requestsDataDetectorActivationAtPoint:(struct CGPoint { double x0; double x1; })a1;
- (void)configureForActiveTypes:(unsigned long long)a0;
- (void)setNormalizedVisibleRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (id)visualSearchView:(id)a0 normalizedPathForSubjectAtNormalizedPoint:(struct CGPoint { double x0; double x1; })a1;
- (void)setFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (id)nonTextNormalizedHighlightAllQuadsForTextSelectionView:(id)a0;
- (void)setQuickActions:(id)a0;
- (void)updateSubviewsToMatchBounds;
- (void)subjectHighlightView:(id)a0 activateVSItemForNormalizedPath:(id)a1;
- (void)willHideMenuForActionInfoButton:(id)a0;
- (void)clearVisualSearchViewIfNecessary;
- (void)sendActiveInteractionTypesDidChangeAnalyticsEvent;
- (id)textSelectionView:(id)a0 closestVisualSearchItemForRange:(id)a1;
- (void)sendVisualSearchAnalyticsWithDidBecomeActive:(BOOL)a0;
- (void)updateNormalizedVisibleRect;
- (BOOL)analysisIsAllDataDetectors;
- (BOOL)dataDetectorView:(id)a0 dataDetectorInteractionShouldBeginAtPoint:(struct CGPoint { double x0; double x1; })a1;
- (id)disposableSubjectPNGURLWithTitle:(id)a0;
- (void)willDismissMenuForDataDetectorView:(id)a0;
- (id)highlightView:(id)a0 selectionRectsForRanges:(id)a1;
- (void)setBounds:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)analysisDidUpdateForTypes:(unsigned long long)a0;
- (void)willDisplayMenuForDataDetectorView:(id)a0;
- (void)clearRegexHighlightsAnimated:(BOOL)a0 updateActiveTypes:(BOOL)a1;
- (void)_updateAnalysisVisibility;
- (void)clearTextSelectionViewIfNecessary;
- (struct VKVisibleTextAreaInfo { double x0; double x1; double x2; double x3; unsigned long long x4; })calculateVisibleTextAreaInfo;
- (void)textSelectionView:(id)a0 boundsDidChangeFromRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 toRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a2;
- (BOOL)textSelectionView:(id)a0 shouldBeginAtPoint:(struct CGPoint { double x0; double x1; })a1;
- (id)dataDetectorElementPoint:(struct CGPoint { double x0; double x1; })a0 requestingView:(id)a1;
- (void)observeValueForKeyPath:(id)a0 ofObject:(id)a1 change:(id)a2 context:(void *)a3;
- (void)videoPreviewAvailableForSubjectHighlightView:(id)a0;
- (void).cxx_destruct;
- (id)previewImageForDataDetectorElementView:(id)a0;
- (void)textSelectionView:(id)a0 prepareForCalloutAction:(SEL)a1 completion:(id /* block */)a2;
- (BOOL)isSubjectHighlightShowingLivePhoto:(id)a0 delegateHasImplementation:(BOOL *)a1;
- (void)deleteDisposableFiles;
- (void)safeAreaInsetsDidChange;
- (void)convertButtonPressed:(id)a0;
- (id)hitTest:(struct CGPoint { double x0; double x1; })a0 withEvent:(id)a1;
- (void)highlightMatchesWithString:(id)a0 animated:(BOOL)a1;
- (BOOL)containsTextAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)subjectBaseViewDidBeginSubjectAnalysis:(id)a0;
- (void)test_activateTranslationOverlay;
- (void)updateAndNotifyAfterValidNormalizedVisibleRectChange;
- (void)updateNormalizedVisibleRectIfNecessary;
- (id)viewForImageSnapshotForTextSelectionView:(id)a0;
- (void)automaticallyShowVisualSearchResultsIfApplicable;
- (id)tempPNGURLForSubjectHighlightView:(id)a0;
- (void)setIdentifierIndex:(long long)a0;
- (void)actionInfoButtonDidActivatePrimaryAction:(id)a0;
- (id)hitTest:(struct CGPoint { double x0; double x1; })a0 withEvent:(id)a1 usingSubviewsOf:(id)a2;
- (void)updateAndNotifyAfterValidNormalizedVisibleRectChangeIfNecessary;
- (BOOL)containsInteractiveItemAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)layoutSubviews;
- (void)clearTranslationViewIfNecessary;
- (void)clearStringHighlightsAnimated:(BOOL)a0;
- (void)invalidateVisibleTextAreaInfo;
- (id)presentingViewControllerForTextSelectionView:(id)a0;
- (void)updateCurrentDisplayedViewContentsRect;
- (BOOL)subjectHighlightView:(id)a0 containsVSItemForNormalizedPath:(id)a1;
- (id)textSelectionView:(id)a0 updateAttributedStringForCopy:(id)a1;
- (void)copyButtonPressed:(id)a0;
- (void)subjectBaseViewViewDidCompletePath:(id)a0;
- (void)textSelectionView:(id)a0 analyticsEventOccured:(id)a1;
- (void)textSelectionView:(id)a0 selectionDidChange:(id)a1;
- (void)checkForTranslationResultsWithCompletion:(id /* block */)a0;
- (BOOL)textSelectionView:(id)a0 dataDetectorExistsAtPoint:(struct CGPoint { double x0; double x1; })a1;
- (unsigned long long)dataDetectorTypeAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)sendAnalysisDidChangeAnalyticsEvent;
- (void)didMoveToWindow;
- (void)subjectHighlightViewSubjectInteractionInProgressDidChange:(id)a0;
- (void)dataDetectorView:(id)a0 analyticsEventOccured:(id)a1;
- (void)subjectBaseViewGlowLayerActiveDidChange:(id)a0;

@end
