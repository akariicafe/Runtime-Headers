@class MFMailboxUid, NSURL, NSMutableDictionary, NSDate, NSObject, MFMailMessageLibrary, ACAccount, MFLocalActionReplayHandler, MFWeakObjectCache, NSString, MFError, NSArray, MFLock, ECAccount;
@protocol OS_os_log, EFScheduler, MFTaskManager;

@interface MailAccount : MFAccount <EFLoggable, EDReceivingAccount, EDIndexableAccount> {
    NSString *_path;
    NSString *_nonPersistentPath;
    MFMailboxUid *_rootMailboxUid;
    struct { unsigned short cacheDirtyCount : 16; unsigned char cacheHasBeenRead : 1; unsigned char disableCacheWrite : 1; unsigned short _UNUSED_ : 14; } _flags;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _flagsLock;
    MFMailboxUid *_inboxMailboxUid;
    MFMailboxUid *_draftsMailboxUid;
    MFMailboxUid *_sentMessagesMailboxUid;
    MFMailboxUid *_trashMailboxUid;
    MFMailboxUid *_archiveMailboxUid;
    MFMailboxUid *_junkMailboxUid;
    MFLock *_cachedMailboxenLock;
    MFLock *_deletionLock;
    MFError *_lastConnectionError;
    MFMailMessageLibrary *_library;
    NSMutableDictionary *_currentChokedActions;
    NSString *_mailboxCachePath;
    MFWeakObjectCache *_messageStoresCache;
}

@property (class, readonly, nonatomic) NSObject<OS_os_log> *log;
@property (class, readonly) BOOL mailboxListingNotificationsAreEnabled;
@property (class, readonly, nonatomic) NSString *csAccountTypeString;

@property BOOL cacheHasBeenRead;
@property (retain, nonatomic) id<EFScheduler> mailboxCacheWriteScheduler;
@property (retain, nonatomic) MFLocalActionReplayHandler *replayHandler;
@property (readonly, nonatomic) id<MFTaskManager> taskManager;
@property (retain, nonatomic) NSDate *lastEmailAliasesSyncDate;
@property (retain, nonatomic) NSString *lastEmailAliasesSyncEntityTag;
@property (readonly) BOOL shouldArchiveByDefault;
@property (readonly) BOOL sourceIsManaged;
@property (readonly, nonatomic) NSString *defaultPath;
@property (readonly) BOOL moveSupported;
@property (readonly, nonatomic) MFMailboxUid *rootMailbox;
@property (readonly, nonatomic) MFMailboxUid *rootMailboxUid;
@property (readonly, copy, nonatomic) NSString *mailboxPathExtension;
@property (readonly, nonatomic) BOOL supportsRemoteAppend;
@property (readonly, nonatomic) BOOL supportsFastRemoteBodySearch;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) BOOL isManaged;
@property (readonly, nonatomic) NSArray *emailAddresses;
@property (readonly, copy, nonatomic) NSString *smtpIdentifier;
@property (readonly, nonatomic) BOOL isLocalAccount;
@property (readonly, nonatomic) NSURL *accountURL;
@property (readonly, copy, nonatomic) NSString *identifier;
@property (readonly, copy, nonatomic) NSString *altDSID;
@property (readonly, nonatomic) ACAccount *systemAccount;
@property (readonly, copy, nonatomic) NSString *statisticsKind;
@property (readonly, nonatomic) BOOL primaryiCloudAccount;
@property (readonly, nonatomic) BOOL isActive;
@property (copy, nonatomic) NSString *displayName;
@property (readonly, copy, nonatomic) NSString *username;
@property (readonly, copy, nonatomic) NSArray *emailAddressStrings;
@property (copy, nonatomic) NSString *hostname;
@property (copy, nonatomic) NSString *password;
@property (readonly, nonatomic, getter=isManaged) BOOL managed;
@property (readonly, nonatomic) ECAccount *baseAccount;

+ (void)reloadAccounts;
+ (id)activeAccounts;
+ (void)initialize;
+ (id)mailAccounts;
+ (void)test_tearDown;
+ (id)defaultMailAccountForDelivery;
+ (BOOL)primaryDeliveryAccountIsDynamic;
+ (id)accountWithURL:(id)a0;
+ (void)performOnAccounts:(id)a0 accountBlock:(id /* block */)a1;
+ (id)URLForInfo:(id)a0;
+ (id)_accountContainingEmailAddress:(id)a0 matchingAddress:(id *)a1 fullUserName:(id *)a2 includingInactive:(BOOL)a3;
+ (id)_accountWithPath:(id)a0;
+ (void)_addAccountToSortedPaths:(id)a0;
+ (id)_defaultMailAccountForDeliveryIncludingRestricted:(BOOL)a0;
+ (id)_loadAllAccountsWithError:(id *)a0;
+ (id)_loadDataAccessAccountsWithError:(id *)a0;
+ (void)_postMailboxListNotificationAfterBlock:(id /* block */)a0;
+ (void)_removeAccountFromSortedPaths:(id)a0;
+ (void)_removeLookAsideValuesNotInAccountList:(id)a0;
+ (void)_setMailAccounts:(id)a0 saveIfChanged:(BOOL)a1 alreadyLocked:(BOOL)a2;
+ (void)_setOutboxMailboxUid:(id)a0;
+ (void)_setupSortedPathsForAccounts:(id)a0;
+ (id)accountContainingEmailAddress:(id)a0;
+ (id)accountContainingEmailAddress:(id)a0 includingInactive:(BOOL)a1;
+ (id)accountForHeaders:(id)a0 message:(id)a1 includingInactive:(BOOL)a2;
+ (id)accountThatMessageIsFrom:(id)a0;
+ (id)accountThatMessageIsFrom:(id)a0 includingInactive:(BOOL)a1;
+ (id)accountWithPath:(id)a0;
+ (id)accountWithURLString:(id)a0;
+ (id)accountWithUniqueId:(id)a0;
+ (id)activeAccountEmailAddresses;
+ (id)activeAccountsWithError:(id *)a0;
+ (id)activeNonLocalAccounts;
+ (id)addressesThatReceivedMessage:(id)a0;
+ (id)allActivePrimaryMailboxUids;
+ (id)allMailboxUids;
+ (id)allMailboxUidsForAccounts:(id)a0;
+ (id)allPurgeableMailboxUids;
+ (BOOL)canMoveMessagesFromAccount:(id)a0 toAccount:(id)a1;
+ (BOOL)canMoveMessagesFromAccount:(id)a0 toAccount:(id)a1 profileConnection:(id)a2;
+ (id)defaultAccountDirectory;
+ (id)defaultDeliveryAccount;
+ (id)defaultMailAccountForDeliveryExcludingRestricted;
+ (void)disableMailboxListingNotifications;
+ (void)enableMailboxListingNotifications:(BOOL)a0;
+ (id)existingAccountForUniqueID:(id)a0;
+ (id)existingAccountWithType:(id)a0 hostname:(id)a1 username:(id)a2;
+ (id)existingDAMailAccountForDAAccount:(id)a0;
+ (BOOL)getConfigurationFromServerForEmail:(id)a0;
+ (id)infoForURL:(id)a0;
+ (BOOL)isPredefinedAccountType;
+ (id)lastMailAccountsReloadDate;
+ (id)legacyPathForAccountIdentifier:(id)a0 withHostname:(id)a1 username:(id)a2;
+ (id)legacyPathNameForAccountWithHostname:(id)a0 username:(id)a1;
+ (id)mailAccountsWithError:(id *)a0;
+ (id)mailboxUidForFileSystemPath:(id)a0 create:(BOOL)a1;
+ (id)mailboxUidFromActiveAccountsForURL:(id)a0;
+ (id)newAccountWithDictionary:(id)a0;
+ (id)newAccountWithPath:(id)a0;
+ (void)notifyOfAccountsAdded:(id)a0 accountsRemoved:(id)a1 changedAccounts:(id)a2;
+ (id)outboxMailboxUid;
+ (id)outboxMessageStore:(BOOL)a0;
+ (id)predefinedValueForKey:(id)a0;
+ (id)purgeableAccounts;
+ (void)resetMailboxTimers;
+ (void)saveStateForAllAccounts;
+ (void)setMailAccounts:(id)a0;
+ (void)setMailAccounts:(id)a0 saveIfChanged:(BOOL)a1;
+ (id)standardAccountClass:(Class)a0 valueForKey:(id)a1;
+ (void)updateEmailAliasesForActiveAccounts;
+ (BOOL)usernameIsEmailAddress;

- (void)systemWillSleep;
- (void)setActive:(BOOL)a0;
- (id)initWithPath:(id)a0;
- (void)saveState;
- (void)setPortNumber:(unsigned int)a0;
- (void)dealloc;
- (void)newActionsAdded;
- (id)stateCaptureTitle;
- (BOOL)renameMailbox:(id)a0 newName:(id)a1;
- (void)setPath:(id)a0;
- (id)URLString;
- (id)connectionError;
- (id)library;
- (void)setDefaultEmailAddress:(id)a0;
- (void)invalidate;
- (id)URL;
- (void)setEmailAddresses:(id)a0;
- (BOOL)_setPath:(id)a0;
- (void)setConnectionError:(id)a0;
- (id)path;
- (id)replayAction:(id)a0;
- (void).cxx_destruct;
- (void)setLibrary:(id)a0;
- (void)addNewAction:(id)a0;
- (void)test_tearDown;
- (id)defaultEmailAddress;
- (id)loggingIdentifier;
- (void)systemDidWake;
- (void)setUsername:(id)a0;
- (BOOL)deleteMailbox:(id)a0;
- (id)fullUserName;
- (void)_didBecomeActive:(BOOL)a0;
- (BOOL)_deleteMailbox:(id)a0 reflectToServer:(BOOL)a1;
- (void)_writeCustomInfoToMailboxCache:(id)a0;
- (BOOL)checkAndSetDefaultEmailAddress:(id)a0;
- (BOOL)restrictedFromSendingExternally;
- (id)_deliveryAccountCreateIfNeeded:(BOOL)a0;
- (void)_setSpecialMailboxName:(id)a0 forType:(int)a1;
- (id)customSignature;
- (id)deliveryAccount;
- (id)displayUsername;
- (id)mailboxForType:(long long)a0;
- (id)uniqueIdForPersistentConnection;
- (id)URLForMessage:(id)a0;
- (id)URLStringFromLegacyURLString:(id)a0;
- (id)_URLForInfo:(id)a0;
- (id)_URLScheme;
- (BOOL)_assignSpecialMailboxToAppropriateIvar:(id)a0 forType:(int)a1;
- (void)_asynchronouslyInvalidateAndDeleteAccountData:(BOOL)a0;
- (id)_cachedSpecialMailboxOfType:(int)a0;
- (BOOL)_canEmptyMessagesFromMailboxUid:(id)a0;
- (id)_childOfMailbox:(id)a0 withComponentName:(id)a1;
- (BOOL)_cleanInboxDuplication:(id)a0;
- (id)_copyMailboxUidWithParent:(id)a0 name:(id)a1 attributes:(unsigned long long)a2 existingMailboxUid:(id)a3 dictionary:(id)a4;
- (id)_copyMailboxWithParent:(id)a0 name:(id)a1 attributes:(unsigned long long)a2 dictionary:(id)a3;
- (id)_defaultSpecialMailboxNameForType:(int)a0;
- (void)_deleteHook;
- (int)_emptyFrequencyForKey:(id)a0 defaultValue:(id)a1;
- (void)_incrementCacheDirtyCount;
- (id)_infoForMatchingURL:(id)a0;
- (void)_invalidateAndDeleteAccountData:(BOOL)a0;
- (void)_invalidateCachedMailboxen;
- (void)_loadEntriesFromFileSystemPath:(id)a0 parent:(id)a1;
- (BOOL)_loadMailboxListingIntoCache:(id)a0 attributes:(unsigned int)a1 children:(id)a2 parent:(id)a3;
- (id)_localMailboxNameForType:(int)a0 usingDisplayName:(id)a1;
- (id)_mailboxPathPrefix;
- (void)_mailboxesWereRemovedFromTree:(id)a0 withFileSystemPaths:(id)a1;
- (id)_newMailboxWithParent:(id)a0 name:(id)a1 attributes:(unsigned int)a2 dictionary:(id)a3 withCreationOption:(int)a4;
- (id)_pathComponentForUidName:(id)a0;
- (void)_readCustomInfoFromMailboxCache:(id)a0;
- (BOOL)_registerPushNotificationPrefix:(id)a0 forMailboxNames:(id)a1;
- (void)_registerStateCaptureHandler;
- (BOOL)_renameMailbox:(id)a0 newName:(id)a1 parent:(id)a2;
- (void)_resetAllMailboxURLs:(BOOL)a0;
- (BOOL)_resetSpecialMailboxesCanPost:(BOOL)a0;
- (void)_setAccountProperties:(id)a0;
- (BOOL)_setChildren:(id)a0 forMailboxUid:(id)a1;
- (void)_setEmptyFrequency:(int)a0 forKey:(id)a1;
- (void)_setSpecialMailbox:(id)a0 forType:(int)a1;
- (void)_setValueInAccountLookAsideProperties:(id)a0 forKey:(id)a1 subKey:(id)a2;
- (BOOL)_shouldConfigureMailboxCache;
- (BOOL)_shouldLogDeleteActivity;
- (id)_specialMailboxUidWithType:(int)a0 create:(BOOL)a1;
- (void)_synchronizeMailboxListWithFileSystem;
- (void)_synchronouslyLoadListingForParent:(id)a0;
- (id)_uidNameForPathComponent:(id)a0;
- (void)_writeMailboxCacheWithPrejudice:(BOOL)a0;
- (void)_writeMailboxCacheWithPrejudice:(BOOL)a0 completionHandler:(id /* block */)a1;
- (id)allLocalMailboxUids;
- (id)allMailMailboxUid;
- (id)allMailboxUids;
- (id)allMailboxesFilteringNotes:(BOOL)a0;
- (int)archiveDestinationForMailbox:(id)a0;
- (BOOL)canArchiveForMailbox:(id)a0;
- (BOOL)canArchiveSentMessages;
- (BOOL)canAuthenticateWithCurrentCredentials;
- (BOOL)canCreateNewMailboxes;
- (BOOL)canFetch;
- (BOOL)canMailboxBeDeleted:(id)a0;
- (BOOL)canMailboxBeRenamed:(id)a0;
- (BOOL)canReceiveNewMailNotifications;
- (BOOL)canUseCarrierDeliveryFallback;
- (BOOL)canUseDeliveryAccount:(id)a0;
- (void)changePushedMailboxUidsAdded:(id)a0 deleted:(id)a1;
- (BOOL)checkAndSetEmailAddresses:(id)a0;
- (BOOL)checkAndSetReceiveEmailAliasAddresses:(id)a0;
- (BOOL)containsMailboxWithURL:(id)a0;
- (id)copyDataForRemoteEncryptionCertificatesForAddress:(id)a0 error:(id *)a1;
- (id)copyDataForRemoteEncryptionCertificatesForAddresses:(id)a0 errors:(id *)a1;
- (id)copyReceivingEmailAddresses;
- (id)debugAccountState;
- (void)deleteDeliveryAccountIfNeeded;
- (BOOL)deleteInPlaceForAllMailboxes;
- (BOOL)deleteInPlaceForMailbox:(id)a0;
- (BOOL)deleteMailbox:(id)a0 reflectToServer:(BOOL)a1;
- (void)deleteMessagesFromMailboxUid:(id)a0 olderThanNumberOfDays:(unsigned int)a1;
- (id)deliveryAccountAlternates;
- (BOOL)deliveryAccountInUseByOtherAccounts:(id)a0;
- (void)deliveryAccountWillBeRemoved:(id)a0;
- (BOOL)derivesDeliveryAccountInfoFromMailAccount;
- (void)didFinishActionForChokePoint:(id)a0 coalescePoint:(id)a1 withResult:(id)a2;
- (id)displayNameUsingSpecialNamesForMailboxUid:(id)a0;
- (id)emailAddressesAndAliases;
- (id)emailAddressesAndAliasesList;
- (id)emailAddressesDictionary;
- (int)emptyFrequencyForMailboxType:(int)a0;
- (void)emptyTrash;
- (id)encryptionIdentityPersistentReferenceForAddress:(id)a0;
- (id)fetchLimits;
- (void)fetchMailboxList;
- (id)firstEmailAddress;
- (void)forceFetchMailboxList;
- (id)fromEmailAddresses;
- (id)fromEmailAddressesIncludingDisabled;
- (BOOL)hasEnoughInformationForEasySetup;
- (id)iconString;
- (id)initWithLibrary:(id)a0 path:(id)a1;
- (id)initWithLibrary:(id)a0 persistentAccount:(id)a1;
- (id)initWithPersistentAccount:(id)a0;
- (void)invalidateAndDelete;
- (void)invalidateEmailAliases;
- (BOOL)isAccountClassEquivalentTo:(id)a0;
- (BOOL)isActiveWithPersistentAccount:(id)a0;
- (BOOL)isEquivalentTo:(id)a0 hostname:(id)a1 username:(id)a2;
- (BOOL)isHostnameEquivalentTo:(id)a0;
- (BOOL)isMailboxLocalForType:(int)a0;
- (BOOL)isPrimaryDeliveryAccountDisabled;
- (BOOL)isSpecialMailbox:(id)a0;
- (BOOL)isUsernameEquivalentTo:(id)a0;
- (id)lastKnownCapabilities;
- (id)legacySQLExpressionToMatchAllMailboxes;
- (id)mailboxCachePath;
- (id)mailboxUidForInfo:(id)a0;
- (id)mailboxUidForRelativePath:(id)a0 create:(BOOL)a1;
- (id)mailboxUidForRelativePath:(id)a0 create:(BOOL)a1 withOption:(int)a2;
- (id)mailboxUidForURL:(id)a0;
- (id)mailboxUidOfType:(int)a0 createIfNeeded:(BOOL)a1;
- (id)mailboxesForSuggestionsLostMessageSearchPriorToTime:(double)a0;
- (id)meetingStorePersistentID;
- (BOOL)moveMailbox:(id)a0 intoParent:(id)a1;
- (BOOL)mustArchiveSentMessages;
- (BOOL)newMailboxNameIsAcceptable:(id)a0 reasonForFailure:(id *)a1;
- (id)newMailboxWithParent:(id)a0 name:(id)a1;
- (BOOL)ownsMailboxUidWithURL:(id)a0;
- (BOOL)perMessageEncryptionEnabledForAddress:(id)a0;
- (void)persistentAccountDidChange:(id)a0 previousAccount:(id)a1;
- (id)persistentNameForMailbox:(id)a0;
- (id)powerAssertionIdentifierWithPrefix:(id)a0;
- (BOOL)preventArchiveForMailbox:(id)a0;
- (id)primaryMailboxUid;
- (void)pushUpdateForAliasData;
- (id)pushedMailboxUids;
- (id)receiveEmailAliasAddresses;
- (BOOL)reconstituteOrphanedMeetingInMessage:(id)a0;
- (void)releaseAllConnections;
- (void)releaseAllForcedConnections;
- (BOOL)renameMailbox:(id)a0 newName:(id)a1 parent:(id)a2;
- (void)resetMailboxCache;
- (void)resetMailboxTimer;
- (void)resetMailboxURLs;
- (void)resetSpecialMailboxes;
- (BOOL)resetSpecialMailboxesCanPostNotifications:(BOOL)a0;
- (BOOL)restrictedFromSyncingRecents;
- (BOOL)restrictedFromTransferingMessagesToOtherAccounts;
- (id)saveSentFolder;
- (int)secureCompositionEncryptionPolicyForAddress:(id)a0;
- (int)secureCompositionSigningPolicyForAddress:(id)a0;
- (void)setCanUseCarrierDeliveryFallback:(BOOL)a0;
- (void)setCustomSignature:(id)a0;
- (void)setDeliveryAccount:(id)a0;
- (void)setDeliveryAccountAlternates:(id)a0;
- (void)setEmptyFrequency:(int)a0 forMailboxType:(int)a1;
- (void)setEnabled:(BOOL)a0 forEmailAddress:(id)a1;
- (void)setEncryptionIdentityPersistentReference:(id)a0 forAddress:(id)a1;
- (void)setFullUserName:(id)a0;
- (void)setMailboxCachePath:(id)a0;
- (void)setMailboxUid:(id)a0 forMailboxType:(int)a1;
- (void)setPrimaryDeliveryAccountDisabled:(BOOL)a0;
- (void)setReceiveEmailAliasAddresses:(id)a0;
- (void)setSigningIdentityPersistentReference:(id)a0 forAddress:(id)a1;
- (void)setValueInAccountLookAsideProperties:(id)a0 forKey:(id)a1;
- (void)setValueInAccountProperties:(id)a0 forKey:(id)a1;
- (void)setupLibrary;
- (BOOL)shouldFetchAgainWithError:(id)a0 foregroundRequest:(BOOL)a1;
- (BOOL)shouldFetchRemoteLinksWithDateReceived:(id)a0;
- (BOOL)shouldRestoreMessagesAfterFailedDelete;
- (id)signingIdentityPersistentReferenceForAddress:(id)a0;
- (id)specialMailboxNameForType:(int)a0;
- (void)startListeningForNotifications;
- (void)stopListeningForNotifications;
- (Class)storeClass;
- (Class)storeClassForMailbox:(id)a0;
- (id)storeForMailboxUid:(id)a0;
- (BOOL)supportsAppend;
- (BOOL)supportsArchiving;
- (BOOL)supportsHandoffType:(id)a0;
- (BOOL)supportsMailDrop;
- (BOOL)supportsMailboxEditing;
- (BOOL)supportsMessageFlagging;
- (BOOL)supportsPurge;
- (BOOL)supportsSyncingReadState;
- (BOOL)supportsThreadOperations;
- (BOOL)supportsUserPushedMailboxes;
- (void)test_setTaskManager:(id)a0;
- (id)transferDisabledMailboxUids;
- (void)transferNotificationSessionToAccount:(id)a0;
- (id)unactionableInvitationICSRepresentationInMessage:(id)a0 summary:(id *)a1;
- (id)uniqueServerIdForMessage:(id)a0;
- (id)unsupportedHandoffTypes;
- (void)updateEmailAliasesIfNeeded;
- (id)valueInAccountLookAsidePropertiesForKey:(id)a0;
- (BOOL)willPerformActionForChokePoint:(id)a0 coalescePoint:(id)a1 result:(id *)a2;

@end
