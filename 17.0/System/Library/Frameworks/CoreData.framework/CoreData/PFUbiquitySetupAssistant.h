@class NSURL, NSMutableDictionary, PFUbiquityKnowledgeVector, PFUbiquityPeerState, PFUbiquitySwitchboardEntry, NSObject, NSError, PFUbiquityBaseline, NSMutableArray, PFUbiquityMigrationManager, NSString, _PFUbiquityStack, PFUbiquityPeerReceipt, PFUbiquityLocation, NSMutableSet, PFUbiquityStoreMetadata, PFUbiquityContainerIdentifier, NSPersistentStore, NSPersistentStoreCoordinator, PFUbiquityMigrationAssistant;
@protocol OS_dispatch_semaphore, NSCoding, NSObject, NSCopying;

@interface PFUbiquitySetupAssistant : NSObject {
    NSMutableDictionary *_options;
    NSPersistentStoreCoordinator *_psc;
    NSPersistentStore *_store;
    NSString *_storeType;
    NSURL *_storeURL;
    NSURL *_actualStoreFileURL;
    NSMutableDictionary *_storeMetadataDict;
    BOOL _needsMetadataWrite;
    PFUbiquityKnowledgeVector *_storeKV;
    BOOL _ubiquityEnabled;
    id<NSObject, NSCopying, NSCoding> _ubiquityIdentityToken;
    NSURL *_ubiquityRootURL;
    NSString *_ubiquityRootSubpath;
    NSString *_ubiquityName;
    NSString *_ubiquityContainerIdentifier;
    NSString *_localPeerID;
    NSString *_modelVersionHash;
    NSString *_previousModelVersionHash;
    PFUbiquityLocation *_ubiquityRootLocation;
    PFUbiquityLocation *_localRootLocation;
    _PFUbiquityStack *_stack;
    PFUbiquityStoreMetadata *_storeMetadata;
    PFUbiquityPeerState *_localPeerState;
    PFUbiquityKnowledgeVector *_metaKV;
    PFUbiquityBaseline *_baseline;
    BOOL _baselineFileExistsInCloud;
    BOOL _hasUploadingBaseline;
    BOOL _monitorUploadingBaselineAsync;
    BOOL _didBaselineCopy;
    PFUbiquityKnowledgeVector *_baselineKV;
    BOOL _votedOffIsland;
    BOOL _reapUbiquitousLogs;
    BOOL _respondToBaselineRoll;
    BOOL _storeFileExists;
    BOOL _storeFileIsReadOnly;
    BOOL _hasStoreMetadataFile;
    BOOL _hasStoreMetadataEntry;
    BOOL _hasContainerUUID;
    BOOL _hasContainerUUIDInStore;
    BOOL _needsMetadataRecovery;
    PFUbiquityPeerReceipt *_localPeerReceipt;
    PFUbiquityKnowledgeVector *_receiptKV;
    PFUbiquityContainerIdentifier *_containerIdentifier;
    NSString *_preStoreContainerUUID;
    BOOL _usedExistingUUIDMapping;
    BOOL _hasLocalTransactionLogs;
    BOOL _hasMigrationOptions;
    BOOL _didMigrateBaseline;
    BOOL _storeWasMigrated;
    PFUbiquityMigrationAssistant *_migrationAssistant;
    PFUbiquityMigrationManager *_migrationManager;
    BOOL _replayLogsSynchronously;
    BOOL _useLocalAccount;
    BOOL _seedStore;
    NSURL *_seedStoreURL;
    BOOL _haveExistingUUIDMappings;
    BOOL _abortSetup;
    PFUbiquitySwitchboardEntry *_entry;
    BOOL _gotExportNotification;
    int _sideLoadLock;
    NSMutableSet *_logLocationsExportedDuringSideLoad;
    NSMutableDictionary *_gidToRid;
    NSMutableDictionary *_entityNameToGidSet;
    NSObject<OS_dispatch_semaphore> *_initialSyncSemaphore;
    int _initialSyncComplete;
    NSMutableArray *_queryLocations;
    BOOL _notifyAboutSetupProgress;
    long long _numSetupTries;
    unsigned long long _retryDelaySec;
    BOOL _failSetup;
    NSError *_failSetupError;
    BOOL _gotAccountChange;
    BOOL _cacheFilePresenterForUbiquityRoot;
}

- (id)init;
- (void)dealloc;
- (void)coordinatorWillRemoveStore:(id)a0;
- (void)exportedLog:(id)a0;
- (id)initWithPersistentStoreCoordinator:(id)a0 andStoreOptions:(id)a1 forPersistentStoreOfType:(id)a2 atURL:(id)a3;
- (void)ubiquityIdentityTokenChanged:(id)a0;

@end
